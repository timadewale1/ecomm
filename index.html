<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Get Started - My Thrift</title>
    <meta
      name="description"
      content="Begin your shopping journey with My Thrift – discover affordable fashion, accessories, and unique finds from a diverse range of vendors, all at your fingertips."
    />
    <meta name="author" content="My Thrift" />
    <meta name="custom-test-meta" content="helmet" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta property="og:type" content="website" />
    <meta property="og:title" content="Get Started - My Thrift" />
    <meta
      property="og:description"
      content="Begin your shopping journey with My Thrift – discover affordable fashion, accessories, and unique finds from a diverse range of vendors, all at your fingertips."
    />
    <meta property="og:image" content="" />
    <meta property="og:url" content="" />
    <meta property="og:site_name" content="My Thrift" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Get Started - My Thrift" />
    <meta
      name="twitter:description"
      content="Begin your shopping journey with My Thrift – discover affordable fashion, accessories, and unique finds from a diverse range of vendors, all at your fingertips."
    />
    <meta name="twitter:image" content="" />
    <meta name="twitter:url" content="" />
    <meta name="twitter:creator" content="@mythriftng" />

    <link rel="icon" href="./logo512.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playwrite+CU:wght@100..400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Playwrite+CU:wght@100..400&display=swap"
      rel="stylesheet"
    />
    <script src="https://js.paystack.co/v2/inline.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Bodoni+Moda+SC:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
      rel="stylesheet"
    />
    <meta name="theme-color" content="#000000" />

    <!-- Splash screens for iPhone SE to iPhone 16 Pro Max -->
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2224-1668.jpg"
      media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2266-1488.jpg"
      media="(device-width: 1133px) and (device-height: 744px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2360-1640.jpg"
      media="(device-width: 1180px) and (device-height: 820px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2388-1668.jpg"
      media="(device-width: 1194px) and (device-height: 834px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2436-1125.jpg"
      media="(device-width: 812px) and (device-height: 375px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2532-1170.jpg"
      media="(device-width: 844px) and (device-height: 390px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2556-1179.jpg"
      media="(device-width: 852px) and (device-height: 393px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2560-1600.jpg"
      media="(device-width: 1280px) and (device-height: 800px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2622-1206.jpg"
      media="(device-width: 874px) and (device-height: 392px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2688-1242.jpg"
      media="(device-width: 896px) and (device-height: 414px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2732-2048.jpg"
      media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2778-1284.jpg"
      media="(device-width: 926px) and (device-height: 428px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2796-1290.jpg"
      media="(device-width: 932px) and (device-height: 430px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-640-1136.jpg"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-750-1334.jpg"
      media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-828-1792.jpg"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1125-2436.jpg"
      media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1136-640.jpg"
      media="(device-width: 568px) and (device-height: 320px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1170-2532.jpg"
      media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1179-2556.jpg"
      media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1206-2622.jpg"
      media="(device-width: 392px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1242-2208.jpg"
      media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1242-2688.jpg"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1284-2778.jpg"
      media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1290-2796.jpg"
      media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1334-750.jpg"
      media="(device-width: 667px) and (device-height: 375px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1488-2266.jpg"
      media="(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1536-2048.jpg"
      media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1640-2360.jpg"
      media="(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1668-2224.jpg"
      media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1668-2388.jpg"
      media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-1792-828.jpg"
      media="(device-width: 896px) and (device-height: 414px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2048-1536.jpg"
      media="(device-width: 1024px) and (device-height: 768px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2208-1242.jpg"
      media="(device-width: 736px) and (device-height: 414px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2360-1640.jpg"
      media="(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="./apple-splash-2388-1668.jpg"
      media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"
    />

    <link rel="manifest" href="./manifest.json" />

    <style>
      .splash {
        width: 100vw;
        object-fit: cover;
        margin-bottom: 130px;
      }
      #custom-loading-screen {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #fff;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        z-index: 9999;
      }
    </style>
    <script>
      window.ios = (
        navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1
      ) || /iPhone|iPad|iPod/i.test(navigator.userAgent);
    
      window.pwa = window.matchMedia("(display-mode: standalone)").matches;
    </script>
    <script>
      function isIOSInAppWebView() {
        const ua = navigator.userAgent || "";
        const isIOS = /iPhone|iPad|iPod/.test(ua);
        const isInApp = /Instagram|Snapchat/.test(ua);
        return isIOS && isInApp;
      }

      setTimeout(() => {
        if (isIOSInAppWebView()) {
          // Create the wrapper div
          const wrapper = document.createElement("div");
          wrapper.style.cssText = `
        opacity: 0;
        transition: opacity 1s ease-in-out;
        padding: 2rem;
        font-family: sans-serif;
        text-align: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: white;
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
      `;

          // Inner content
          wrapper.innerHTML = `
        <div>
          <h2 style="margin-bottom: 1rem;">😵 Stuck on a blank page?</h2>
          <p>Looks like you're browsing from an app that doesn’t support this experience.</p>
          <p>Tap the "..." in the top-right and select <strong>“Open in Browser”</strong> to continue!</p>
          <p style="margin-top: 1rem;">✨ See you on the other side! ✨</p>
        </div>
      `;

          // Append to body and trigger fade-in
          document.body.appendChild(wrapper);
          requestAnimationFrame(() => {
            wrapper.style.opacity = 1;
          });
        }
      }, 4000);
    </script>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.jsx"></script>
    <div id="custom-loading-screen">
      <img
        class="splash"
        src="./apple-splash-1284-2778.jpg"
        alt="Splash Screen"
      />
    </div>

    <!-- Main Scripts -->
    <script>
      // We'll store the event here for React to access later
      window.beforeInstallEvent = null;
      

      function handleBeforeInstallPrompt(e) {
        console.log("[index.html] Captured beforeinstallprompt");
        e.preventDefault();
        window.beforeInstallEvent = e; // store globally
      }

      // If it's not iOS, attach the event listener as early as possible
      if (!window.ios) {
        window.addEventListener(
          "beforeinstallprompt",
          handleBeforeInstallPrompt
        );
      }
      // Check if the app is running in PWA mode
      const isPWA = window.matchMedia("(display-mode: standalone)").matches;
      const isIOS =
        /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

      // Set viewport height for mobile (using --vh)
      function setViewportHeight() {
        let vh = window.innerHeight * 0.01; // 1% of viewport height
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }
      setViewportHeight();
      window.addEventListener("resize", setViewportHeight);

      // When the DOM is fully loaded
      document.addEventListener("DOMContentLoaded", () => {
        const loadingScreen = document.getElementById("custom-loading-screen");
    
        // Display the loading screen only in PWA mode (if desired)
        if (loadingScreen) {
          loadingScreen.style.display = isPWA && isIOS ? "flex" : "none";
        }
      });

      // Fallback: Hide loading screen after 5 seconds (if still visible)
      setTimeout(() => {
        const loadingScreen = document.getElementById("custom-loading-screen");
        if (loadingScreen) {
          loadingScreen.style.display = "none";
        }
      }, 5000);
    </script>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBICThXpl7hpROS8dj3mK4tXP84fs7aTwo&libraries=places"
      async
      defer
    ></script>
    <script
      async
      src="https://static.sppopups.com/assets/loader.js"
      data-chats-widget-id="e3193fb3-f356-4967-a371-86f84e6e95ef"
    ></script>
    <script>
      // Configure HelpCrunch to not display the widget by default
      window.helpcrunchSettings = {
        organization: "mythrift",
        appId: "97d979c8-ad04-42dc-9237-82d58f75031b",
        showWidget: false, // Widget hidden by default
      };

      (function (w, d) {
        var hS = w.helpcrunchSettings;
        if (!hS || !hS.organization) {
          return;
        }
        var widgetSrc = "https://embed.helpcrunch.com/sdk.js";
        w.HelpCrunch = function () {
          w.HelpCrunch.q.push(arguments);
        };
        w.HelpCrunch.q = [];
        function r() {
          if (d.querySelector('script[src="' + widgetSrc + '"]')) {
            return;
          }
          var s = d.createElement("script");
          s.async = 1;
          s.type = "text/javascript";
          s.src = widgetSrc;
          d.body.appendChild(s);
        }
        if (d.readyState === "complete" || hS.loadImmediately) {
          r();
        } else if (w.attachEvent) {
          w.attachEvent("onload", r);
        } else {
          w.addEventListener("load", r, false);
        }
      })(window, document);

      // Ensure HelpCrunch widget is hidden after initialization
      window.HelpCrunch &&
        window.HelpCrunch("onReady", function () {
          console.log("HelpCrunch widget loaded and hidden by default.");
          window.HelpCrunch("hideChatWidget");
        });
    </script>
  </body>
</html>
