class t{filterOutNonSupportedKeys(t,e){const r=Object.create({});return"object"!=typeof(n=t)||n instanceof Array?Object.create({}):(Object.keys(t).forEach((n=>{e.indexOf(n)>=0&&(r[n]=t[n])})),r);var n}}const e=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class r extends t{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,e);Object.assign(this,{secure:!0},r)}extend(t){const n=this.filterOutNonSupportedKeys(t,e);return new r(Object.assign({},this,n))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}let n=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return null!=t&&""!==t}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter((t=>this.hasValue(t))),this}setDelimiter(t){return this.delimiter=t,this}},i=class extends Error{constructor(t="Unsupported"){super(t)}};function o(t){return new i(t)}function s(){return this._qualifierModel||{error:o(`unsupported qualifier ${this.constructor.name}`)}}let a=class{constructor(){this._qualifierModel={}}toJson(){return s.apply(this)}},u=class extends a{constructor(t,e){super(),this.delimiter="_",this.key=t,e instanceof n?this.qualifierValue=e:(this.qualifierValue=new n,this.qualifierValue.addValue(e))}toString(){const{key:t,delimiter:e,qualifierValue:r}=this;return`${t}${e}${r.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},c=class extends u{constructor(t,e){let r;r=e?new n([t,`${e}`]).setDelimiter(":"):t,super("fl",r),this.flagValue=e}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function l(){var t,e,r;const n=this._actionModel&&Object.keys(this._actionModel).length,i=null===(r=null===(e=null===(t=this._actionModel)||void 0===t?void 0:t.source)||void 0===e?void 0:e.transformation)||void 0===r?void 0:r.error;return i&&i instanceof Error?{error:i}:n?this._actionModel:{error:o(`unsupported action ${this.constructor.name}`)}}let h=class{constructor(){this._actionModel={}}toJson(){return l.apply(this)}},d=class extends h{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),function(t,e){const r=Array.from(t.entries());return e.forEach((t=>{r.push(["fl",t])})),r.sort().map((t=>t[1]))}(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if("string"==typeof t){const[e,r]=t.toLowerCase().split("_");"fl"===e?this.flags.push(new c(r)):this.qualifiers.set(e,new u(e,r))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return"string"==typeof t?this.flags.push(new c(t)):t instanceof c&&this.flags.push(t),this}addValueToQualifier(t,e){return this.qualifiers.get(t).addValue(e),this}};let f=class extends d{constructor(t){super(),this._actionModel={},this.addQualifier(new u("b",new n(function(t){return t&&t.match(/^#/)?`rgb:${t.substr(1)}`:t}(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:e}=t;return new this(e)}},p=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:o(`unsupported action ${this.constructor.name}`)}}};let g=class extends n{constructor(t){super(t),this.val=t}getValue(){return this.val}};function y(t){const e={};return Object.keys(t).forEach((r=>{e[t[r]]=r})),e}const m={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"};y({444:"CHROMA_444",420:"CHROMA_420"}),y({noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"});const v=y(m),_=y({colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"});y({redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"}),y({autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"}),y({fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"});let w=class extends d{constructor(t,e,r){let n;super(),this._actionModel={},n=e instanceof g?e.getValue():e,this._actionModel.actionType=_[t],this._actionModel[r]=n,this.addQualifier(new u(t,e))}},b=class extends c{constructor(t){super("progressive",t)}},x=class extends w{constructor(t,e){super(t,e,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(new c("lossy")),this}progressive(t){return t instanceof b?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(function(t){return new c("progressive",t)}(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(new c("preserve_transparency")),this}static fromJson(t){const{formatType:e,lossy:r,progressive:n,preserveTransparency:i}=t;let o;return o=e?new this("f",e):new this("f"),n&&(n.mode?o.progressive(n.mode):o.progressive()),r&&o.lossy(),i&&o.preserveTransparency(),o}},S=class t{constructor(){this.actions=[]}addAction(t){let e;if("string"==typeof t){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";e=new p(t)}else e=t;return this.actions.push(e),this}addTransformation(e){return e instanceof t?this.actions=this.actions.concat(e.actions):this.actions.push(new p(e)),this}toString(){return this.actions.map((t=>t.toString())).filter((t=>t)).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new x("q",t)),this}format(t){return this.addAction(new x("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new f(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const e=new d;let r=t;return"string"==typeof t&&(r=new c(t)),e.addQualifier(r),this.addAction(e)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if("error"in(e=n)&&e.error)return n;t.push(n)}var e;return{actions:t}}};class j extends S{}class $ extends S{}function T(t){const e=t.toString();if(e.match(/[A-Z]/gi))return e;if(e.length>1&&"0"===e[0])return e;return!isNaN(parseFloat(e))&&-1===e.indexOf(":")&&-1===e.indexOf(".")?`${e}.0`:e}let O=class extends n{},k=class extends d{constructor(t,e,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=v[t]||t,this.addQualifier(new u("c",t)),e&&this.width(e),r&&this.height(r)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new u("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new u("w",t))}aspectRatio(t){return t instanceof O?(this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new u("ar",t))):"number"==typeof t||"string"==typeof t?(this._actionModel.dimensions.aspectRatio=T(t),this.addQualifier(new u("ar",T(t)))):t instanceof c?(this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)):void 0}relative(){return this._actionModel.relative=!0,this.addFlag(new c("relative"))}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(new c("region_relative"))}static fromJson(t){const{actionType:e,dimensions:r,relative:n,regionRelative:i}=t,{aspectRatio:o,width:s,height:a}=r,u=new this(m[e]||e,s,a);return o&&u.aspectRatio("ignore_aspect_ratio"===o?new c("ignore_aspect_ratio"):o),n&&u.relative(),i&&u.regionRelative(),u}},A=class extends u{constructor(t){super("g",new n(t))}},M=class extends A{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},C=class extends A{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},V=class extends A{constructor(t){super(t)}};function E(...t){const e=[...t];return new C(e)}function R(){return new M}let L=class extends n{constructor(t){super(),this.name=t}toString(){return this.name}};function q(t){return`${t}`.replace("g_","")}function P(t){const e=t.toString().split("_"),r={object:e[0]};return e.length>1&&("avoid"===e[1]?r.avoid=!0:r.weight=+e[1]),r}function F(t){let e;const r="auto"===t?new M:t;e=`${t}`.startsWith("auto:")?`${t}`.split(":").filter((t=>"auto"!==t)):r.qualifierValue.values.filter((t=>"auto"!==t));return{gravityType:"auto",autoFocus:e.map(P)}}function Q(t){return function(t){const e=q(t);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}(t)?function(t){return{compass:q(t),gravityType:"direction"}}(t):function(t){return"ocr_text"===q(t)}(t)?{gravityType:"ocr"}:function(t){return t&&"auto"===`${t}`.split(":")[0]}(t)||function(t){return"auto"===`${t.qualifierValue}`.split(":")[0]}(t)?F(t):function(t){const e=`${t}`.split(":").includes("auto"),r=t.qualifierValue.values,n={gravityType:"object",focusOnObjects:(e?r.slice(0,r.length-1):r).map((t=>`${t}`))};if(e){const t=r[r.length-1].values.slice(1),e=R().autoFocus(...t);n.fallbackGravity=F(e)}return n}("string"==typeof t?function(t){const e=t.split(":").map((t=>new L(t)));return new C(e)}(t):t)}let U=class t extends n{constructor(t,e){super(),this._weight=e,this.focusOn=t,this.shouldAvoid=!1}static focusOn(e,r){return new t(e,r)}shouldAddWeight(){return"number"==typeof this._weight||"string"==typeof this._weight||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},D=class extends n{constructor(t){super(),this.val=t}toString(){return this.val}};function I(t){const{object:e,weight:r,avoid:n}=t,i=new U(new L(e));return(r||0===r)&&i.weight(r),n&&i.avoid(),i}function z(t){const e=(t.autoFocus||[]).map(I);return R().autoFocus(...e)}function J(t){return function(t){return"direction"===t.gravityType}(t)?new V(new D(t.compass)):function(t){return"ocr"===t.gravityType}(t)?E(new L("ocr_text")):function(t){return"auto"===t.gravityType}(t)?z(t):function(t){const e=E(...(t.focusOnObjects||[]).map((t=>new L(t))));if(t.fallbackGravity){const r=z(t.fallbackGravity);e.fallbackGravity(r)}return e}(t)}let N=class extends k{gravity(t){this._actionModel.gravity=Q(t);const e="string"==typeof t?new u("g",t):t;return this.addQualifier(e)}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.gravity&&e.gravity(J(t.gravity)),e}};function G(t,e){return new k("fit",t,e)}function W(t,e){return new N("auto",t,e)}function B(t,e,r){let n=e|0,i=String(r);return t.length>n?String(t):(n-=t.length,n>i.length&&(i+=function(t,e){let r=e,n="";for(;r>0;)n+=t,r--;return n}(i,n/i.length)),i.slice(0,n)+String(t))}const H={};let K=0;function Y(t){let e="";const r=6*t.split(".").length,n=function(t){if(t.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return t.split(".").reverse().join(".")}(t),i=function(t){if(t.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return t.split(".").map((t=>{const e=+t;if(isNaN(e)||e<0)throw"Invalid version number provided";return B(t,2,"0")})).join(".")}(n);let o=parseInt(i.split(".").join("")).toString(2);if(o=B(o,r,"0"),o.length%6!=0)throw"Version must be smaller than 43.21.26)";return o.match(/.{1,6}/g).forEach((t=>{e+=H[t]})),e}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((t=>{let e=K.toString(2);e=B(e,6,"0"),H[e]=t,K++}));function Z(){const t="0.0.0";if("undefined"!=typeof window)return t;try{return process.versions.node||t}catch(e){return t}}function X(t){const e=function(t){const e={sdkSemver:t.sdkSemver,techVersion:t.techVersion,sdkCode:t.sdkCode,product:t.product,feature:"0",osType:t.osType,osVersion:t.osVersion};return t.accessibility&&(e.feature="D"),t.lazyload&&(e.feature="C"),t.responsive&&(e.feature="A"),t.placeholder&&(e.feature="B"),e}(function(t){const e={techVersion:Z(),sdkCode:"T",sdkSemver:"1.19.0".split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return t?Object.assign(Object.assign({},e),t):e}(t));try{const t=function(t){const e=t.split(".");return`${e[0]}.${e[1]}`}(e.techVersion),r=Y(e.sdkSemver),n=Y(t),i=function(t){const[e,r]=t.split("."),n=parseInt(e).toString(2),i=parseInt(r).toString(2),o=n.padStart(6,"0"),s=i.padStart(6,"0");return H[o]+H[s]}(e.osVersion),o=e.feature,s=e.sdkCode,{product:a,osType:u}=e;return`${"D"}${a}${s}${r}${n}${u}${i}${o}`}catch(r){return"E"}}const tt={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class et{constructor(t,e={},r){this.setPublicID(t),this.setCloudConfig(e),this.setURLConfig(r)}setURLConfig(t){return this.urlConfig=new r(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(void 0===this.cloudName)throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,e=this.suffix&&this.suffix.indexOf("/")>=0;if(t||e)throw"`suffix`` should not include . or /"}getResourceType(){const t=function(t){return t||"image"}(this.assetType),e=function(t){return t||"upload"}(this.deliveryType),r=!!this.suffix,n=`${t}/${e}`,i=tt[`${t}/${e}`],o=this.urlConfig.useRootPath,s=this.urlConfig.shorten;if(o){if("image/upload"===n)return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${n} instead`)}if(s&&"image/upload"===n)return"iu";if(r){if(i)return i;throw new Error(`URL Suffix only supported for ${Object.keys(tt).join(", ")}, Provided: ${n} instead`)}return n}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,e){if(!this.publicID)return"";this.validateAssetForURLCreation();const r=function(t,e){const r=e.secure,n=e.privateCdn,i=e.cname,o=e.secureDistribution;return r||i?r&&!o&&n?`https://${t}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${t}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${t}`:!r&&i?`http://${i}/${t}`:"ERROR":`http://res.cloudinary.com/${t}`}(this.cloudName,this.urlConfig),n=t?t.toString():"",i=function(t,e,r){const n=!1!==r;return e?`v${e}`:function(t){return t.match(/^v[0-9]+/)}(t)||function(t){return t.match(/^https?:\//)}(t)||function(t){return t.indexOf("/")<0}(t)?"":n?"v1":""}(this.publicID,this.version,this.urlConfig.forceVersion),o=this.publicID;if("string"==typeof t){return[r,this.getResourceType(),this.getSignature(),n,i,o.replace(/,/g,"%2C"),this.suffix].filter((t=>t)).join("/")}{const t=[encodeURI(r),this.getResourceType(),this.getSignature(),encodeURI(n),i,encodeURI(o).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter((t=>t)).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),a=!1!==this.urlConfig.analytics&&!o.includes("?");let u="";if("object"==typeof this.urlConfig.queryParams)try{const t=new URLSearchParams(this.urlConfig.queryParams);a&&t.set("_a",X(e)),u=t.toString()}catch(s){}else u=this.urlConfig.queryParams||"",a&&(u+=`${u.length>0?"&":""}_a=${X(e)}`);return u?`${t}?${u}`:t}}}class rt extends et{constructor(t,e,r,n){super(t,e,r),this.transformation=n}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new x("q",t)),this}format(t){return this.addAction(new x("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,null==t?void 0:t.trackedAnalytics)}}class nt extends rt{constructor(t,e,r){super(t,e,r,new j)}}class it extends rt{constructor(t,e,r){super(t,e,r,new $),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class ot{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new nt(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new it(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}var st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},at={exports:{}};!function(t,e){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",u="[object GeneratorFunction]",c="[object Map]",l="[object Number]",h="[object Object]",d="[object Promise]",f="[object RegExp]",p="[object Set]",g="[object String]",y="[object Symbol]",m="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",$="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",A=/\w*$/,M=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,V={};V[i]=V["[object Array]"]=V[v]=V[_]=V[o]=V[s]=V[w]=V[b]=V[x]=V[S]=V[j]=V[c]=V[l]=V[h]=V[f]=V[p]=V[g]=V[y]=V[$]=V[T]=V[O]=V[k]=!0,V["[object Error]"]=V[a]=V[m]=!1;var E="object"==typeof st&&st&&st.Object===Object&&st,R="object"==typeof self&&self&&self.Object===Object&&self,L=E||R||Function("return this")(),q=e&&!e.nodeType&&e,P=q&&t&&!t.nodeType&&t,F=P&&P.exports===q;function Q(t,e){return t.set(e[0],e[1]),t}function U(t,e){return t.add(e),t}function D(t,e,r,n){for(var i=-1,o=t?t.length:0;++i<o;)r=e(r,t[i],i,t);return r}function I(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function J(t,e){return function(r){return t(e(r))}}function N(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var G,W=Array.prototype,B=Function.prototype,H=Object.prototype,K=L["__core-js_shared__"],Y=(G=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=B.toString,X=H.hasOwnProperty,tt=H.toString,et=RegExp("^"+Z.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=F?L.Buffer:void 0,nt=L.Symbol,it=L.Uint8Array,ot=J(Object.getPrototypeOf,Object),at=Object.create,ut=H.propertyIsEnumerable,ct=W.splice,lt=Object.getOwnPropertySymbols,ht=rt?rt.isBuffer:void 0,dt=J(Object.keys,Object),ft=Ft(L,"DataView"),pt=Ft(L,"Map"),gt=Ft(L,"Promise"),yt=Ft(L,"Set"),mt=Ft(L,"WeakMap"),vt=Ft(Object,"create"),_t=zt(ft),wt=zt(pt),bt=zt(gt),xt=zt(yt),St=zt(mt),jt=nt?nt.prototype:void 0,$t=jt?jt.valueOf:void 0;function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){this.__data__=new Ot(t)}function Mt(t,e){var r=Nt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Gt(t)}(t)&&X.call(t,"callee")&&(!ut.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var s in t)!X.call(t,s)||o&&("length"==s||Dt(s,n))||r.push(s);return r}function Ct(t,e,r){var n=t[e];X.call(t,e)&&Jt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Vt(t,e){for(var r=t.length;r--;)if(Jt(t[r][0],e))return r;return-1}function Et(t,e,r,n,d,m,M){var C;if(n&&(C=m?n(t,d,m,M):n(t)),void 0!==C)return C;if(!Ht(t))return t;var E=Nt(t);if(E){if(C=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&X.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,C)}else{var R=Ut(t),L=R==a||R==u;if(Wt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(R==h||R==i||L&&!m){if(I(t))return m?t:{};if(C=function(t){return"function"!=typeof t.constructor||It(t)?{}:(e=ot(t),Ht(e)?at(e):{});var e}(L?{}:t),!e)return function(t,e){return qt(t,Qt(t),e)}(t,function(t,e){return t&&qt(e,Kt(e),t)}(C,t))}else{if(!V[R])return m?t:{};C=function(t,e,r,n){var i=t.constructor;switch(e){case v:return Lt(t);case o:case s:return new i(+t);case _:return function(t,e){var r=e?Lt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case w:case b:case x:case S:case j:case $:case T:case O:case k:return function(t,e){var r=e?Lt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case c:return function(t,e,r){var n=e?r(z(t),!0):z(t);return D(n,Q,new t.constructor)}(t,n,r);case l:case g:return new i(t);case f:return function(t){var e=new t.constructor(t.source,A.exec(t));return e.lastIndex=t.lastIndex,e}(t);case p:return function(t,e,r){var n=e?r(N(t),!0):N(t);return D(n,U,new t.constructor)}(t,n,r);case y:return a=t,$t?Object($t.call(a)):{}}var a}(t,R,Et,e)}}M||(M=new At);var q=M.get(t);if(q)return q;if(M.set(t,C),!E)var P=r?function(t){return function(t,e,r){var n=e(t);return Nt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Kt,Qt)}(t):Kt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(P||t,(function(i,o){P&&(i=t[o=i]),Ct(C,o,Et(i,e,r,n,o,t,M))})),C}function Rt(t){return!(!Ht(t)||(e=t,Y&&Y in e))&&(Bt(t)||I(t)?et:M).test(zt(t));var e}function Lt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function qt(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var s=e[i];Ct(r,s,t[s])}return r}function Pt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ft(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(r)?r:void 0}Tt.prototype.clear=function(){this.__data__=vt?vt(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===r?void 0:n}return X.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:X.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?r:e,this},Ot.prototype.clear=function(){this.__data__=[]},Ot.prototype.delete=function(t){var e=this.__data__,r=Vt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ct.call(e,r,1),!0)},Ot.prototype.get=function(t){var e=this.__data__,r=Vt(e,t);return r<0?void 0:e[r][1]},Ot.prototype.has=function(t){return Vt(this.__data__,t)>-1},Ot.prototype.set=function(t,e){var r=this.__data__,n=Vt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new Tt,map:new(pt||Ot),string:new Tt}},kt.prototype.delete=function(t){return Pt(this,t).delete(t)},kt.prototype.get=function(t){return Pt(this,t).get(t)},kt.prototype.has=function(t){return Pt(this,t).has(t)},kt.prototype.set=function(t,e){return Pt(this,t).set(t,e),this},At.prototype.clear=function(){this.__data__=new Ot},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Ot){var n=r.__data__;if(!pt||n.length<199)return n.push([t,e]),this;r=this.__data__=new kt(n)}return r.set(t,e),this};var Qt=lt?J(lt,Object):function(){return[]},Ut=function(t){return tt.call(t)};function Dt(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function It(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||H)}function zt(t){if(null!=t){try{return Z.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Jt(t,e){return t===e||t!=t&&e!=e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=_||pt&&Ut(new pt)!=c||gt&&Ut(gt.resolve())!=d||yt&&Ut(new yt)!=p||mt&&Ut(new mt)!=m)&&(Ut=function(t){var e=tt.call(t),r=e==h?t.constructor:void 0,n=r?zt(r):void 0;if(n)switch(n){case _t:return _;case wt:return c;case bt:return d;case xt:return p;case St:return m}return e});var Nt=Array.isArray;function Gt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!Bt(t)}var Wt=ht||function(){return!1};function Bt(t){var e=Ht(t)?tt.call(t):"";return e==a||e==u}function Ht(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Kt(t){return Gt(t)?Mt(t):function(t){if(!It(t))return dt(t);var e=[];for(var r in Object(t))X.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return Et(t,!0,!0)}}(at,at.exports);var ut=at.exports,ct=function(){return ct=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ct.apply(this,arguments)};function lt(t,e,r,n){return new(r||(r=Promise))((function(e,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}))}function ht(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(u){a=[6,u],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function dt(t,e,r,n,i){return lt(this,0,void 0,(function(){var o,s;return ht(this,(function(a){switch(a.label){case 0:if(void 0===r)return[2];s=0,a.label=1;case 1:return s<r.length?[4,r[s](t,e,n,i,r)]:[3,4];case 2:if("canceled"===(o=a.sent()))return[3,4];a.label=3;case 3:return s++,[3,1];case 4:return"canceled"!==o?[2,o]:[2]}}))}))}"function"==typeof SuppressedError&&SuppressedError;var ft=function(t,e){return void 0===e&&(e={}),t?{trackedAnalytics:ct({sdkCode:t.sdkCode,sdkSemver:t.sdkSemver,techVersion:t.techVersion},e)}:null},pt=function(){function t(t,e,r,n){var i=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var o=ut(e);dt(t,o,r,this.htmlPluginState,n).then((function(t){if(i.isMounted){i.htmlPluginState.pluginEventSubscription.forEach((function(t){t()}));var e=ft(n,t);i.imgElement.setAttribute("src",o.toURL(e))}}))}return t.prototype.update=function(t,e,r){var n=this,i=ut(t);dt(this.imgElement,i,e,this.htmlPluginState).then((function(t){if(n.isMounted){var e=ft(r,t);n.imgElement.setAttribute("src",i.toURL(e))}}))},t.prototype.unmount=function(){this.isMounted=!1},t}();class gt{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return null!=t&&""!==t}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter((t=>this.hasValue(t))),this}setDelimiter(t){return this.delimiter=t,this}}class yt extends Error{constructor(t="Unsupported"){super(t)}}function mt(t){return new yt(t)}function vt(){return this._qualifierModel||{error:mt(`unsupported qualifier ${this.constructor.name}`)}}class _t{constructor(){this._qualifierModel={}}toJson(){return vt.apply(this)}}class wt extends _t{constructor(t,e){super(),this.delimiter="_",this.key=t,e instanceof gt?this.qualifierValue=e:(this.qualifierValue=new gt,this.qualifierValue.addValue(e))}toString(){const{key:t,delimiter:e,qualifierValue:r}=this;return`${t}${e}${r.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class bt extends wt{constructor(t,e){let r;r=e?new gt([t,`${e}`]).setDelimiter(":"):t,super("fl",r),this.flagValue=e}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function xt(){var t,e,r;const n=this._actionModel&&Object.keys(this._actionModel).length,i=null===(r=null===(e=null===(t=this._actionModel)||void 0===t?void 0:t.source)||void 0===e?void 0:e.transformation)||void 0===r?void 0:r.error;return i&&i instanceof Error?{error:i}:n?this._actionModel:{error:mt(`unsupported action ${this.constructor.name}`)}}class St{constructor(){this._actionModel={}}toJson(){return xt.apply(this)}}class jt extends St{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),function(t,e){const r=Array.from(t.entries());return e.forEach((t=>{r.push(["fl",t])})),r.sort().map((t=>t[1]))}(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if("string"==typeof t){const[e,r]=t.toLowerCase().split("_");"fl"===e?this.flags.push(new bt(r)):this.qualifiers.set(e,new wt(e,r))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return"string"==typeof t?this.flags.push(new bt(t)):t instanceof bt&&this.flags.push(t),this}addValueToQualifier(t,e){return this.qualifiers.get(t).addValue(e),this}}class $t extends jt{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class Tt extends $t{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new wt("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new wt("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new wt("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new wt("h",t)),this}static fromJson(t){const e=new Tt;return t.width&&e.width(t.width),t.height&&e.height(t.height),t.x&&e.x(t.x),t.y&&e.y(t.y),e}}function Ot(){return new $t("faces")}class kt extends jt{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";if("_region"in this){this._region.qualifiers.forEach((t=>this.addQualifier(t))),"custom"===this._region.regionType&&this.addQualifier(new wt("e",`blur_region${t}`)),"ocr_text"===this._region.regionType&&(this.addQualifier(new wt("e",`blur_region${t}`)),this.addQualifier(new wt("g","ocr_text"))),"faces"===this._region.regionType&&this.addQualifier(new wt("e",`blur_faces${t}`))}else this.addQualifier(new wt("e",`blur${t}`))}static fromJson(t){const{strength:e,region:r}=t,n=new this(e);return e&&n.strength(e),r&&"faces"===r.regionType&&n.region(Ot()),r&&"ocr_text"===r.regionType&&n.region(new $t("ocr_text")),r&&"custom"===r.regionType&&n.region(Tt.fromJson(r)),n}}function At(t){const e={};return Object.keys(t).forEach((r=>{e[t[r]]=r})),e}const Mt={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},Ct={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Vt={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Et={444:"CHROMA_444",420:"CHROMA_420"},Rt=At(Et);At({noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"});const Lt=At(Mt),qt=At({colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"}),Pt=At(Ct);At(Vt),At({fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"});class Ft extends jt{constructor(t,e){super(),this._actionModel={},this._actionModel.actionType=Pt[t]||t;const r=this.createEffectQualifier(t,e);this.addQualifier(r)}createEffectQualifier(t,e){let r;return r=e?new gt([t,`${e}`]).setDelimiter(":"):new gt(t),new wt("e",r)}static fromJson(t){const{actionType:e,level:r,strength:n}=t;return new this(Ct[e]||e,r||n)}}class Qt extends Ft{constructor(t,e){super(t,e),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=Pt[t]||t,e&&this.setLevel(e)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const e=this.createEffectQualifier(this.effectType,t);return this.addQualifier(e),this}}function Ut(t){return t&&t.match(/^#/)?`rgb:${t.substr(1)}`:t}class Dt extends jt{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new gt(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new gt(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new gt(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new gt(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new gt(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new wt("e",t))}static fromJson(t){const{actionType:e,paths:r,cornersLevel:n,despeckleLevel:i,detailLevel:o,numOfColors:s}=t,a=new this;return r&&a.paths(r),n&&a.cornersLevel(n),i&&a.despeckleLevel(i),o&&a.detailsLevel(o),s&&a.numOfColors(s),a}}class It extends Qt{level(t){return this._actionModel.level=t,this.setLevel(t)}}class zt extends jt{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new wt("e",new gt("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new wt("e",new gt(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new wt("e",new gt(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:e,type:r,stripesStrength:n}=t,i=new this;return"xray"===r&&i.xray(),"stripes"===r&&n&&i.stripesStrength(n),i}}class Jt extends It{color(t){return this._actionModel.color=t,this.addQualifier(new wt("co",new gt(Ut(t))))}static fromJson(t){const{actionType:e,level:r,color:n}=t,i=new this(e,r);return n&&i.color(n),i}}class Nt extends jt{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";if("_region"in this){this._region.qualifiers.forEach((t=>this.addQualifier(t))),"custom"===this._region.regionType&&this.addQualifier(new wt("e",`pixelate_region${t}`)),"ocr_text"===this._region.regionType&&(this.addQualifier(new wt("e",`pixelate_region${t}`)),this.addQualifier(new wt("g","ocr_text"))),"faces"===this._region.regionType&&this.addQualifier(new wt("e",`pixelate_faces${t}`))}else this.addQualifier(new wt("e",`pixelate${t}`))}static fromJson(t){const{region:e,squareSize:r}=t,n=new this(r);return r&&n.squareSize(r),e&&"faces"===e.regionType&&n.region(Ot()),e&&"custom"===e.regionType&&n.region(new Tt),n}}function Gt(t){return new Jt("colorize",t)}class Wt extends jt{constructor(t){super(),this._actionModel={},this.addQualifier(new wt("b",new gt(Ut(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:e}=t;return new this(e)}}class Bt{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:mt(`unsupported action ${this.constructor.name}`)}}}class Ht extends gt{constructor(t){super(t),this.val=t}getValue(){return this.val}}class Kt extends jt{constructor(t,e,r){let n;super(),this._actionModel={},n=e instanceof Ht?e.getValue():e,this._actionModel.actionType=qt[t],this._actionModel[r]=n,this.addQualifier(new wt(t,e))}}class Yt extends bt{constructor(t){super("progressive",t)}}class Zt extends Kt{constructor(t,e){super(t,e,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(new bt("lossy")),this}progressive(t){return t instanceof Yt?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(function(t){return new bt("progressive",t)}(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(new bt("preserve_transparency")),this}static fromJson(t){const{formatType:e,lossy:r,progressive:n,preserveTransparency:i}=t;let o;return o=e?new this("f",e):new this("f"),n&&(n.mode?o.progressive(n.mode):o.progressive()),r&&o.lossy(),i&&o.preserveTransparency(),o}}class Xt{constructor(){this.actions=[]}addAction(t){let e;if("string"==typeof t){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";e=new Bt(t)}else e=t;return this.actions.push(e),this}addTransformation(t){return t instanceof Xt?this.actions=this.actions.concat(t.actions):this.actions.push(new Bt(t)),this}toString(){return this.actions.map((t=>t.toString())).filter((t=>t)).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Zt("q",t)),this}format(t){return this.addAction(new Zt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Wt(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const e=new jt;let r=t;return"string"==typeof t&&(r=new bt(t)),e.addQualifier(r),this.addAction(e)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if("error"in(e=n)&&e.error)return n;t.push(n)}var e;return{actions:t}}}function te(t){const e=t.toString();if(e.match(/[A-Z]/gi))return e;if(e.length>1&&"0"===e[0])return e;return!isNaN(parseFloat(e))&&-1===e.indexOf(":")&&-1===e.indexOf(".")?`${e}.0`:e}class ee extends gt{}class re extends jt{constructor(t,e,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Lt[t]||t,this.addQualifier(new wt("c",t)),e&&this.width(e),r&&this.height(r)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new wt("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new wt("w",t))}aspectRatio(t){return t instanceof ee?(this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new wt("ar",t))):"number"==typeof t||"string"==typeof t?(this._actionModel.dimensions.aspectRatio=te(t),this.addQualifier(new wt("ar",te(t)))):t instanceof bt?(this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)):void 0}relative(){return this._actionModel.relative=!0,this.addFlag(new bt("relative"))}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(new bt("region_relative"))}static fromJson(t){const{actionType:e,dimensions:r,relative:n,regionRelative:i}=t,{aspectRatio:o,width:s,height:a}=r,u=new this(Mt[e]||e,s,a);return o&&u.aspectRatio("ignore_aspect_ratio"===o?new bt("ignore_aspect_ratio"):o),n&&u.relative(),i&&u.regionRelative(),u}}class ne extends wt{constructor(t){super("g",new gt(t))}}class ie extends ne{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class oe extends ne{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class se extends ne{constructor(t){super(t)}}function ae(...t){const e=[...t];return new oe(e)}function ue(){return new ie}class ce extends gt{constructor(t){super(),this.name=t}toString(){return this.name}}function le(t){return`${t}`.replace("g_","")}function he(t){const e=t.toString().split("_"),r={object:e[0]};return e.length>1&&("avoid"===e[1]?r.avoid=!0:r.weight=+e[1]),r}function de(t){let e;const r="auto"===t?new ie:t;e=`${t}`.startsWith("auto:")?`${t}`.split(":").filter((t=>"auto"!==t)):r.qualifierValue.values.filter((t=>"auto"!==t));return{gravityType:"auto",autoFocus:e.map(he)}}function fe(t){return function(t){const e=le(t);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}(t)?function(t){return{compass:le(t),gravityType:"direction"}}(t):function(t){return"ocr_text"===le(t)}(t)?{gravityType:"ocr"}:function(t){return t&&"auto"===`${t}`.split(":")[0]}(t)||function(t){return"auto"===`${t.qualifierValue}`.split(":")[0]}(t)?de(t):function(t){const e=`${t}`.split(":").includes("auto"),r=t.qualifierValue.values,n={gravityType:"object",focusOnObjects:(e?r.slice(0,r.length-1):r).map((t=>`${t}`))};if(e){const t=r[r.length-1].values.slice(1),e=ue().autoFocus(...t);n.fallbackGravity=de(e)}return n}("string"==typeof t?function(t){const e=t.split(":").map((t=>new ce(t)));return new oe(e)}(t):t)}class pe extends gt{constructor(t,e){super(),this._weight=e,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,e){return new pe(t,e)}shouldAddWeight(){return"number"==typeof this._weight||"string"==typeof this._weight||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class ge extends gt{constructor(t){super(),this.val=t}toString(){return this.val}}function ye(t){const{object:e,weight:r,avoid:n}=t,i=new pe(new ce(e));return(r||0===r)&&i.weight(r),n&&i.avoid(),i}function me(t){const e=(t.autoFocus||[]).map(ye);return ue().autoFocus(...e)}function ve(t){return function(t){return"direction"===t.gravityType}(t)?new se(new ge(t.compass)):function(t){return"ocr"===t.gravityType}(t)?ae(new ce("ocr_text")):function(t){return"auto"===t.gravityType}(t)?me(t):function(t){const e=ae(...(t.focusOnObjects||[]).map((t=>new ce(t))));if(t.fallbackGravity){const r=me(t.fallbackGravity);e.fallbackGravity(r)}return e}(t)}class _e extends re{gravity(t){this._actionModel.gravity=fe(t);const e="string"==typeof t?new wt("g",t):t;return this.addQualifier(e)}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.gravity&&e.gravity(ve(t.gravity)),e}}class we extends wt{constructor(t){super("b"),t&&this.addValue(t)}}var be=class extends we{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){return`b_blurred${void 0!==this.intensityLevel?`:${this.intensityLevel}`:""}${void 0!==this.brightnessLevel?void 0!==this.intensityLevel?`:${this.brightnessLevel}`:`:100:${this.brightnessLevel}`:""}`}};class xe extends we{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map((t=>Ut(t))),this}}class Se extends xe{toString(){return`\n    b_auto:border\n    ${this._contrast?"_contrast":""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class je extends xe{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class $e extends je{toString(){return`\n    b_auto:border_gradient\n    ${this._contrast?"_contrast":""}\n    ${this._gradientColors?`:${this._gradientColors}`:""}\n    ${this._gradientDirection?`:${this._gradientDirection}`:""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class Te extends je{toString(){return`\n    b_auto:predominant_gradient\n    ${this._contrast?"_contrast":""}\n    ${this._gradientColors?`:${this._gradientColors}`:""}\n    ${this._gradientDirection?`:${this._gradientDirection}`:""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class Oe extends xe{toString(){return`\n    b_auto:predominant\n    ${this._contrast?"_contrast":""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class ke extends we{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){return this._prompt=t,this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return"b_gen_fill"+(this._prompt?`:prompt_${this._prompt}`:"")}}function Ae(t){return`${t}`.replace("b_","")}function Me(t){const e=t._contrast,r=t._palette,n={backgroundType:""};return e&&(n.contrast=!0),r&&(n.palette=r),n}function Ce(t){const e=t._gradientColors,r=`${t._gradientDirection}`,n=Me(t);return e&&(n.gradientColors=e),r&&(n.gradientDirection=r),n}function Ve(t){return"auto"===Ae(t)?{backgroundType:"auto"}:t instanceof be?function(t){const{intensityLevel:e,brightnessLevel:r}=t,n={backgroundType:"blurred"};return(e||0===e)&&(n.intensity=e),(r||0===r)&&(n.brightness=r),n}(t):t instanceof Se?function(t){return Object.assign(Object.assign({},Me(t)),{backgroundType:"border"})}(t):t instanceof $e?function(t){return Object.assign(Object.assign({},Ce(t)),{backgroundType:"borderGradient"})}(t):t instanceof Oe?function(t){return Object.assign(Object.assign({},Me(t)),{backgroundType:"predominant"})}(t):t instanceof Te?function(t){return Object.assign(Object.assign({},Ce(t)),{backgroundType:"predominantGradient"})}(t):t instanceof ke?function(t){return Object.assign({backgroundType:t.getBackgroundType()},t.getPrompt()?{prompt:t.getPrompt()}:{})}(t):function(t){return{backgroundType:"color",color:Ae(t)}}(t)}function Ee(){return new Ht("auto")}function Re(){return new Se}function Le(){return new we("auto")}function qe(){return new $e}function Pe(){return new Te}function Fe(){return new Oe}function Qe(t){return new we(Ut(t))}function Ue(){return new ke}const De={auto:Le,border:Re,borderGradient:qe,predominantGradient:Pe,predominant:Fe,color:Qe,blurred:function(){return new be},generativeFill:Ue};function Ie(t,e){const{gradientColors:r,gradientDirection:n,contrast:i,palette:o}=e;return i&&t.contrast(),o&&t.palette(...o),r&&t.gradientColors(+r),n&&t.gradientDirection(n),t}function ze(t,e){const{contrast:r,palette:n}=e;return r&&t.contrast(),n&&t.palette(...n),t}function Je(t){const{backgroundType:e}=t;switch(e){case"auto":return Le();case"blurred":return function(t){const{brightness:e,intensity:r}=t,n=De.blurred();return n.brightness(null!=e?e:0),n.intensity(null!=r?r:100),n}(t);case"border":return ze(Re(),t);case"borderGradient":return Ie(qe(),t);case"predominant":return ze(Fe(),t);case"predominantGradient":return Ie(Pe(),t);case"generativeFill":return function(t,e){const{prompt:r}=e;return r&&t.prompt(r),t}(Ue(),t);default:return Qe(t.color)}}class Ne extends _e{background(t){return this._actionModel.background=Ve(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new wt("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new wt("y",t))}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.background&&e.background(Je(t.background)),t.x&&e.offsetX(t.x),t.y&&e.offsetY(t.y),t.zoom&&e.zoom(t.zoom),e}}class Ge extends _e{x(t){return this._actionModel.x=t,this.addQualifier(new wt("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new wt("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new wt("z",t))}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.x&&e.x(t.x),t.y&&e.y(t.y),t.zoom&&e.zoom(t.zoom),e}}class We extends _e{x(t){return this._actionModel.x=t,this.addQualifier(new wt("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new wt("y",t))}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.x&&e.x(t.x),t.y&&e.y(t.y),e}}class Be extends Kt{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=Et[t];const e=new gt([this._actionModel.level,t]);return e.setDelimiter(":"),this.addQualifier(new wt("q",e))}quantization(t){this._actionModel.quantization=t;const e=new gt([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new wt("q",e))}static fromJson(t){const{level:e,chromaSubSampling:r,quantization:n}=t,i=new this(Vt[e]||e);if(r){const t=Rt[r.toUpperCase()];t&&i.chromaSubSampling(+t)}return n&&i.quantization(n),i}}function He(t){return new Zt("f",t)}function Ke(t){return new Be(t)}var Ye,Ze,Xe,tr,er;Gt(70).color("black"),Gt(40).color("white"),new Ft("grayscale"),new zt,(new Xt).effect(new Dt).delivery(Ke("auto")).delivery(He(new Ht("svg"))),(new Xt).effect(new Nt(Ye)).delivery(Ke("auto")).delivery(He(Ee())),(new Xt).effect((Ze=2e3,new kt(Ze))).delivery(Ke("auto")).delivery(He(Ee())),(new Xt).resize((tr="iw_div_2",new Ne("pad",tr,er)).aspectRatio(1).background(De.auto())).resize(function(t,e){return new Ge("crop",t,e)}(1,1).gravity((Xe=new ge("north_east"),new se(Xe)))).resize(function(t,e){return new We("fill",t,e)}().height("ih").width("iw")).delivery(Ke("auto")).delivery(He(Ee()));var rr={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},nr="?_a=",ir=function(){function t(t,e,r,n,i,o,s){var a=this;this.mimeType="video",this.mimeSubTypes=rr,this.videoElement=t,this.originalVideo=e,this.videoOptions=s,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var u=ut(e);dt(t,e,n,this.htmlPluginState).then((function(){a.htmlPluginState.pluginEventSubscription.forEach((function(t){t()})),a.setVideoAttributes(i,o),a.handleSourceToVideo(u,r)}))}return t.prototype.handleSourceToVideo=function(t,e){var r=this;if(e)this.generateUserSources(t,e);else{["webm","mp4","ogv"].forEach((function(e){r.appendSourceTag(ut(t),e)}))}},t.prototype.generateUserSources=function(t,e){var r=this;e.map((function(e){var n=e.type,i=e.codecs,o=e.transcode;return r.appendSourceTag(ut(t).transcode(o),n,r.buildMimeType(n,i))}))},t.prototype.appendSourceTag=function(t,e,r){var n,i=document.createElement("source"),o=null===(n=this.videoOptions)||void 0===n?void 0:n.useFetchFormat;o&&t.format(e);var s=t.toURL().split(nr),a=s[1]?"".concat(nr).concat(s[1]):"",u=o?"":".".concat(e);i.src="".concat(s[0]).concat(u).concat(a),i.type=r||"video/".concat(rr[e]||e),this.videoElement.appendChild(i)},t.prototype.buildMimeType=function(t,e){var r="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return e&&(r+="; codecs="+(Array.isArray(e)?e.join(", "):e)),r},t.prototype.setVideoAttributes=function(t,e){var r;if(void 0===t&&(t={}),"auto"===e){var n=ut(this.originalVideo);t.poster=n.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else e&&(t.poster=null===(r=e.toURL)||void 0===r?void 0:r.call(e));for(var i=0,o=Object.entries(t);i<o.length;i++){var s=o[i],a=s[0],u=s[1];u&&this.videoElement.setAttribute(a,"poster"===a?u:"")}},t.prototype.update=function(t,e,r,n,i){var o=this;if(t!==this.originalVideo){for(var s=this.videoElement.getElementsByTagName("SOURCE");s[0];)s[0].parentNode.removeChild(s[0]);dt(this.videoElement,t,r,this.htmlPluginState).then((function(){o.setVideoAttributes(n,i),o.handleSourceToVideo(t,e),o.videoElement.load()}))}},t}(),or="object"==typeof st&&st&&st.Object===Object&&st,sr="object"==typeof self&&self&&self.Object===Object&&self;function ar(t){t.cleanupCallbacks.forEach((function(t){t()}))}or||sr||Function("return this")();var ur=function(t,e){return(ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function cr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}ur(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var lr=function(){return lr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},lr.apply(this,arguments)};function hr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}"function"==typeof SuppressedError&&SuppressedError;var dr={exports:{}},fr={},pr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var mr=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var r,n,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in r=Object(arguments[o]))gr.call(r,s)&&(i[s]=r[s]);if(pr){n=pr(r);for(var a=0;a<n.length;a++)yr.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},vr="function"==typeof Symbol&&Symbol.for,_r=vr?Symbol.for("react.element"):60103,wr=vr?Symbol.for("react.portal"):60106,br=vr?Symbol.for("react.fragment"):60107,xr=vr?Symbol.for("react.strict_mode"):60108,Sr=vr?Symbol.for("react.profiler"):60114,jr=vr?Symbol.for("react.provider"):60109,$r=vr?Symbol.for("react.context"):60110,Tr=vr?Symbol.for("react.forward_ref"):60112,Or=vr?Symbol.for("react.suspense"):60113,kr=vr?Symbol.for("react.memo"):60115,Ar=vr?Symbol.for("react.lazy"):60116,Mr="function"==typeof Symbol&&Symbol.iterator;function Cr(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vr={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Er={};function Rr(t,e,r){this.props=t,this.context=e,this.refs=Er,this.updater=r||Vr}function Lr(){}function qr(t,e,r){this.props=t,this.context=e,this.refs=Er,this.updater=r||Vr}Rr.prototype.isReactComponent={},Rr.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(Cr(85));this.updater.enqueueSetState(this,t,e,"setState")},Rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},Lr.prototype=Rr.prototype;var Pr=qr.prototype=new Lr;Pr.constructor=qr,mr(Pr,Rr.prototype),Pr.isPureReactComponent=!0;var Fr={current:null},Qr=Object.prototype.hasOwnProperty,Ur={key:!0,ref:!0,__self:!0,__source:!0};function Dr(t,e,r){var n,i={},o=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)Qr.call(e,n)&&!Ur.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===i[n]&&(i[n]=a[n]);return{$$typeof:_r,type:t,key:o,ref:s,props:i,_owner:Fr.current}}function Ir(t){return"object"==typeof t&&null!==t&&t.$$typeof===_r}var zr=/\/+/g,Jr=[];function Nr(t,e,r,n){if(Jr.length){var i=Jr.pop();return i.result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function Gr(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>Jr.length&&Jr.push(t)}function Wr(t,e,r,n){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var o=!1;if(null===t)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _r:case wr:o=!0}}if(o)return r(n,t,""===e?"."+Hr(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){var a=e+Hr(i=t[s],s);o+=Wr(i,a,r,n)}else if(null===t||"object"!=typeof t?a=null:a="function"==typeof(a=Mr&&t[Mr]||t["@@iterator"])?a:null,"function"==typeof a)for(t=a.call(t),s=0;!(i=t.next()).done;)o+=Wr(i=i.value,a=e+Hr(i,s++),r,n);else if("object"===i)throw r=""+t,Error(Cr(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return o}function Br(t,e,r){return null==t?0:Wr(t,"",e,r)}function Hr(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function Kr(t,e){t.func.call(t.context,e,t.count++)}function Yr(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?Zr(t,n,r,(function(t){return t})):null!=t&&(Ir(t)&&(t=function(t,e){return{$$typeof:_r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(zr,"$&/")+"/")+r)),n.push(t))}function Zr(t,e,r,n,i){var o="";null!=r&&(o=(""+r).replace(zr,"$&/")+"/"),Br(t,Yr,e=Nr(e,o,n,i)),Gr(e)}var Xr={current:null};function tn(){var t=Xr.current;if(null===t)throw Error(Cr(321));return t}var en={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Fr,IsSomeRendererActing:{current:!1},assign:mr};fr.Children={map:function(t,e,r){if(null==t)return t;var n=[];return Zr(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;Br(t,Kr,e=Nr(null,null,e,r)),Gr(e)},count:function(t){return Br(t,(function(){return null}),null)},toArray:function(t){var e=[];return Zr(t,e,null,(function(t){return t})),e},only:function(t){if(!Ir(t))throw Error(Cr(143));return t}},fr.Component=Rr,fr.Fragment=br,fr.Profiler=Sr,fr.PureComponent=qr,fr.StrictMode=xr,fr.Suspense=Or,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=en,fr.cloneElement=function(t,e,r){if(null==t)throw Error(Cr(267,t));var n=mr({},t.props),i=t.key,o=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,s=Fr.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Qr.call(e,u)&&!Ur.hasOwnProperty(u)&&(n[u]=void 0===e[u]&&void 0!==a?a[u]:e[u])}var u=arguments.length-2;if(1===u)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:_r,type:t.type,key:i,ref:o,props:n,_owner:s}},fr.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:$r,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:jr,_context:t},t.Consumer=t},fr.createElement=Dr,fr.createFactory=function(t){var e=Dr.bind(null,t);return e.type=t,e},fr.createRef=function(){return{current:null}},fr.forwardRef=function(t){return{$$typeof:Tr,render:t}},fr.isValidElement=Ir,fr.lazy=function(t){return{$$typeof:Ar,_ctor:t,_status:-1,_result:null}},fr.memo=function(t,e){return{$$typeof:kr,type:t,compare:void 0===e?null:e}},fr.useCallback=function(t,e){return tn().useCallback(t,e)},fr.useContext=function(t,e){return tn().useContext(t,e)},fr.useDebugValue=function(){},fr.useEffect=function(t,e){return tn().useEffect(t,e)},fr.useImperativeHandle=function(t,e,r){return tn().useImperativeHandle(t,e,r)},fr.useLayoutEffect=function(t,e){return tn().useLayoutEffect(t,e)},fr.useMemo=function(t,e){return tn().useMemo(t,e)},fr.useReducer=function(t,e,r){return tn().useReducer(t,e,r)},fr.useRef=function(t){return tn().useRef(t)},fr.useState=function(t){return tn().useState(t)},fr.version="16.14.0",Function.call.bind(Object.prototype.hasOwnProperty),dr.exports=fr;var rn=dr.exports,nn={sdkSemver:"1.13.0",techVersion:rn.version,sdkCode:"J"},on=function(t){function e(e){var r=t.call(this,e)||this;return r.imageRef=rn.createRef(),r}return cr(e,t),e.prototype.componentDidMount=function(){this.htmlLayerInstance=new pt(this.imageRef.current,this.props.cldImg,this.props.plugins,nn)},e.prototype.componentDidUpdate=function(){ar(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,nn)},e.prototype.componentWillUnmount=function(){ar(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},e.prototype.render=function(){var t=this.props;t.cldImg,t.plugins;var e=hr(t,["cldImg","plugins"]);if("undefined"!=typeof window)return rn.createElement("img",lr({suppressHydrationWarning:!0},e,{ref:this.imageRef}));var r=function(t,e,r){var n=ut(e);if(t)for(var i=0;i<t.length&&t[i](null,n);i++);return n.toURL(r?{trackedAnalytics:r}:null)}(this.props.plugins,this.props.cldImg,nn);return rn.createElement("img",lr({},e,{src:r}))},e}(rn.Component),sn=["controls","loop","muted","poster","preload","autoplay","playsinline"];!function(t){function e(e){var r=t.call(this,e)||this;return r.videoRef=dr.exports.createRef(),r.attachRef=r.attachRef.bind(r),r}cr(e,t),e.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new ir(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},e.prototype.componentDidUpdate=function(){ar(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},e.prototype.componentWillUnmount=function(){ar(this.htmlVideoLayerInstance.htmlPluginState)},e.prototype.getVideoAttributes=function(){var t=this,e={};return sn.forEach((function(r){r in t.props&&(e[r]=t.props[r])})),e},e.prototype.attachRef=function(t){this.videoRef.current=t;var e=this.props.innerRef;e&&(e instanceof Function?e(t):e.current=t)},e.prototype.render=function(){var t=this.props;t.cldVid,t.cldPoster,t.plugins,t.sources,t.innerRef,t.useFetchFormat;var e=hr(t,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return rn.createElement("video",lr({},e,{ref:this.attachRef}))}}(dr.exports.Component);export{on as A,ot as C,W as a,R as b,G as f};
