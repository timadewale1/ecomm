import{r as e,h as s,j as t,S as a,Q as r,cQ as n,aM as o,R as l,cS as i,q as c,c as d,a as m,w as x,g as h,e9 as p}from"./index-CvIXhaMv.js";import{R as g}from"./react-stars-DecT5tWK.js";import{R as u}from"./Roundedstar-DswUk0sY.js";const f=()=>{const[f,j]=e.useState([]),[b,w]=e.useState(""),[y,N]=e.useState(!1),[v,k]=e.useState([]),[C,S]=e.useState(""),[L,M]=e.useState(!0),[P,T]=e.useState([]),z=s();e.useEffect((()=>{(async()=>{try{const e=c(d(m,"vendors"),x("marketPlaceType","==","marketplace"),x("isDeactivated","==",!1),x("isApproved","==",!0)),s=(await h(e)).docs.map((e=>({id:e.id,...e.data()})));j(s),T(s)}catch(e){p.error("Error fetching vendors: "+e.message)}finally{M(!1)}})()}),[]);return t.jsxs("div",{className:"mb-1 p-2",children:[t.jsx(a,{title:"Market Vendor - My Thrift",description:"Marketplace vendors on My Thrift",url:"https://www.shopmythrift.store/market-vendors"}),t.jsxs("div",{className:"sticky py-3 w-[calc(100%+1rem)] -ml-2 top-0 bg-white z-10",children:[t.jsx("div",{className:"flex items-center justify-between mb-3 pb-2 px-2",children:y?t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx(r,{className:"text-3xl cursor-pointer mr-2",onClick:()=>{w(""),k([]),S(""),N(!1),T(f)}}),t.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-full px-3 py-2 text-black focus:outline-none",value:b,onChange:e=>{const s=e.target.value.toLowerCase();if(w(s),s.length<2&&0===v.length&&!C)T(f);else{const e=f.filter((e=>{const t=e.shopName.toLowerCase().includes(s),a=0===v.length||v.some((s=>e.categories.includes(s))),r=!C||e.marketPlace.toLowerCase()===C.toLowerCase();return t&&a&&r}));T(e)}},placeholder:"Search vendors or products..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(r,{className:"text-3xl cursor-pointer",onClick:()=>z(-1)}),t.jsx("h1",{className:"text-xl font-opensans font-semibold",children:"Market Vendors"}),t.jsx(n,{className:"text-3xl cursor-pointer",onClick:()=>N(!0)})]})}),!y&&t.jsxs("div",{className:"flex justify-between mb-3 w-full overflow-x-auto space-x-2 px-2",children:[["Yaba","Balogun"].map((e=>t.jsx("button",{onClick:()=>(e=>{const s=C===e?"":e;S(s);const t=f.filter((e=>{const t=e.shopName.toLowerCase().includes(b),a=0===v.length||v.some((s=>e.categories.includes(s))),r=!s||e.marketPlace.toLowerCase()===s.toLowerCase();return t&&a&&r}));T(t)})(e),className:"flex-shrink-0 h-12 px-3 py-2 text-xs font-bold font-opensans text-black border border-gray-400 rounded-full "+(C===e?"bg-customOrange text-white":"bg-transparent"),children:e},e))),["Thrifts","Mens","Womens","Underwears","Y2K","Jewelry","Kids","Trads","Dresses","Gowns","Shoes","Accessories","Bags","Sportswear","Formal"].map((e=>t.jsx("button",{onClick:()=>(e=>{const s=v.includes(e)?v.filter((s=>s!==e)):[...v,e];k(s);const t=f.filter((e=>{const t=e.shopName.toLowerCase().includes(b),a=0===s.length||s.some((s=>e.categories.includes(s))),r=!C||e.marketPlace.toLowerCase()===C.toLowerCase();return t&&a&&r}));T(t)})(e),className:"flex-shrink-0 h-12 px-3 py-2 text-xs font-bold font-opensans text-black border border-gray-400 rounded-full "+(v.includes(e)?"bg-customOrange text-white":"bg-transparent"),children:e},e)))]})]}),t.jsxs("div",{className:"vendor-list -mx-2 translate-y-1",children:[t.jsx("hr",{className:"bg-gray-200 pb-0.5 w-full"}),L?Array.from({length:5}).map(((e,s)=>t.jsx("div",{className:"vendor-item",children:t.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white",children:[t.jsxs("div",{children:[t.jsx(o,{width:150,height:24}),t.jsx(o,{width:100,height:16}),t.jsx(o,{width:120,height:24})]}),t.jsx(o,{height:96,width:96})]})},s))):P.length>0?P.map((e=>{const s=Math.min(e.ratingCount>0?e.rating/e.ratingCount:0,5);return t.jsx("div",{className:"vendor-item",children:t.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white",onClick:()=>(e=>{z(`/marketstorepage/${e.id}`)})(e),children:[t.jsxs("div",{children:[t.jsx("h1",{className:"font-poppins text-black text-2xl font-medium",children:e.shopName}),t.jsx("p",{className:"font-opensans text-gray-300 text-xs flex items-center -translate-y-1",children:e.categories.slice(0,4).map(((e,s)=>t.jsxs(l.Fragment,{children:[s>0&&t.jsx(i,{className:"mx-1 dot-size text-gray-300"}),e]},s)))}),t.jsx("p",{className:"font-opensans   text-customOrange font-medium text-xs mt-1",children:e.marketPlace.toUpperCase()}),t.jsxs("div",{className:"flex items-center text-xs translate-y-1",children:[t.jsx("span",{className:"text-black font-light text-xs mr-2",children:s.toFixed(1)}),t.jsx(g,{count:5,value:s,size:24,activeColor:"#ffd700",emptyIcon:t.jsx(u,{filled:!1}),filledIcon:t.jsx(u,{filled:!0}),edit:!1}),t.jsxs("span",{className:"text-black ratings-text font-light ml-2",children:["(",e.ratingCount||0,")"]})]})]}),t.jsx("img",{className:"object-cover h-24 w-24 rounded-lg",src:e.coverImageUrl||"https://images.saatchiart.com/saatchi/1750204/art/9767271/8830343-WUMLQQKS-7.jpg",alt:e.shopName})]})},e.id)})):t.jsxs("div",{className:"text-center my-10 px-6",children:[t.jsx("h2",{className:"text-3xl font-opensans mb-2 font-medium bg-gradient-to-r from-green-400 via-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Coming Soon: Market Place Vendors!"}),t.jsx("p",{className:"text-gray-600 text-sm font-opensans",children:"We're just getting started! Vendors from your local markets will be here soon, starting with Yaba. Stay tuned for something amazing! ðŸ§¡"})]})]})]})};export{f as default};
