import{r as e,u as t,W as s,j as a,z as r,G as o,x as n,y as i,X as l,S as d,e as c,O as m,h as u,J as x,K as f}from"./index-B6_tP4YQ.js";import{C as p,R as h,F as g,a as j}from"./reactstrap.modern-1TI7C-B6.js";import{d as y}from"./index-BZTi0IwX.js";import{G as v}from"./index-CkQT2Z8i.js";import{S as w}from"./SignUpAnimation-B6jg12st.js";import{$ as b}from"./module-rdBSHQ9l.js";import{T as N}from"./react-BL-HRo_U.js";import{S as O}from"./SEO-CG8nsGhn.js";import{m as S}from"./motion-nj0T3Q6E.js";import"./index-KjFfD-Q4.js";import"./index-Bx5UHif0.js";import"./index-CfSqzuTe.js";import"./index-BaqZIR9i.js";import"./warning-DM8AoHwU.js";import"./Transition-EapTcxBc.js";import"./setPrototypeOf-CeEI3KLI.js";import"./inheritsLoose-HiINKdoJ.js";import"./emotion-unitless.esm-sScrWPmR.js";const k=()=>{const[k,P]=e.useState(""),[C,T]=e.useState(""),[L,E]=e.useState(!1),[V,W]=e.useState(!1),q=t(),D=s();return a.jsxs(a.Fragment,{children:[a.jsx(O,{title:"Vendor Login - My Thrift",description:"Login to your My Thrift vendor account",url:"https://www.shopmythrift.store/vendorlogin"}),a.jsx("section",{children:a.jsx(p,{children:a.jsx(h,{children:a.jsxs("div",{className:"px-2",children:[a.jsx(r,{to:"/confirm-state",children:a.jsx(o,{className:"text-3xl -translate-y-2 font-normal text-black"})}),a.jsx(w,{}),a.jsx("div",{className:"flex justify-center text-xl font-ubuntu text-customOrange -translate-y-1",children:a.jsx(N,{options:{strings:["Showcase your products","Connect with buyers"],autoStart:!0,loop:!0,delay:100,deleteSpeed:10}})}),a.jsx("div",{className:"flex justify-center text-xs font-medium text-customOrange -translate-y-2",children:a.jsx(N,{options:{strings:["and make OWO!","and make KUDI!","and make EGO!"],autoStart:!0,loop:!0,delay:50,deleteSpeed:30}})}),a.jsxs("div",{className:"translate-y-4",children:[a.jsx("div",{className:"mb-2",children:a.jsxs("h1",{className:"font-ubuntu text-5xl flex items-center font-semibold text-black gap-2",children:["Login",a.jsx("span",{className:"rounded-full px-3 py-1 bg-customOrange text-xs flex items-center justify-center",children:a.jsx("p",{className:"text-white text-xs leading-none",children:"Vendor"})})]})}),a.jsx("p",{className:"text-black text-sm font-opensans font-semibold",children:"Please sign in to continue"})]}),a.jsxs("div",{className:"translate-y-1 mt-6 px-2",children:[a.jsxs(g,{onSubmit:async e=>{if(e.preventDefault(),W(!0),!k.trim()||!C.trim())return l.error("Please fill in both email and password fields."),void W(!1);try{const e=(await d(D,k,C)).user,t=c(m,"vendors",e.uid),s=await u(t);if(!s.exists())throw await D.signOut(),{code:"vendor/no-record"};const a=s.data();if(a.isDeactivated)throw await D.signOut(),{code:"vendor/account-deactivated"};if(!e.emailVerified){const t=x(f,"sendVendorVerificationEmail");throw await t({email:e.email,firstName:a.firstName,lastName:a.lastName}),await D.signOut(),{code:"vendor/email-unverified"}}a.profileComplete?(l.success("Login successful!"),q("/vendordashboard")):(l("Please complete your profile."),q("/complete-profile"))}catch(t){const e=null==t?void 0:t.code;e?"auth/invalid-email"===e?l.error("Please enter a valid email address."):"auth/user-not-found"===e?l.error("We couldn't find an account with that email."):"auth/wrong-password"===e?l.error("Incorrect password. Please double-check and try again."):"auth/user-disabled"===e?l.error("This account has been disabled. Contact support."):"auth/too-many-requests"===e?l.error("Too many unsuccessful login attempts. Please wait and try again."):"auth/invalid-credential"===e?l.error("Invalid credentials. Please check your login details and try again."):"vendor/no-record"===e?l.error("No vendor record found. This account is not a vendor."):"vendor/account-deactivated"===e?l.error("Your vendor account is deactivated. Please contact support."):"vendor/email-unverified"===e?l.error("Your email is not verified. Please check your inbox for a verification link."):l.error("Oops! Something went wrong while logging you in. Please try again."):l.error("Oops! Something went wrong while logging you in. Please try again.")}finally{W(!1)}},children:[a.jsxs(j,{className:"relative mb-3",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(y,{className:"text-gray-500 text-xl"})}),a.jsx("input",{type:"email",placeholder:"Enter your email",value:k,onChange:e=>P(e.target.value),className:"w-full h-12 bg-white text-black font-opensans rounded-md text-sm border border-gray-200 pl-14 focus:outline-none focus:ring-2 focus:ring-customOrange",required:!0})]}),a.jsxs(j,{className:"relative mb-3",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(v,{className:"text-gray-500 text-xl"})}),a.jsx("input",{type:L?"text":"password",placeholder:"Enter your password",value:C,onChange:e=>T(e.target.value),className:"w-full h-12 bg-white text-black font-opensans rounded-md text-sm border border-gray-200 pl-14 focus:outline-none focus:ring-2 focus:ring-customOrange",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",onClick:()=>E(!L),children:L?a.jsx(n,{className:"text-gray-500 text-xl"}):a.jsx(i,{className:"text-gray-500 text-xl"})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(r,{to:"/forgetpassword",className:"text-customOrange font-lato text-xs",children:"Forgot password?"})}),a.jsx(S.button,{type:"submit",className:"w-full h-12 mt-4 rounded-full flex items-center justify-center bg-customOrange text-white font-semibold font-opensans text-sm hover:bg-orange-600 shadow-md",disabled:V,children:V?a.jsx(b,{strokeColor:"white",strokeWidth:"5",width:"30"}):"Login"})]}),a.jsx("div",{className:"text-center font-opensans text-xs font-light mt-4",children:a.jsxs("p",{className:"text-gray-900 ",children:["Want to become a vendor?"," ",a.jsx("button",{onClick:()=>q("/vendor-signup"),className:"font-normal text-customOrange",children:"Sign Up"})]})})]})]})})})})]})};export{k as default};
