import{g as e,n as t,e as a}from"./swiper-react-OghNyo4H.js";function n(t){let a,n,{swiper:o,extendParams:i,on:s,emit:r,params:l}=t;o.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,d,p,m,c,y,v,f,T=l&&l.autoplay?l.autoplay.delay:3e3,g=l&&l.autoplay?l.autoplay.delay:3e3,M=(new Date).getTime();function h(e){o&&!o.destroyed&&o.wrapperEl&&e.target===o.wrapperEl&&(o.wrapperEl.removeEventListener("transitionend",h),f||e.detail&&e.detail.bySwiperTouchMove||L())}const b=()=>{if(o.destroyed||!o.autoplay.running)return;o.autoplay.paused?d=!0:d&&(g=u,d=!1);const e=o.autoplay.paused?u:M+g-(new Date).getTime();o.autoplay.timeLeft=e,r("autoplayTimeLeft",e,e/T),n=requestAnimationFrame((()=>{b()}))},w=e=>{if(o.destroyed||!o.autoplay.running)return;cancelAnimationFrame(n),b();let t=void 0===e?o.params.autoplay.delay:e;T=o.params.autoplay.delay,g=o.params.autoplay.delay;const i=(()=>{let e;if(e=o.virtual&&o.params.virtual.enabled?o.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:o.slides[o.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(i)&&i>0&&void 0===e&&(t=i,T=i,g=i),u=t;const s=o.params.speed,l=()=>{o&&!o.destroyed&&(o.params.autoplay.reverseDirection?!o.isBeginning||o.params.loop||o.params.rewind?(o.slidePrev(s,!0,!0),r("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(o.slides.length-1,s,!0,!0),r("autoplay")):!o.isEnd||o.params.loop||o.params.rewind?(o.slideNext(s,!0,!0),r("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(0,s,!0,!0),r("autoplay")),o.params.cssMode&&(M=(new Date).getTime(),requestAnimationFrame((()=>{w()}))))};return t>0?(clearTimeout(a),a=setTimeout((()=>{l()}),t)):requestAnimationFrame((()=>{l()})),t},E=()=>{M=(new Date).getTime(),o.autoplay.running=!0,w(),r("autoplayStart")},S=()=>{o.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(n),r("autoplayStop")},x=(e,t)=>{if(o.destroyed||!o.autoplay.running)return;clearTimeout(a),e||(v=!0);const n=()=>{r("autoplayPause"),o.params.autoplay.waitForTransition?o.wrapperEl.addEventListener("transitionend",h):L()};if(o.autoplay.paused=!0,t)return y&&(u=o.params.autoplay.delay),y=!1,void n();const i=u||o.params.autoplay.delay;u=i-((new Date).getTime()-M),o.isEnd&&u<0&&!o.params.loop||(u<0&&(u=0),n())},L=()=>{o.isEnd&&u<0&&!o.params.loop||o.destroyed||!o.autoplay.running||(M=(new Date).getTime(),v?(v=!1,w(u)):w(),o.autoplay.paused=!1,r("autoplayResume"))},D=()=>{if(o.destroyed||!o.autoplay.running)return;const t=e();"hidden"===t.visibilityState&&(v=!0,x(!0)),"visible"===t.visibilityState&&L()},O=e=>{"mouse"===e.pointerType&&(v=!0,f=!0,o.animating||o.autoplay.paused||x(!0))},R=e=>{"mouse"===e.pointerType&&(f=!1,o.autoplay.paused&&L())};s("init",(()=>{o.params.autoplay.enabled&&(o.params.autoplay.pauseOnMouseEnter&&(o.el.addEventListener("pointerenter",O),o.el.addEventListener("pointerleave",R)),e().addEventListener("visibilitychange",D),E())})),s("destroy",(()=>{o.el&&"string"!=typeof o.el&&(o.el.removeEventListener("pointerenter",O),o.el.removeEventListener("pointerleave",R)),e().removeEventListener("visibilitychange",D),o.autoplay.running&&S()})),s("_freeModeStaticRelease",(()=>{(m||v)&&L()})),s("_freeModeNoMomentumRelease",(()=>{o.params.autoplay.disableOnInteraction?S():x(!0,!0)})),s("beforeTransitionStart",((e,t,a)=>{!o.destroyed&&o.autoplay.running&&(a||!o.params.autoplay.disableOnInteraction?x(!0,!0):S())})),s("sliderFirstMove",(()=>{!o.destroyed&&o.autoplay.running&&(o.params.autoplay.disableOnInteraction?S():(p=!0,m=!1,v=!1,c=setTimeout((()=>{v=!0,m=!0,x(!0)}),200)))})),s("touchEnd",(()=>{if(!o.destroyed&&o.autoplay.running&&p){if(clearTimeout(c),clearTimeout(a),o.params.autoplay.disableOnInteraction)return m=!1,void(p=!1);m&&o.params.cssMode&&L(),m=!1,p=!1}})),s("slideChange",(()=>{!o.destroyed&&o.autoplay.running&&(y=!0)})),Object.assign(o.autoplay,{start:E,stop:S,pause:x,resume:L})}function o(e){let{swiper:n,extendParams:o,emit:i,once:s}=e;o({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(n,{freeMode:{onTouchStart:function(){if(n.params.cssMode)return;const e=n.getTranslate();n.setTranslate(e),n.setTransition(0),n.touchEventsData.velocities.length=0,n.freeMode.onTouchEnd({currentPos:n.rtl?n.translate:-n.translate})},onTouchMove:function(){if(n.params.cssMode)return;const{touchEventsData:e,touches:a}=n;0===e.velocities.length&&e.velocities.push({position:a[n.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:a[n.isHorizontal()?"currentX":"currentY"],time:t()})},onTouchEnd:function(e){let{currentPos:o}=e;if(n.params.cssMode)return;const{params:r,wrapperEl:l,rtlTranslate:u,snapGrid:d,touchEventsData:p}=n,m=t()-p.touchStartTime;if(o<-n.minTranslate())n.slideTo(n.activeIndex);else if(o>-n.maxTranslate())n.slides.length<d.length?n.slideTo(d.length-1):n.slideTo(n.slides.length-1);else{if(r.freeMode.momentum){if(p.velocities.length>1){const e=p.velocities.pop(),a=p.velocities.pop(),o=e.position-a.position,i=e.time-a.time;n.velocity=o/i,n.velocity/=2,Math.abs(n.velocity)<r.freeMode.minimumVelocity&&(n.velocity=0),(i>150||t()-e.time>300)&&(n.velocity=0)}else n.velocity=0;n.velocity*=r.freeMode.momentumVelocityRatio,p.velocities.length=0;let e=1e3*r.freeMode.momentumRatio;const o=n.velocity*e;let m=n.translate+o;u&&(m=-m);let c,y=!1;const v=20*Math.abs(n.velocity)*r.freeMode.momentumBounceRatio;let f;if(m<n.maxTranslate())r.freeMode.momentumBounce?(m+n.maxTranslate()<-v&&(m=n.maxTranslate()-v),c=n.maxTranslate(),y=!0,p.allowMomentumBounce=!0):m=n.maxTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(m>n.minTranslate())r.freeMode.momentumBounce?(m-n.minTranslate()>v&&(m=n.minTranslate()+v),c=n.minTranslate(),y=!0,p.allowMomentumBounce=!0):m=n.minTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(r.freeMode.sticky){let e;for(let t=0;t<d.length;t+=1)if(d[t]>-m){e=t;break}m=Math.abs(d[e]-m)<Math.abs(d[e-1]-m)||"next"===n.swipeDirection?d[e]:d[e-1],m=-m}if(f&&s("transitionEnd",(()=>{n.loopFix()})),0!==n.velocity){if(e=u?Math.abs((-m-n.translate)/n.velocity):Math.abs((m-n.translate)/n.velocity),r.freeMode.sticky){const t=Math.abs((u?-m:m)-n.translate),a=n.slidesSizesGrid[n.activeIndex];e=t<a?r.speed:t<2*a?1.5*r.speed:2.5*r.speed}}else if(r.freeMode.sticky)return void n.slideToClosest();r.freeMode.momentumBounce&&y?(n.updateProgress(c),n.setTransition(e),n.setTranslate(m),n.transitionStart(!0,n.swipeDirection),n.animating=!0,a(l,(()=>{n&&!n.destroyed&&p.allowMomentumBounce&&(i("momentumBounce"),n.setTransition(r.speed),setTimeout((()=>{n.setTranslate(c),a(l,(()=>{n&&!n.destroyed&&n.transitionEnd()}))}),0))}))):n.velocity?(i("_freeModeNoMomentumRelease"),n.updateProgress(m),n.setTransition(e),n.setTranslate(m),n.transitionStart(!0,n.swipeDirection),n.animating||(n.animating=!0,a(l,(()=>{n&&!n.destroyed&&n.transitionEnd()})))):n.updateProgress(m),n.updateActiveIndex(),n.updateSlidesClasses()}else{if(r.freeMode.sticky)return void n.slideToClosest();r.freeMode&&i("_freeModeNoMomentumRelease")}(!r.freeMode.momentum||m>=r.longSwipesMs)&&(i("_freeModeStaticRelease"),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses())}}}})}export{n as A,o as f};
