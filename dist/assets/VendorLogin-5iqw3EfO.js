import{r as e,h as t,bh as s,j as a,S as r,af as n,Q as o,aR as i,aT as l,aj as c,ak as d,I as u,a2 as m,bi as x,as as h,d as f,a as p,y as g,aq as j,ar as v}from"./index-CvIXhaMv.js";import{C as y,R as b,F as w,a as N}from"./reactstrap.modern-BbKta6iB.js";import{S as k}from"./SignUpAnimation-DYiMXoTV.js";import{T as S}from"./react-DNBAOpZC.js";import"./index-6PUMxdSt.js";import"./index-BVVzb-MI.js";import"./index-BaqZIR9i.js";import"./Transition-DlEawdUv.js";import"./inheritsLoose-BMl3PfwL.js";const O=()=>{const[O,P]=e.useState(""),[C,T]=e.useState(""),[L,I]=e.useState(!1),[V,q]=e.useState(!1),E=t(),W=s();return a.jsxs(a.Fragment,{children:[a.jsx(r,{title:"Vendor Login - My Thrift",description:"Login to your My Thrift vendor account",url:"https://www.shopmythrift.store/vendorlogin"}),a.jsx("section",{children:a.jsx(y,{children:a.jsx(b,{children:a.jsxs("div",{className:"px-2",children:[a.jsx(n,{to:"/confirm-state",onClick:localStorage.removeItem("mythrift_role"),children:a.jsx(o,{className:"text-3xl -translate-y-2 font-normal text-black"})}),a.jsx(k,{}),a.jsx("div",{className:"flex justify-center text-xl font-ubuntu text-customOrange -translate-y-1",children:a.jsx(S,{options:{strings:["Showcase your products","Connect with buyers"],autoStart:!0,loop:!0,delay:100,deleteSpeed:10}})}),a.jsx("div",{className:"flex justify-center text-xs font-medium text-customOrange -translate-y-2",children:a.jsx(S,{options:{strings:["and make OWO!","and make KUDI!","and make EGO!"],autoStart:!0,loop:!0,delay:50,deleteSpeed:30}})}),a.jsxs("div",{className:"translate-y-4",children:[a.jsx("div",{className:"mb-2",children:a.jsxs("h1",{className:"font-ubuntu text-5xl flex items-center font-semibold text-black gap-2",children:["Login",a.jsx("span",{className:"rounded-full px-3 py-1 bg-customOrange text-xs flex items-center justify-center",children:a.jsx("p",{className:"text-white text-xs leading-none",children:"Vendor"})})]})}),a.jsx("p",{className:"text-black text-sm font-opensans font-semibold",children:"Please sign in to continue"})]}),a.jsxs("div",{className:"translate-y-1 mt-6 px-2",children:[a.jsxs(w,{onSubmit:async e=>{if(e.preventDefault(),q(!0),!O.trim()||!C.trim())return x.error("Please fill in both email and password fields."),void q(!1);try{const e=(await h(W,O,C)).user,t=f(p,"vendors",e.uid),s=await g(t);if(!s.exists())throw await W.signOut(),{code:"vendor/no-record"};const a=s.data();if(a.isDeactivated)throw await W.signOut(),{code:"vendor/account-deactivated"};if(!e.emailVerified){const t=j(v,"sendVendorVerificationEmail");throw await t({email:e.email,firstName:a.firstName,lastName:a.lastName}),await W.signOut(),{code:"vendor/email-unverified"}}a.profileComplete?(x.success("Login successful!"),E("/vendordashboard")):(x("Please complete your profile."),E("/complete-profile"))}catch(t){const e=null==t?void 0:t.code;e?"auth/invalid-email"===e?x.error("Please enter a valid email address."):"auth/user-not-found"===e?x.error("We couldn't find an account with that email."):"auth/wrong-password"===e?x.error("Incorrect password. Please double-check and try again."):"auth/user-disabled"===e?x.error("This account has been disabled. Contact support."):"auth/too-many-requests"===e?x.error("Too many unsuccessful login attempts. Please wait and try again."):"auth/invalid-credential"===e?x.error("Invalid credentials. Please check your login details and try again."):"vendor/no-record"===e?x.error("No vendor record found. This account is not a vendor."):"vendor/account-deactivated"===e?x.error("Your vendor account is deactivated. Please contact support."):"vendor/email-unverified"===e?x.error("Your email is not verified. Please check your inbox for a verification link."):x.error("Oops! Something went wrong while logging you in. Please try again."):x.error("Oops! Something went wrong while logging you in. Please try again.")}finally{q(!1)}},children:[a.jsxs(N,{className:"relative mb-3",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(i,{className:"text-gray-500 text-xl"})}),a.jsx("input",{type:"email",placeholder:"Enter your email",value:O,onChange:e=>P(e.target.value),className:"w-full h-12 bg-white text-black font-opensans rounded-md text-base border border-gray-200 pl-14 focus:outline-none focus:ring-2 focus:ring-customOrange",required:!0})]}),a.jsxs(N,{className:"relative mb-3",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(l,{className:"text-gray-500 text-xl"})}),a.jsx("input",{type:L?"text":"password",placeholder:"Enter your password",value:C,onChange:e=>T(e.target.value),className:"w-full h-12 bg-white text-black font-opensans rounded-md text-base border border-gray-200 pl-14 focus:outline-none focus:ring-2 focus:ring-customOrange",required:!0}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",onClick:()=>I(!L),children:L?a.jsx(c,{className:"text-gray-500 text-xl"}):a.jsx(d,{className:"text-gray-500 text-xl"})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(n,{to:"/forgetpassword",className:"text-customOrange font-lato text-xs",children:"Forgot password?"})}),a.jsx(u.button,{type:"submit",className:"w-full h-12 mt-4 rounded-full flex items-center justify-center bg-customOrange text-white font-semibold font-opensans text-sm hover:bg-orange-600 shadow-md",disabled:V,children:V?a.jsx(m,{strokeColor:"white",strokeWidth:"5",width:"30"}):"Login"})]}),a.jsx("div",{className:"text-center font-opensans text-xs font-light mt-4",children:a.jsxs("p",{className:"text-gray-900 ",children:["Want to become a vendor?"," ",a.jsx("button",{onClick:()=>E("/vendor-signup"),className:"font-normal text-customOrange",children:"Sign Up"})]})})]})]})})})})]})};export{O as default};
