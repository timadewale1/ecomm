import{j as i,R as a,r as s,u as t,H as x,O as o,D as e,E as r,aO as y,I as k,e as d,h as m}from"./index-B6_tP4YQ.js";import{P as n}from"./ProductCard-CTMPZt-i.js";const c={nm:"4 Springy Dots Loader",ddd:0,h:1e3,w:1e3,meta:{g:"@lottiefiles/toolkit-js 0.33.2"},layers:[{ty:4,nm:"Dot_04",sr:1,st:11,op:72,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{s:!0,x:{a:0,k:723.3,ix:3},y:{a:0,k:494,ix:4},z:{a:0,k:0}},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:3,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,174],[0,-176]]},ix:2}},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[49.5],t:12},{o:{x:.333,y:0},i:{x:.667,y:1},s:[97],t:24},{o:{x:.333,y:0},i:{x:.667,y:1},s:[28.8],t:34},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.2],t:43},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.6],t:51},{s:[49.5],t:59}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.527,y:0},i:{x:.774,y:.963},s:[49.7],t:15},{o:{x:1,y:0},i:{x:.667,y:1},s:[97],t:25},{o:{x:.739,y:0},i:{x:.667,y:1},s:[28.9],t:35},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.3],t:45},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.3],t:52},{s:[49.7],t:59}],ix:1},m:1},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:114,ix:5},c:{a:0,k:[.9216,.9216,.9216],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Dot_03",sr:1,st:7,op:72,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{s:!0,x:{a:0,k:574.9,ix:3},y:{a:0,k:494,ix:4},z:{a:0,k:0}},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:3,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,174],[0,-176]]},ix:2}},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[49.5],t:8},{o:{x:.333,y:0},i:{x:.667,y:1},s:[97],t:20},{o:{x:.333,y:0},i:{x:.667,y:1},s:[28.8],t:30},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.2],t:39},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.6],t:47},{s:[49.5],t:55}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.527,y:0},i:{x:.774,y:.963},s:[49.7],t:11},{o:{x:1,y:0},i:{x:.667,y:1},s:[97],t:21},{o:{x:.739,y:0},i:{x:.667,y:1},s:[28.9],t:31},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.3],t:41},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.3],t:48},{s:[49.7],t:55}],ix:1},m:1},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:114,ix:5},c:{a:0,k:[.9216,.9216,.9216],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2},{ty:4,nm:"Dot_02",sr:1,st:3,op:72,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{s:!0,x:{a:0,k:426.5,ix:3},y:{a:0,k:494,ix:4},z:{a:0,k:0}},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:3,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,174],[0,-176]]},ix:2}},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[49.5],t:4},{o:{x:.333,y:0},i:{x:.667,y:1},s:[97],t:16},{o:{x:.333,y:0},i:{x:.667,y:1},s:[28.8],t:26},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.2],t:35},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.6],t:43},{s:[49.5],t:51}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.527,y:0},i:{x:.774,y:.963},s:[49.7],t:7},{o:{x:1,y:0},i:{x:.667,y:1},s:[97],t:17},{o:{x:.739,y:0},i:{x:.667,y:1},s:[28.9],t:27},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.3],t:37},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.3],t:44},{s:[49.7],t:51}],ix:1},m:1},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:114,ix:5},c:{a:0,k:[.9216,.9216,.9216],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"Dot_01",sr:1,st:-1,op:72,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[278,494,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:3,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,174],[0,-176]]},ix:2}},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[49.5],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[97],t:12},{o:{x:.333,y:0},i:{x:.667,y:1},s:[28.8],t:22},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.2],t:31},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.6],t:39},{s:[49.5],t:47}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.527,y:0},i:{x:.774,y:.963},s:[49.7],t:3},{o:{x:1,y:0},i:{x:.667,y:1},s:[97],t:13},{o:{x:.739,y:0},i:{x:.667,y:1},s:[28.9],t:23},{o:{x:.333,y:0},i:{x:.667,y:1},s:[57.3],t:33},{o:{x:.333,y:0},i:{x:.667,y:1},s:[45.3],t:40},{s:[49.7],t:47}],ix:1},m:1},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:114,ix:5},c:{a:0,k:[.9216,.9216,.9216],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4}],v:"5.5.10",fr:60,op:70,ip:0,assets:[]},p=()=>i.jsxs("div",{children:[" ",i.jsx("div",{className:"flex justify-start items-start ",children:i.jsx(a,{className:"w-12 h-12",animationData:c,loop:!0,autoplay:!0})})]}),h=({product:a})=>{const[c,h]=s.useState([]),[l,u]=s.useState([]),[v,f]=s.useState(!0),b=t(),D=async i=>{const a=d(o,"vendors",i),s=await m(a);if(s.exists()){const{isApproved:i,isDeactivated:a}=s.data();return!0===i&&!1===a}return!1};if(s.useEffect((()=>{a&&(async()=>{if(a)try{let i=[],s=[];const t=x(o,"products"),d=e(t,r("vendorId","==",a.vendorId),r("category","==",a.category),r("published","==",!0),r("isDeleted","==",!1),y(2));i=(await k(d)).docs.map((i=>({id:i.id,...i.data()}))).filter((i=>i.id!==a.id));const m=e(t,r("vendorId","!=",a.vendorId),r("category","==",a.category),r("published","==",!0),r("isDeleted","==",!1),y(10));s=(await k(m)).docs.map((i=>({id:i.id,...i.data()})));const n=[];for(const a of i)await D(a.vendorId)&&n.push(a);const c=[];for(const a of s)await D(a.vendorId)&&c.push(a);h(n),u(c)}catch(i){}finally{f(!1)}})()}),[a]),v)return i.jsx("div",{children:i.jsx(p,{})});if(0===c.length&&0===l.length)return null;return i.jsxs("div",{className:"related-products p-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold font-opensans",children:"You might also like"}),i.jsx("button",{onClick:()=>{b(`/category/${a.category}`)},className:"text-xs font-normal text-customOrange",children:"Show All"})]}),i.jsxs("div",{className:"grid grid-cols-2 mt-2 gap-4",children:[c.map((a=>i.jsx(n,{product:a,isLoading:!1,vendorName:a.vendorName,vendorId:a.vendorId},a.id))),l.map((a=>i.jsx(n,{product:a,isLoading:!1,vendorName:a.vendorName,vendorId:a.vendorId},a.id)))]})]})};export{p as L,h as R};
