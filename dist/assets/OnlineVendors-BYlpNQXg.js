import{h as e,f as s,i as t,r as a,d0 as r,j as n,S as l,Q as i,cQ as o,aM as c,R as d,cS as x,b4 as m,V as h}from"./index-CvIXhaMv.js";import{R as p}from"./react-stars-DecT5tWK.js";import{R as f}from"./Roundedstar-DswUk0sY.js";const u=()=>{const u=e(),j=s(),{online:g=[],status:b,isFetched:N}=t((e=>e.vendors)),[v,y]=a.useState(""),[w,k]=a.useState(""),[S,C]=a.useState(!1);a.useEffect((()=>{N||j(r())}),[j,N]);const F=a.useMemo((()=>{const e=v.toLowerCase().trim();return g.filter((s=>{const t=!e||s.shopName.toLowerCase().includes(e),a=!w||s.categories.includes(w);return t&&a}))}),[g,v,w]);return n.jsxs(n.Fragment,{children:[n.jsx(l,{title:"Online Vendors - My Thrift",description:"Shop from our online vendors on My Thrift",url:"https://www.shopmythrift.store/online-vendors"}),n.jsxs("div",{className:"mb-1 p-2",children:[n.jsxs("div",{className:"sticky py-3 w-[calc(100%+1rem)] -ml-2 top-0 bg-white z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 px-2",children:[!S&&n.jsxs(n.Fragment,{children:[n.jsx(i,{className:"text-3xl cursor-pointer",onClick:()=>u(-1)}),n.jsx("h1",{className:"text-xl font-opensans font-semibold",children:"Online Vendors"}),n.jsx(o,{className:"text-3xl cursor-pointer",onClick:()=>C(!0)})]}),S&&n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx(i,{className:"text-3xl cursor-pointer mr-2",onClick:()=>{y(""),k(""),C(!1),setSearchResults(g)}}),n.jsx("input",{type:"text",className:"flex-1 border text-base font-opensans  border-gray-300 rounded-full px-3 py-2 text-black focus:outline-none",value:v,onChange:e=>{y(e.target.value)},placeholder:"Search vendors..."})]})]}),!S&&n.jsx("div",{className:"flex scrollbar-hide justify-between mb-3 w-full overflow-x-auto space-x-2 px-2",children:["Thrifts","Mens","Womens","Underwears","Y2K","Jewelry","Kids","Trads","Dresses","Gowns","Shoes","Accessories","Bags","Sportswear","Formal"].map((e=>n.jsx("button",{onClick:()=>(e=>{k((s=>s===e?"":e))})(e),className:"flex-shrink-0 h-12 px-3 py-2 text-xs font-semibold font-opensans text-black border border-gray-200 rounded-full "+(w===e?"bg-customOrange text-white":"bg-transparent"),children:e},e)))})]}),n.jsxs("div",{className:"vendor-list -mx-2 translate-y-1",children:[n.jsx("hr",{className:"bg-gray-200 pb-0.5 w-full"}),"loading"===b?Array.from({length:5}).map(((e,s)=>n.jsx("div",{className:"vendor-item",children:n.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white",children:[n.jsxs("div",{children:[n.jsx(c,{width:150,height:24}),n.jsx(c,{width:100,height:16}),n.jsx(c,{width:120,height:24})]}),n.jsx(c,{height:96,width:96})]})},s))):F.length>0?F.map((e=>{const s=e.ratingCount||0,t=s>0?e.rating/s:0;return n.jsx("div",{className:"vendor-item border-b border-gray-100",children:n.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white",onClick:()=>(e=>{u(`/store/${e.id}`)})(e),children:[n.jsxs("div",{children:[n.jsx("h1",{className:"font-poppins text-black text-xl mb-1 font-medium",children:e.shopName.length>18?`${e.shopName.substring(0,18)}...`:e.shopName}),n.jsx("p",{className:"font-opensans text-xs text-gray-300 flex items-center -translate-y-1",children:e.categories.slice(0,3).map(((e,s)=>n.jsxs(d.Fragment,{children:[s>0&&n.jsx(x,{className:"mx-1 dot-size text-gray-300"}),e]},s)))}),n.jsxs("div",{className:"flex -ml-1 items-center text-gray-700 text-xs translate-y-4 mb-0",children:[n.jsx(m,{className:"mr-1 text-customOrange"}),n.jsx("span",{children:e.state})]}),n.jsxs("div",{className:"flex items-center translate-y-4",children:[n.jsx("span",{className:"text-black font-light text-[10px] mr-2",children:t.toFixed(1)}),n.jsx(p,{count:5,value:t,size:24,activeColor:"#ffd700",emptyIcon:n.jsx(f,{filled:!1}),filledIcon:n.jsx(f,{filled:!0}),edit:!1}),n.jsxs("span",{className:"text-black text-[10px] font-light ml-2",children:["(",s,")"]})]})]}),n.jsxs("div",{className:"relative w-24 h-24 overflow-hidden",children:[n.jsx(h,{className:"object-cover w-full h-full rounded-lg",src:e.coverImageUrl||"https://images.saatchiart.com/saatchi/1750204/art/9767271/8830343-WUMLQQKS-7.jpg",alt:e.shopName}),n.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 20%, rgba(255,255,255,0.3) 50%, transparent 80%)",backgroundSize:"200% 200%",animation:"shimmer 6s infinite ease-in-out"}})]})]})},e.id)})):n.jsxs("div",{className:"text-center my-10 px-6",children:[n.jsx("h2",{className:"text-2xl font-ubuntu font-medium",children:"No results found"}),n.jsx("p",{className:"text-gray-600",children:"Please try searching for another item or category."})]})]})]})]})};export{u as default};
