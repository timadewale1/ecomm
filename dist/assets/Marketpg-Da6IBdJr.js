import{u as e,c as s,r as t,bZ as a,j as r,G as n,au as l,ad as i,ar as o}from"./index-B6_tP4YQ.js";import{c}from"./index-YqizTpTw.js";import{R as m}from"./react-stars-BTZUCP3-.js";import{R as d}from"./Roundedstar-zF275NIx.js";import{i as x}from"./index-BZTi0IwX.js";import{S as h}from"./SEO-CG8nsGhn.js";import{e as f}from"./index-BRiOgcip.js";import{u}from"./useDispatch-DS0xcVHe.js";import"./index-Bx5UHif0.js";const j=()=>{const j=u(),g=e(),{local:p,online:b,isFetched:N,status:v}=s((e=>e.vendors)),[y,w]=t.useState("online"),[k,C]=t.useState(""),[S,M]=t.useState([]),[z,O]=t.useState(!1);t.useEffect((()=>{N||j(a())}),[j,N]),t.useEffect((()=>{const e="local"===y?p:b,s=k?e.filter((e=>e.shopName.toLowerCase().includes(k.toLowerCase()))):e;M(s)}),[p,b,y,k]);const F=e=>{w(e),M("local"===e?p:b)},L=()=>{C("")};return r.jsxs(r.Fragment,{children:[r.jsx(h,{title:"Browse Markets - My Thrift",description:"Browse through our list of vendors on My Thrift",url:"https://www.shopmythrift.store/browse-markets"}),r.jsxs("div",{className:"mb-1 ",children:[r.jsxs("div",{className:"sticky py-3 px-2 w-full top-0 bg-white z-10",children:[r.jsxs("div",{className:"flex flex-col mb-3 pb-2 px-2.5",children:[!z&&r.jsxs("div",{className:"flex justify-between mb-4",children:[r.jsx("h1",{className:"text-xl font-opensans font-semibold",children:"Stores"}),r.jsx(c,{className:""+("local"===y?"hidden":"text-3xl cursor-pointer"),onClick:()=>O(!0)})]}),z&&r.jsxs("div",{className:"flex items-center w-full mb-4 relative",children:[r.jsx(n,{className:"text-3xl cursor-pointer mr-2",onClick:()=>{O(!1),L()}}),r.jsx("input",{type:"text",className:"flex-1 border font-opensans text-black text-sm border-gray-300 rounded-full px-3 py-2 font-medium focus:outline-none",value:k,onChange:e=>{C(e.target.value.toLowerCase())},placeholder:"Search vendors..."}),k&&r.jsx(x,{className:"text-xl text-gray-500 cursor-pointer absolute right-3",onClick:L})]}),r.jsxs("div",{className:"flex justify-between mb-1 w-full px-2 overflow-x-auto space-x-2 scrollbar-hide",children:[r.jsx("button",{onClick:()=>F("online"),className:"flex-1 h-12 text-center text-sm font-medium font-opensans rounded-full "+("online"===y?"bg-customOrange text-white":"bg-transparent border-gray-200 font-medium border-2 text-black"),children:"Online Vendors"}),r.jsx("button",{onClick:()=>F("local"),className:"flex-1 h-12 text-center text-sm font-opensans font-medium rounded-full "+("local"===y?"bg-customOrange text-white":"bg-transparent border-gray-200 font-medium border-2 text-black"),children:"Market Vendors"})]})]}),r.jsx("div",{className:"border-t border-gray-300 mt-6"})]}),r.jsx("div",{className:"vendor-list px-2 pb-24 translate-y-1",children:"loading"===v?Array.from({length:5}).map(((e,s)=>r.jsx("div",{className:"vendor-item",children:r.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white ",children:[r.jsxs("div",{children:[r.jsx(l,{width:150,height:24}),r.jsx("div",{className:"flex items-center mt-1",children:r.jsx(l,{width:100,height:16})}),r.jsxs("div",{className:"flex items-center mt-4",children:[r.jsx(l,{width:30,height:16,className:"mr-2"}),r.jsx(l,{width:120,height:24}),r.jsx(l,{width:50,height:16,className:"ml-2"})]})]}),r.jsx("div",{children:r.jsx(l,{height:96,width:96})})]})},s))):"local"===y?r.jsxs("div",{className:"text-center my-10 px-6",children:[r.jsx("h2",{className:"text-3xl font-opensans mb-2 font-medium bg-gradient-to-r from-green-400 via-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Coming Soon: Market Place Vendors!"}),r.jsx("p",{className:"text-gray-600 text-sm font-opensans",children:"We're just getting started! Vendors from your local markets will be here soon, starting with Yaba. Stay tuned for something amazing! üß°"})]}):S.length>0?S.map((e=>r.jsx("div",{className:"vendor-item border-b  border-gray-100 ",children:r.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white ",onClick:()=>(e=>{g("local"===y?`/marketstorepage/${e.id}`:`/store/${e.id}`)})(e),children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-poppins text-black text-xl mb-1 font-medium",children:e.shopName.length>18?`${e.shopName.substring(0,18)}...`:e.shopName}),r.jsx("p",{className:"font-sans text-gray-300 text-xs flex items-center -translate-y-1",children:e.categories.slice(0,3).map(((e,s)=>r.jsxs(i.Fragment,{children:[s>0&&r.jsx(o,{className:"mx-1 dot-size text-gray-300"}),e]},s)))}),r.jsxs("div",{className:"flex -ml-1  items-center  text-gray-700 font-ubuntu font-  text-xs translate-y-4 mb-0",children:[r.jsx(f,{className:"mr-1 text-customOrange"}),r.jsx("span",{children:e.state})]}),r.jsxs("div",{className:"flex items-center translate-y-4",children:[r.jsx("span",{className:"text-black font-light text-xs mr-2",children:(e.rating/e.ratingCount||0).toFixed(1)}),r.jsx(m,{count:5,value:e.rating/e.ratingCount||0,size:24,activeColor:"#ffd700",emptyIcon:r.jsx(d,{filled:!1}),filledIcon:r.jsx(d,{filled:!0}),edit:!1}),r.jsxs("span",{className:"text-black ratings-text font-light ml-2",children:["(",e.ratingCount||0,")"]})]})]}),r.jsxs("div",{className:"relative w-24 h-24 overflow-hidden",children:[r.jsx("img",{className:"object-cover w-full h-full rounded-lg",src:e.coverImageUrl||"https://images.saatchiart.com/saatchi/1750204/art/9767271/8830343-WUMLQQKS-7.jpg",alt:e.shopName}),r.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 20%, rgba(255,255,255,0.3) 50%, transparent 80%)",backgroundSize:"200% 200%",animation:"shimmer 6s infinite ease-in-out"}})]})]})},e.id))):r.jsxs("div",{className:"text-center my-10",children:[r.jsx("h2",{className:"text-2xl font-opensans font-medium",children:"‚òπÔ∏è No results found"}),r.jsx("p",{className:"text-gray-600 text-sm font-opensans",children:"Please try searching for another vendor."})]})})]})]})};export{j as default};
