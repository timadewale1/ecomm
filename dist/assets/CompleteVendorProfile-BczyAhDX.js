import{j as e,r as t,Y as a,D as s,H as n,O as r,E as o,I as l,v as i,w as c,Z as d,$ as m,a0 as u,a1 as h,_ as p,a2 as x,a3 as g,a4 as f,u as b,L as j,G as N,W as v,Q as w,e as y,a5 as k,a6 as C,a7 as I,a8 as O,a9 as P}from"./index-B6_tP4YQ.js";import{a as S,R as M,F as B}from"./reactstrap.modern-1TI7C-B6.js";import{N as T}from"./states-CyCCD4Sf.js";import{B as D}from"./index-Bo5izuxS.js";import{$ as U}from"./module-rdBSHQ9l.js";import{c as A}from"./index-DOHX6TJd.js";import{T as L}from"./index-C-2PV_nF.js";import{m as H}from"./motion-nj0T3Q6E.js";import{F as z}from"./index-_8P_0wxn.js";import{C as E}from"./index-YqizTpTw.js";import{a as R}from"./index-BRiOgcip.js";import{L as F}from"./LocationPicker-UBsCVYnj.js";import{S as V}from"./SEO-CG8nsGhn.js";import"./index-KjFfD-Q4.js";import"./index-Bx5UHif0.js";import"./index-CfSqzuTe.js";import"./index-BaqZIR9i.js";import"./warning-DM8AoHwU.js";import"./Transition-EapTcxBc.js";import"./setPrototypeOf-CeEI3KLI.js";import"./inheritsLoose-HiINKdoJ.js";import"./emotion-unitless.esm-sScrWPmR.js";const $=({step:t})=>e.jsx("div",{className:"flex flex-col items-start space-y-4  w-full",children:e.jsx("div",{className:"flex justify-between space-x-2 w-full",children:Array.from({length:4}).map(((a,s)=>e.jsx("div",{className:"h-1 flex-grow  rounded-full "+(s<t?"bg-customOrange":"bg-gray-100")},s)))})}),W=({vendorData:x,setVendorData:g,step:f,handleInputChange:b,handleNextStep:j,setShowDropdown:N,showDropdown:v,categories:w,bankDetails:y,handleBankDetailsChange:k,deliveryMode:C,handleDeliveryModeChange:I,idVerification:O,handleIdVerificationChange:P,idImage:M,isIdImageUploading:B,handleIdImageUpload:z,handleProfileCompletion:E,banks:R,setIdImage:F,isLoading:V})=>{const[W,G]=t.useState(!1),[_,Y]=t.useState(!1),[J,K]=t.useState(""),[Q,Z]=t.useState(""),[q,X]=t.useState(!1),[ee,te]=t.useState(!1),[ae,se]=t.useState(!1),ne=e=>{const t=e.target.value;Z(t);const a=x.Address||"",s=a.includes(",")?`${a.split(",")[0]}, ${t}`:`${a} ${t}`.trim();g({...x,Address:s})},[re,oe]=t.useState(!1);t.useEffect((()=>{(async()=>{const e=x.shopName.trim().toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");if(e.length>=2){X(!0),te(!1),se(!1);try{const t=s(n(r,"vendors"),o("shopName","==",e));(await l(t)).empty?se(!0):te(!0)}catch(t){}finally{X(!1)}}else te(!1),se(!1)})()}),[x.shopName]);const le=t.useRef(null);t.useEffect((()=>{const e=e=>{le.current&&!le.current.contains(e.target)&&oe(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const ie=()=>x.shopName&&!ee&&11===x.phoneNumber.length&&x.Address&&x.marketPlace&&x.complexNumber&&x.categories.length>0&&x.daysAvailability&&x.openTime&&x.closeTime,ce=y.bankName&&10===y.accountNumber.length&&y.accountName,de=w.filter((e=>e.toLowerCase().includes(J.toLowerCase())));return e.jsx("div",{children:"marketplace"===x.marketPlaceType&&e.jsxs(e.Fragment,{children:[2===f&&e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h2",{className:"text-xl font-opensans font-semibold text-customBrown",children:"Create Shop"}),e.jsx("p",{className:"text-black font-light mt-2 font-opensans mb-3",children:"Set up your brand to get customers and sell products."}),e.jsx("p",{className:"text-xs font-opensans font-light text-customOrange mb-3",children:"Step 1: Business Information"}),e.jsx($,{step:1}),e.jsxs("h3",{className:"text-md font-semibold mb-4 mt-4 flex items-center ",children:[e.jsx(a,{className:"w-5 h-5 mr-2 text-header"}),"Brand Info"]}),e.jsxs(S,{className:"relative mb-4",children:[e.jsx("input",{type:"text",name:"shopName",placeholder:"Brand Name",value:x.shopName,onChange:async e=>{const t=e.target.value.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");if(g({...x,shopName:t}),t.length>=2)try{X(!0);const e=s(n(r,"vendors"),o("shopName","==",t));(await l(e)).empty?(te(!1),se(!0)):(te(!0),se(!1))}catch(a){}finally{X(!1)}else te(!1),se(!1)},className:"w-full h-12 p-3 border-2 font-opensans text-neutral-800 rounded-lg hover:border-customOrange focus:outline-none focus:border-customOrange "+(ee?"border-red-500":ae?"border-green-500":"")}),q&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0})}),!q&&ae&&!ee&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(i,{className:"text-green-500 rounded-full p-1",size:24})}),ee&&e.jsxs("div",{className:"text-red-500 text-xs flex items-center",children:[e.jsx(c,{className:"mr-1"}),"Shop name is already taken. Please choose another one."]})]}),e.jsx("input",{type:"tel",name:"phoneNumber",placeholder:" Phone Number",pattern:"[0-9]*",maxLength:"11",value:x.phoneNumber,onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&b(e)},className:"w-full h-12 mb-3 p-3 border-2 rounded-lg font-opensans text-black focus:outline-none focus:border-customOrange hover:border-customOrange"}),e.jsx("input",{type:"text",name:"Address",placeholder:" Address",value:x.Address,onChange:b,className:"w-full h-12 mb-3 p-3 border-2 rounded-lg font-opensans text-black focus:outline-none focus:border-customOrange hover:border-customOrange"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>{Y(!_),G(!1)},className:"w-full h-12 mb-3 p-3 border-2 rounded-lg bg-white font-opensans text-left flex items-center justify-between",children:[Q?e.jsx("span",{className:"text-neutral-800",children:Q}):e.jsx("span",{className:"text-neutral-400",children:"Choose a State"}),e.jsx("svg",{className:"fill-current h-4 w-4 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 1 1 1.06 1.06l-5.015 5.015a.75.75 0 0 1-1.06 0l-5.015-5.015a.75.75 0 1 1 1.06-1.06z"})})]}),_&&e.jsxs("div",{className:"absolute w-full text-neutral-400 bg-white border rounded-lg z-10",children:[e.jsx("div",{className:"p-2",children:e.jsx("input",{type:"text",value:J,onChange:e=>K(e.target.value),placeholder:"Search states...",className:"w-full p-2 border rounded-lg focus:outline-none focus:border-customOrange"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:T.filter((e=>e.toLowerCase().includes(J.toLowerCase()))).map(((t,a)=>e.jsx("div",{className:"p-2 h-12",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"state",value:t,checked:Q===t,onChange:ne,className:"mr-2 appearance-none h-4 w-4 border border-gray-300 checked:bg-customOrange checked:border-customOrange focus:outline-none focus:ring-2 focus:ring-customOrange focus:ring-opacity-50 rounded-lg"}),e.jsx("span",{className:"text-neutral-800",children:t})]})},a)))})]})]}),e.jsx(S,{className:"relative mb-4",children:e.jsxs("select",{name:"marketPlace",value:x.marketPlace,onChange:b,className:"w-full h-12 px-4 pr-10 border border-gray-300 rounded-lg bg-white text-left appearance-none focus:outline-none focus:ring-2 focus:ring-customOrange "+(""===x.marketPlace?"text-neutral-400":"text-neutral-800"),style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22%23666666%22 viewBox=%220 0 20 20%22><path d=%22M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 0 1 1.06 1.06l-5.015 5.015a.75.75 0 0 1-1.06 0L5.516 8.608a.75.75 0 0 1 1.06-1.06z%22 /></svg>')",backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1rem"},children:[e.jsx("option",{value:"",className:"text-neutral-400",children:"Choose MarketPlace"}),e.jsx("option",{value:"Yaba",children:"Yaba"})]})}),e.jsx("input",{type:"text",name:"complexNumber",placeholder:"Complex & Number",value:x.complexNumber,onChange:b,className:"w-full h-12 mb-3 p-3 border-2 rounded-lg font-opensans text-black focus:outline-none focus:border-customOrange hover:border-customOrange"}),e.jsx(S,{className:"relative mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>N(!v),className:"w-full h-12 mb-3 p-3 border-2 rounded-lg bg-white font-opensans text-left flex items-center justify-between",children:[x.categories.length>0?e.jsx("span",{className:"text-neutral-800",children:x.categories.join(", ")}):e.jsx("span",{className:"text-neutral-400",children:"Select Category"}),e.jsx("svg",{className:"fill-current h-4 w-4 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 1 1 1.06 1.06l-5.015 5.015a.75.75 0 0 1-1.06 0l-5.015-5.015a.75.75 0 1 1 1.06-1.06z"})})]}),v&&e.jsxs("div",{className:"absolute w-full text-neutral-400 bg-white border rounded-lg z-10",children:[e.jsx("div",{className:"p-2",children:e.jsx("input",{type:"text",value:J,onChange:e=>K(e.target.value),placeholder:"Search categories...",className:"w-full p-2 border rounded-lg focus:outline-none focus:border-customOrange"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:de.length>0?de.map(((t,a)=>e.jsx("div",{className:"p-2 h-12",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:t,checked:x.categories.includes(t),onChange:e=>{const a=[...x.categories];if(e.target.checked)a.push(t);else{const e=a.indexOf(t);e>-1&&a.splice(e,1)}g({...x,categories:a})},className:"mr-2 appearance-none h-4 w-4 border border-gray-300  checked:bg-customOrange checked:border-customOrange focus:outline-none focus:ring-2 focus:ring-customOrange focus:ring-opacity-50 rounded-lg"}),e.jsx("span",{className:"text-neutral-800",children:t})]})},a))):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No categories found"})})]})]})}),e.jsx("input",{type:"text",name:"description",placeholder:" Description",value:x.description,onChange:b,className:"w-full h-12 mb-3 p-3 border-2 font-opensans text-black rounded-lg focus:outline-none focus:border-customOrange hover:border-customOrange"}),e.jsxs("h3",{className:"text-md font-semibold mb-4 mt-1 flex items-center ",children:[e.jsx(d,{className:"w-5 h-5 mr-2 text-header"}),"Operations"]}),e.jsxs("div",{className:"relative mb-4",ref:le,children:[e.jsxs("button",{type:"button",onClick:()=>oe(!re),className:"w-full h-12 mb-3 p-3 border-2 rounded-lg bg-white font-opensans text-left flex items-center justify-between",children:[x.daysAvailability.length>0?e.jsx("span",{className:"text-neutral-800",children:x.daysAvailability.join(", ")}):e.jsx("span",{className:"text-neutral-400",children:"Days of Availability"}),e.jsx("svg",{className:"fill-current h-4 w-4 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 1 1 1.06 1.06l-5.015 5.015a.75.75 0 0 1-1.06 0l-5.015-5.015a.75.75 0 1 1 1.06-1.06z"})})]}),re&&e.jsx("div",{className:"absolute w-full text-neutral-400 bg-white border rounded-lg z-10",children:e.jsx("div",{className:"max-h-60 overflow-y-auto",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(((t,a)=>e.jsx("div",{className:"p-2 h-12",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:t,checked:x.daysAvailability.includes(t),onChange:e=>{let a=[...x.daysAvailability];e.target.checked?a.push(t):a=a.filter((e=>e!==t)),g({...x,daysAvailability:a})},className:"mr-2 appearance-none h-4 w-4 border border-gray-300 checked:bg-customOrange checked:border-customOrange focus:outline-none focus:ring-2 focus:ring-customOrange focus:ring-opacity-50 rounded-lg"}),e.jsx("span",{className:"text-neutral-800",children:t})]})},a)))})})]}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx(S,{className:"w-1/2 mr-2",children:e.jsxs("select",{name:"openTime",value:x.openTime,onChange:b,className:"w-full h-12 px-4 pr-10 font-opensans text-black border border-gray-300 rounded-lg bg-white text-left appearance-none focus:outline-none focus:ring-2 focus:ring-customOrange "+(""===x.openTime?"text-neutral-400":"text-neutral-800"),style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22%23666666%22 viewBox=%220 0 20 20%22><path d=%22M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 111.06 1.06l-5.015 5.015a.75.75 0 01-1.06 0L5.516 8.608a.75.75 0 111.06-1.06z%22 /></svg>')",backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1rem"},children:[e.jsx("option",{value:"",className:"text-neutral-400",children:"Open time"}),e.jsx("option",{value:"7:00 AM",children:"7:00 AM"}),e.jsx("option",{value:"8:00 AM",children:"8:00 AM"}),e.jsx("option",{value:"9:00 AM",children:"9:00 AM"}),e.jsx("option",{value:"10:00 AM",children:"10:00 AM"}),e.jsx("option",{value:"11:00 AM",children:"11:00 AM"}),e.jsx("option",{value:"12:00 PM",children:"12:00 PM"})]})}),e.jsx(S,{className:"w-1/2",children:e.jsxs("select",{name:"closeTime",value:x.closeTime,onChange:b,className:"w-full h-12 px-4 pr-10 border font-opensans text-black border-gray-300 rounded-lg bg-white text-left appearance-none focus:outline-none focus:ring-2 focus:ring-customOrange "+(""===x.closeTime?"text-neutral-400":"text-neutral-800"),style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22%23666666%22 viewBox=%220 0 20 20%22><path d=%22M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 111.06 1.06l-5.015 5.015a.75.75 0 01-1.06 0L5.516 8.608a.75.75 0 111.06-1.06z%22 /></svg>')",backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1rem"},children:[e.jsx("option",{value:"",className:"text-neutral-400",children:"Closing time"}),e.jsx("option",{value:"4:00 PM",children:"4:00 PM"}),e.jsx("option",{value:"5:00 PM",children:"5:00 PM"}),e.jsx("option",{value:"6:00 PM",children:"6:00 PM"}),e.jsx("option",{value:"7:00 PM",children:"7:00 PM"}),e.jsx("option",{value:"8:00 PM",children:"8:00 PM"}),e.jsx("option",{value:"9:00 PM",children:"9:00 PM"})]})})]}),e.jsx(H.button,{className:"w-full h-12 text-white rounded-full "+(ie?"bg-customOrange":"bg-customOrange opacity-50"),onClick:()=>x.shopName?x.phoneNumber&&11===x.phoneNumber.length?x.Address?x.marketPlace?x.complexNumber?0===x.categories.length?(p.error("Please select at least one category",{position:p.POSITION.TOP_RIGHT}),!1):x.daysAvailability?x.openTime?x.closeTime?(j(),!0):(p.error("Please select a closing time",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please select an opening time",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please select days of availability",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please fill in the complex number",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please select a location",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please fill in the brand address",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Phone number must be 11 digits",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please fill in the brand name",{position:p.POSITION.TOP_RIGHT}),!1),disabled:!ie(),children:"Next"})]}),3===f&&e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h2",{className:"text-xs text-customOrange font-light font-opensans mb-3",children:"Step 2: Bank Details"}),e.jsx($,{step:2}),e.jsxs("h3",{className:"text-md font-semibold font-opensans text-black mt-3 mb-3 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-3 font-opensans text-header"}),"Bank Details"]}),e.jsx(S,{className:"relative mb-2",children:e.jsx("div",{className:"relative font-opensans",children:e.jsxs("select",{name:"bankName",value:y.bankName,onChange:k,className:"w-full h-12 px-4 pr-10 border border-gray-300 rounded-lg bg-white text-neutral-800 text-left appearance-none focus:outline-none focus:ring-2 focus:ring-customOrange focus:border-customOrange",style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22%23f97316%22 viewBox=%220 0 20 20%22><path d=%22M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 011.06 1.06l-5.015 5.015a.75.75 0 01-1.06 0l-5.015-5.015a.75.75 0 011.06-1.06z%22 /></svg>')",backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1rem"},children:[e.jsx("option",{value:"",children:"Bank Name"}),R.map(((t,a)=>e.jsx("option",{value:t,children:t},a)))]})})}),e.jsx("input",{type:"tel",name:"accountNumber",placeholder:"Account Number",value:y.accountNumber,maxLength:"10",onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&k(e)},className:"w-full h-10 mb-4 p-4 border-2 font-opensans text-neutral-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-customOrange"}),e.jsx("input",{type:"text",name:"accountName",placeholder:"Account Name",value:y.accountName,onChange:k,className:"w-full h-10 mb-4 p-4 border-2 font-opensans text-neutral-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-customOrange"}),e.jsx(H.button,{className:"w-11/12 h-12 fixed bottom-6 font-opensans  left-0 right-0 mx-auto flex justify-center items-center text-white rounded-full "+(ce?"bg-customOrange":"bg-customOrange opacity-50"),onClick:()=>y.bankName?y.accountNumber&&10===y.accountNumber.length?y.accountName?(j(),!0):(p.error("Please fill in the account name",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Account number must be 10 digits",{position:p.POSITION.TOP_RIGHT}),!1):(p.error("Please select a bank name",{position:p.POSITION.TOP_RIGHT}),!1),children:"Next"})]}),4===f&&e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h2",{className:"text-xs text-customOrange font-light font-opensans mb-3",children:"Step 3: Delivery Mode"}),e.jsx($,{step:3}),e.jsxs("h3",{className:"text-md font-semibold font-opensans text-header mt-3 mb-3 flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-black font-opensans"}),"Delivery Mode"]}),e.jsx("p",{className:"text-black font-light text-sm mb-4 font-opensans",children:"Choose a delivery mode for your store"}),e.jsx("div",{className:"",children:e.jsxs("div",{onClick:()=>I("Pickup"),className:"border-0 p-2 mb-4 rounded-lg cursor-pointer flex justify-between items-center border-customOrange",children:[e.jsx("span",{className:"font-opensans",children:"Pickup"}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex justify-center items-center border-customOrange",children:"Pickup"===C&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-customOrange"})})]})}),e.jsx(H.button,{className:"w-11/12 h-12 fixed bottom-6 font-opensans left-0 right-0 mx-auto flex justify-center items-center text-white rounded-full "+(C?"bg-customOrange":"bg-customOrange opacity-20"),onClick:j,disabled:!C,children:"Next"})]}),5===f&&e.jsxs("div",{className:"p-2 mt-4 font-opensans",children:[e.jsx("h2",{className:"text-sm text-customOrange mb-3 font-opensans",children:"Step 4: ID verification"}),e.jsx($,{step:4}),e.jsxs("h3",{className:"text-md mt-3 font-semibold font-opensans flex items-center mb-3",children:[e.jsx(u,{className:"w-5 h-5 mr-2 text-gray-600"}),"ID Verification"]}),e.jsx("div",{className:"relative mb-2 font-opensans",children:e.jsxs("select",{name:"idVerification",value:O,onChange:P,className:"w-full h-10 px-4 pr-10 border border-gray-300 rounded-lg bg-white text-gray-700 text-left appearance-none focus:outline-none focus:ring-2 focus:ring-customOrange",style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22%23666666%22 viewBox=%220 0 20 20%22><path d=%22M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 01 1.06 1.06l-5.015 5.015a.75.75 0 01-1.06 0l-5.015-5.015a.75.75 0 01-1.06-1.06z%22 /></svg>')",backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1rem"},children:[e.jsx("option",{value:"",children:"Select Verification Document"}),e.jsx("option",{value:"NIN",children:"NIN"}),e.jsx("option",{value:"International Passport",children:"International Passport"}),e.jsx("option",{value:"CAC",children:"CAC"})]})}),e.jsxs("h3",{className:"text-md mt-3 font-semibold font-opensans mb-3 flex items-center",children:[e.jsx(L,{className:"w-5 h-5 mr-2 text-black"}),"Upload ID"]}),e.jsx("div",{className:"border-2 border-customBrown border-dashed rounded-lg h-48 w-full text-center mb-6",children:M?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:"string"==typeof M?M:URL.createObjectURL(M),alt:"Uploaded ID",className:"w-full h-full object-cover rounded-lg"}),B&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0})}),!B&&e.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-customBrown text-white rounded-full p-1",onClick:()=>{F(null),g({...x,idImage:null})},children:e.jsx(h,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"border-dashed rounded-lg h-48 w-full text-center border-opacity-20 mb-6 flex flex-col justify-center items-center",children:B?e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}):e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"idImageUpload",className:"cursor-pointer",children:e.jsx(D,{size:54,className:"text-customOrange opacity-40"})}),e.jsx("input",{type:"file",className:"hidden",onChange:z,id:"idImageUpload",disabled:B}),e.jsx("label",{htmlFor:"idImageUpload",className:"text-customOrange opacity-40 font-opensans cursor-pointer text-sm",children:"Upload ID image"})]})})}),e.jsx(H.button,{type:"submit",className:"w-11/12 h-12 fixed bottom-6 left-0 right-0 mx-auto flex justify-center items-center text-white rounded-full "+(O&&M?"bg-customOrange":"bg-customOrange opacity-20"),onClick:E,disabled:!O||!M||V,children:V?e.jsx(U,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"30",visible:!0}):"Complete Profile"})]})]})})},G=[{code:"044",name:"Access Bank Nigeria Plc"},{code:"050",name:"Ecobank Nigeria"},{code:"070",name:"Fidelity Bank Plc"},{code:"011",name:"First Bank of Nigeria Plc"},{code:"50515",name:"Moniepoint MFB"},{code:"214",name:"First City Monument Bank"},{code:"058",name:"Guaranty Trust Bank Plc"},{code:"301",name:"Jaiz Bank"},{code:"082",name:"Keystone Bank Ltd"},{code:"076",name:"Skye Bank Plc"},{code:"039",name:"Stanbic IBTC Plc"},{code:"232",name:"Sterling Bank Plc"},{code:"032",name:"Union Bank Nigeria Plc"},{code:"033",name:"United Bank for Africa Plc"},{code:"215",name:"Unity Bank Plc"},{code:"035",name:"WEMA Bank Plc"},{code:"057",name:"Zenith Bank International"},{code:"101",name:"Providus Bank"},{code:"104",name:"Parallex Bank Limited"},{code:"303",name:"Lotus Bank Limited"},{code:"105",name:"Premium Trust Bank Ltd"},{code:"106",name:"Signature Bank Ltd"},{code:"103",name:"Globus Bank"},{code:"102",name:"Titan Trust Bank"},{code:"067",name:"Polaris Bank"},{code:"107",name:"Optimus Bank Ltd"},{code:"068",name:"Standard Chartered Bank"},{code:"100",name:"Suntrust Bank"},{code:"999992",name:"Opay"},{code:"50211",name:"Kuda Bank"}],_=({vendorData:a,setVendorData:d,step:b,getProgress:j,handleInputChange:N,handleNextStep:v,setShowDropdown:w,showDropdown:y,categories:k,bankDetails:C,handleBankDetailsChange:I,deliveryMode:O,handleDeliveryModeChange:P,idVerification:M,handleIdVerificationChange:B,idImage:V,handleIdImageUpload:W,handleProfileCompletion:_,handleImageUpload:Y,handleSocialMediaChange:J,setBankDetails:K,showBankDropdown:Q,setShowBankDropdown:Z,selectedBank:q,setSelectedBank:X,setIdImage:ee,isCoverImageUploading:te,isIdImageUploading:ae,isLoading:se})=>{const ne=e=>{try{return!e||e.startsWith("http://")||e.startsWith("https://")||(e=`https://${e}`),new URL(e),!0}catch(t){return!1}},re=()=>{if(2===b){if(!a.shopName)return p.error("Please fill in the shop name"),!1;if(!a.Address)return p.error("Please fill in Address"),!1;if(0===a.categories.length)return p.error("Please select at least one category"),!1;if(!a.coverImageUrl)return p.error("Please upload a cover image"),!1;const{instagram:e,facebook:t,twitter:s,tiktok:n}=a.socialMediaHandle;if(!e&&!t&&!s&&!n||e&&!ne(e)||t&&!ne(t)||n&&!ne(n)||s&&!ne(s))return p.error("Please provide valid social media links. Include https://"),!1}if(3===b){if(!C.bankName)return p.error("Please select a bank"),!1;if(!C.accountNumber||10!==C.accountNumber.length)return p.error("Account number must be 10 digits"),!1;if(!C.accountName)return p.error("Please fill in the account name"),!1}return v(),!0},[oe,le]=t.useState(!1),[ie,ce]=t.useState(!1),[de,me]=t.useState(!1),[ue,he]=t.useState(!1),[pe,xe]=t.useState(!1),[ge,fe]=t.useState(""),[be,je]=t.useState(""),[Ne,ve]=t.useState(""),[we,ye]=t.useState(!1),[ke,Ce]=t.useState("");G.filter((e=>e.name.toLowerCase().includes(ke.toLowerCase())));t.useEffect((()=>{(async()=>{const e=a.shopName.trim().toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");if(e.length>=2){ce(!0),me(!1),he(!1);try{const t=s(n(r,"vendors"),o("shopName","==",e));(await l(t)).empty?he(!0):me(!0)}catch(t){}finally{ce(!1)}}else me(!1),he(!1)})()}),[a.shopName]);const Ie=()=>2===b?a.shopName&&!de&&a.Address&&a.categories.length>0&&a.coverImageUrl&&(a.socialMediaHandle.instagram||a.socialMediaHandle.facebook||a.socialMediaHandle.tiktok||a.socialMediaHandle.twitter):3===b?C.bankName&&10===C.accountNumber.length&&C.accountName:4===b?!!O:5===b&&(M&&V),Oe=k.filter((e=>e.toLowerCase().includes(be.toLowerCase())));return t.useEffect((()=>{const e=e=>{e.target.closest(".dropdown-container")||Z(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),t.useEffect((()=>{const e=e=>{e.target.closest(".category-dropdown")||le(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),e.jsx("div",{children:"virtual"===a.marketPlaceType&&e.jsxs(e.Fragment,{children:[2===b&&e.jsxs("div",{className:"p-2 mt",children:[e.jsx("h2",{className:"text-xl font-opensans font-semibold text-customBrown",children:"Create Shop"}),e.jsx("p",{className:"text-black font-light mt-2 font-opensans mb-3",children:"Set up your brand to get customers and sell products."}),e.jsx("p",{className:"text-xs text-customOrange font-opensans mb-2",children:"Step 1: Business Information"}),e.jsx($,{step:1}),e.jsxs("h3",{className:"text-md mt-4 font-semibold mb-4 font-opensans flex items-center ",children:[e.jsx(x,{className:"w-5 h-5 mr-2 text-header"}),"Brand Info"]}),e.jsxs(S,{className:"relative mb-4",children:[e.jsx("input",{type:"text",name:"shopName",placeholder:"Brand Name",value:a.shopName,onChange:async e=>{const t=e.target.value.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");if(d({...a,shopName:t}),t.length>=2)try{ce(!0);const e=s(n(r,"vendors"),o("shopName","==",t));(await l(e)).empty?(me(!1),he(!0)):(me(!0),he(!1))}catch(i){}finally{ce(!1)}else me(!1),he(!1)},className:"w-full h-12 p-3 border-2 font-opensans text-neutral-800 rounded-lg hover:border-customOrange focus:outline-none focus:border-customOrange "+(de?"border-red-500":ue?"border-green-500":"")}),ie&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0})}),!ie&&ue&&!de&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(i,{className:"text-green-500 rounded-full p-1",size:24})}),de&&e.jsxs("div",{className:"text-red-500 text-xs flex items-center",children:[e.jsx(c,{className:"mr-1"}),"Shop name is already taken. Please choose another one."]})]}),e.jsx("div",{className:"mb-2",children:e.jsx(F,{initialAddress:a.Address,onLocationSelect:({address:e,lat:t,lng:s})=>{d({...a,Address:e,location:{lat:t,lng:s}})}})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>{xe(!pe),le(!1)},className:"w-full h-12 mb-3 p-3 border-2 rounded-lg bg-white font-opensans text-left flex items-center justify-between",children:[Ne?e.jsx("span",{className:"text-neutral-800",children:Ne}):e.jsx("span",{className:"text-neutral-400",children:"Choose a State"}),e.jsx("svg",{className:"fill-current h-4 w-4 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 1 1 1.06 1.06l-5.015 5.015a.75.75 0 0 1-1.06 0l-5.015-5.015a.75.75 0 1 1 1.06-1.06z"})})]}),pe&&e.jsxs("div",{className:"absolute w-full text-neutral-400 bg-white border rounded-lg z-10",children:[e.jsx("div",{className:"p-2",children:e.jsx("input",{type:"text",value:ge,onChange:e=>fe(e.target.value),placeholder:"Search states...",className:"w-full p-2 border rounded-lg focus:outline-none focus:border-customOrange"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:T.filter((e=>e.toLowerCase().includes(ge.toLowerCase()))).map(((t,s)=>e.jsx("div",{className:"p-2 h-12 cursor-pointer hover:bg-gray-100",onClick:()=>(e=>{ve(e),d({...a,state:e}),xe(!1)})(t),children:e.jsx("span",{className:"text-neutral-800",children:t})},s)))})]})]}),e.jsxs("div",{className:"relative category-dropdown",children:[e.jsxs("button",{type:"button",onClick:()=>{le(!oe),xe(!1)},className:"w-full p-3 border-2 mb-3  rounded-lg bg-white font-opensans text-left flex items-center justify-between",style:{minHeight:"3rem",flexWrap:"wrap",alignItems:"flex-start"},children:[a.categories.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:a.categories.map(((t,a)=>e.jsx("span",{className:"bg-customOrange text-white text-xs rounded-full px-2 py-1",children:t},a)))}):e.jsx("span",{className:"text-neutral-400",children:"Select Brand Category"}),e.jsx("svg",{className:"fill-current h-4 w-4 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 1 1 1.06 1.06l-5.015 5.015a.75.75 0 0 1-1.06 0l-5.015-5.015a.75.75 0 1 1 1.06-1.06z"})})]}),oe&&e.jsxs("div",{className:"absolute w-full text-neutral-400 bg-white border rounded-lg category-dropdown z-10",children:[e.jsx("div",{className:"p-2",children:e.jsx("input",{type:"text",value:be,onChange:e=>je(e.target.value),placeholder:"Search categories...",className:"w-full p-2 border rounded-lg focus:outline-none focus:border-customOrange"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:Oe.length>0?Oe.map(((t,s)=>e.jsx("div",{className:"p-2 h-12",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:t,checked:a.categories.includes(t),onChange:e=>{const s=[...a.categories];if(e.target.checked)s.push(t);else{const e=s.indexOf(t);e>-1&&s.splice(e,1)}d({...a,categories:s})},className:"mr-2 appearance-none h-4 w-4 border border-gray-300 checked:bg-customOrange checked:border-customOrange focus:outline-none focus:ring-2 focus:ring-customOrange focus:ring-opacity-50 rounded-lg"}),e.jsx("span",{className:"text-neutral-800",children:t})]})},s))):e.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No categories found"})})]})]}),e.jsx("input",{type:"text",name:"description",placeholder:"Brand Description",value:a.description,onFocus:()=>le(!1),onChange:N,className:"w-full h-12 mb-4 p-3 border-2 font-opensans text-black rounded-lg focus:outline-none focus:border-customOrange hover:border-customOrange"}),e.jsxs("h3",{className:"text-md font-semibold mb-1 font-opensans flex items-center",children:[e.jsx(R,{className:"w-5 h-5 mr-2 text-header"}),"Social Media"]}),e.jsx("h4",{className:"font-opensans text-gray-700 mb-3 text-xs",children:"Your social media handles are collected for security reasons best known to us(minimum of one link must be attached)."}),e.jsxs("div",{className:"relative w-full mb-4",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(g,{className:"text-gray-500 text-xl"})}),e.jsx("input",{type:"text",name:"instagram",placeholder:"Instagram Link",value:a.socialMediaHandle.instagram,onChange:J,className:"w-full h-12 pl-12 pr-3 border-2 rounded-lg focus:outline-none focus:border-customOrange hover:border-customOrange "+(a.socialMediaHandle.instagram&&!ne(a.socialMediaHandle.instagram)?"border-red-500":"")})]}),e.jsxs("div",{className:"relative w-full mb-4",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(E,{className:"text-gray-500 text-xl"})}),e.jsx("input",{type:"text",name:"facebook",placeholder:"Facebook Link",value:a.socialMediaHandle.facebook,onChange:J,className:"w-full h-12 pl-12 pr-3 border-2 rounded-lg focus:outline-none focus:border-customOrange hover:border-customOrange "+(a.socialMediaHandle.facebook&&!ne(a.socialMediaHandle.facebook)?"border-red-500":"")})]}),e.jsxs("div",{className:"relative w-full mb-4",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(f,{className:"text-gray-500 text-xl"})}),e.jsx("input",{type:"text",name:"tiktok",placeholder:"Tiktok Link",value:a.socialMediaHandle.tiktok,onChange:J,className:"w-full h-12 pl-12 pr-3 border-2 rounded-lg focus:outline-none focus:border-customOrange hover:border-customOrange "+(a.socialMediaHandle.tiktok&&!ne(a.socialMediaHandle.tiktok)?"border-red-500":"")})]}),e.jsxs("div",{className:"relative w-full mb-4",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(z,{className:"text-gray-500 text-xl"})}),e.jsx("input",{type:"text",name:"twitter",placeholder:"Twitter(X) Link",value:a.socialMediaHandle.twitter,onChange:J,className:"w-full h-12 pl-12 pr-3 border-2 rounded-lg focus:outline-none focus:border-customOrange hover:border-customOrange "+(a.socialMediaHandle.twitter&&!ne(a.socialMediaHandle.twitter)?"border-red-500":"")})]}),e.jsxs("h3",{className:"text-md font-semibold mb-4 font-opensans flex items-center",children:[e.jsx(L,{className:"w-5 h-5 mr-2 text-xl text-header"}),"Upload Image"]}),e.jsxs("div",{className:"border-2 border-dashed border-customBrown rounded-lg h-48 w-full text-center mb-6",children:[e.jsxs("div",{className:"w-full h-full flex items-center justify-center cursor-pointer relative",onClick:()=>document.getElementById("shopImageUpload").click(),children:[a.coverImageUrl?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:a.coverImageUrl,alt:"Uploaded Shop",className:"w-full h-full object-cover rounded-lg"}),e.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-customBrown text-white rounded-full p-1",onClick:e=>{e.stopPropagation(),d((e=>({...e,coverImageUrl:null})))},children:e.jsx(h,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"p-12 flex flex-col justify-center items-center text-center",children:[e.jsx(D,{size:60,className:"mb-4 text-customOrange opacity-40"}),e.jsx("label",{htmlFor:"shopImageUpload",className:"text-orange-500 font-light font-opensans text-xs cursor-pointer",children:"Upload shop image here. Image must be clear and not more than 3MB."})]}),te&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0})})]}),e.jsx("input",{type:"file",id:"shopImageUpload",className:"hidden",onChange:e=>Y(e)})]}),e.jsx(H.button,{type:"button",className:"w-full h-12 text-white rounded-full "+(Ie()?"bg-customOrange":"bg-customOrange opacity-50"),onClick:re,disabled:!Ie(),children:"Next"})]}),3===b&&"virtual"===a.marketPlaceType&&e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h2",{className:"text-xs text-customOrange font-light font-opensans mb-3",children:"Step 2: Bank Details"}),e.jsx($,{step:2}),e.jsxs("h3",{className:"text-md font-semibold font-opensans text-black mt-3 mb-3 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-3 font-opensans text-header"}),"Bank Details"]}),e.jsxs("div",{className:"relative w-full mb-4",children:[e.jsx("label",{htmlFor:"bank-select",className:"block text-sm font-opensans font-medium text-gray-700",children:"Select Bank"}),e.jsxs("select",{id:"bank-select",name:"bankName",value:C.bankCode||"",onChange:e=>{const t=e.target.value,a=G.find((e=>e.code===t));a&&(K({...C,bankName:a.name,bankCode:a.code}),X(a))},className:"w-full h-12 px-3 border-2 rounded-lg font-opensans text-gray-800 hover:border-customOrange focus:outline-none focus:border-customOrange",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Bank"}),G.map((t=>e.jsx("option",{value:t.code,children:t.name},t.code)))]})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",name:"accountNumber",value:C.accountNumber||"",onChange:async e=>{const t=e.target.value;if(/^\d*$/.test(t)&&t.length<=10&&(K((e=>({...e,accountNumber:t,...t.length<10?{accountName:"",error:""}:{}}))),10===t.length&&q)){const e="d4f6f60628bfc7bdc540b58dda56067333685de482d8ec416581bc5bbb65aaa2",s="https://mythriftpayments.site/api/v1/",n=t;try{ye(!0);const t=`${s}/resolveAccount?accountNumber=${n}&bankCode=${q.code}`,a=await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}}),r=await a.json();a.ok&&!0===r.status&&r.data?(K((e=>({...e,accountName:r.data.account_name,error:""}))),p.success("Account resolved successfully")):(K((e=>({...e,accountName:"",error:r.message||"Invalid account number."}))),p.error(r.message||"Failed to resolve account number"))}catch(a){p.error("Error resolving account number. Please try again."),K((e=>({...e,accountName:"",error:"Error resolving account number."})))}finally{ye(!1)}}},placeholder:"Enter Account Number (10 digits)",disabled:we,className:"w-full h-12 px-3 pr-10 border-2 font-opensans text-neutral-800 rounded-lg hover:border-customOrange focus:outline-none focus:border-customOrange mb-1"}),we&&e.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0})})]}),C.error&&e.jsxs("p",{className:"text-lg text-red-500 text-center mt-8 font-ubuntu",children:["❌",C.error]}),!C.error&&C.accountName&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"font-opensans text-sm text-neutral-800 font-bold block mb-1",children:"Account Name"}),e.jsx("input",{type:"text",value:C.accountName,disabled:!0,className:"w-full h-12 px-3 border-2 font-opensans text-neutral-800 rounded-lg bg-gray-100"})]})}),e.jsx("div",{className:"mt-4",children:e.jsx(H.button,{type:"button",className:"w-11/12 h-12 fixed bottom-6 left-0 right-0 mx-auto flex justify-center items-center text-white rounded-full "+(C.accountName&&q&&!we?"bg-customOrange":"bg-customOrange opacity-50 cursor-not-allowed"),disabled:!(C.accountName&&q)||we,onClick:re,children:"Next"})})]}),4===b&&"virtual"===a.marketPlaceType&&e.jsxs("div",{className:"p-2 mt-3 ",children:[e.jsx("h2",{className:"text-xs text-customOrange font-light font-opensans mb-3",children:"Step 3: Delivery Mode"}),e.jsx($,{step:3}),e.jsxs("h3",{className:"text-md font-semibold font-opensans text-header mt-3 mb-3 flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-black font-opensans"}),"Delivery Mode"]}),e.jsx("p",{className:"text-black font-light text-sm mb-4 font-opensans",children:"Choose a delivery mode for your brand"}),e.jsxs("div",{className:"",children:[e.jsxs("div",{onClick:()=>P("Delivery"),className:"border-0 p-2 mb-4 rounded-lg cursor-pointer flex justify-between items-center "+("Delivery"===O?"border-customOrange":"border-gray-200"),children:[e.jsx("span",{className:"font-opensans",children:"Delivery"}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex justify-center items-center "+("Delivery"===O?"border-customOrange":"border-gray-200"),children:"Delivery"===O&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})})]}),e.jsxs("div",{className:"border-0 p-2 mb-4 rounded-lg cursor-not-allowed flex justify-between items-center border-gray-200 opacity-50",children:[e.jsx("span",{className:"font-opensans text-gray-400",children:"Pickup"}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex justify-center items-center border-gray-200"})]}),e.jsxs("div",{className:"border-0 p-2 mb-60 rounded-lg cursor-not-allowed flex justify-between items-center border-gray-200 opacity-50",children:[e.jsx("span",{className:"font-opensans text-gray-400",children:"Delivery & Pickup"}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex justify-center items-center border-gray-200"})]})]}),e.jsx(H.button,{type:"button",className:"w-11/12 h-12 fixed bottom-6 left-0 right-0 mx-auto flex justify-center items-center text-white font-opensans rounded-full "+(O?"bg-customOrange":"bg-customOrange opacity-20"),onClick:v,disabled:!O,children:"Next"})]}),5===b&&"virtual"===a.marketPlaceType&&e.jsxs("div",{className:"p-2 mt-3 ",children:[e.jsx("h2",{className:"text-xs text-customOrange font-light font-opensans mb-3",children:"Step 4: ID verification"}),e.jsx($,{step:4}),e.jsxs("h3",{className:"text-md mt-3 font-semibold font-opensans flex items-center mb-3",children:[e.jsx(u,{className:"w-5 h-5 mr-2 text-gray-600"}),"ID Verification"]}),e.jsx("div",{className:"relative mb-2 font-opensans",children:e.jsxs("select",{name:"idVerification",value:M,onChange:B,className:"w-full h-10 px-4 pr-10 border border-gray-300 rounded-lg bg-white text-gray-700 text-left appearance-none focus:outline-none focus:ring-2 focus:ring-customOrange",style:{backgroundImage:"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22%23666666%22 viewBox=%220 0 20 20%22><path d=%22M5.516 7.548l4.486 4.486 4.485-4.486a.75.75 0 01 1.06 1.06l-5.015 5.015a.75.75 0 01-1.06 0l-5.015-5.015a.75.75 0 01-1.06-1.06z%22 /></svg>')",backgroundPosition:"right 1rem center",backgroundRepeat:"no-repeat",backgroundSize:"1rem"},children:[e.jsx("option",{value:"",children:"Select Verification Document"}),e.jsx("option",{value:"NIN",children:"NIN"}),e.jsx("option",{value:"International Passport",children:"International Passport"}),e.jsx("option",{value:"CAC",children:"CAC"})]})}),e.jsxs("h3",{className:"text-md mt-3 font-semibold font-opensans mb-3 flex items-center",children:[e.jsx(L,{className:"w-5 h-5 mr-2 text-black"}),"Upload ID"]}),e.jsx("div",{className:"border-2 border-customBrown border-dashed rounded-lg h-48 w-full text-center mb-6",children:V?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:"string"==typeof V?V:URL.createObjectURL(V),alt:"Uploaded ID",className:"w-full h-full object-cover rounded-lg"}),ae&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0})}),!ae&&e.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-customBrown text-white rounded-full p-1",onClick:()=>{ee(null),d({...a,idImage:null})},children:e.jsx(h,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"border-dashed rounded-lg h-48 w-full text-center border-opacity-20 mb-6 flex flex-col justify-center items-center",children:ae?e.jsx(U,{strokeColor:"orange",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}):e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"idImageUpload",className:"cursor-pointer",children:e.jsx(D,{size:54,className:"text-customOrange opacity-40"})}),e.jsx("input",{type:"file",className:"hidden",onChange:W,id:"idImageUpload",disabled:ae}),e.jsx("label",{htmlFor:"idImageUpload",className:"text-customOrange opacity-40 font-opensans cursor-pointer text-sm",children:"Upload ID image"})]})})}),e.jsx(H.button,{type:"submit",className:"w-11/12 h-12 fixed bottom-6 left-0 right-0 mx-auto flex justify-center font-opensans items-center text-white rounded-full "+(M&&V?"bg-customOrange":"bg-customOrange opacity-20"),onClick:_,disabled:!M||!V||se,children:se?e.jsx(U,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"30",visible:!0}):"Complete Profile"})]})]})})};const Y=()=>{const[a,i]=t.useState(!1),[c,d]=t.useState(1),[m,u]=t.useState(!1),[h,x]=t.useState({shopName:"",categories:[],description:"",marketPlaceType:"",coverImage:null,coverImageUrl:"",socialMediaHandle:{instagram:"",twitter:"",tiktok:"",facebook:""},location:{lat:null,lng:null},Address:"",marketPlace:"",complexNumber:"",daysAvailability:[],openTime:"",closeTime:"",idVerification:"",idImage:null,idImageUrl:"",bankDetails:{bankName:"",accountNumber:"",accountName:""}}),[g,f]=t.useState({bankName:"",accountNumber:"",accountName:""}),[S,T]=t.useState(""),[D,U]=t.useState(""),[A,L]=t.useState(null),[z,E]=t.useState(!1),[R,F]=t.useState(!1),[$,G]=t.useState(!1),[Y,J]=t.useState(null),[K,Q]=t.useState(!1),Z=b(),q=["Thrifts","Mens","Womens","Underwears","Y2K","Jewelry","Kids","Trads","Dresses","Gowns","Shoes","Accessories","Bags","Sportswear","Formal","Casual","Vintage","Brands","Perfumes","Watches","Denim","Hoodies","Sweaters","Scarves","Sneakers","Caps","Athletic Wear","Belts","Earrings","Bracelets","Handcrafted Jewelry","Coats","Trench Coats","Loungewear","Leather Goods","Sunglasses","Necklaces","Statement Pieces","Oversized Clothing","Graphic Tees","Patchwork Denim","Handbags","Brogues","Sandals","Fragrances","Essential Oils","Luxury Jewelry","Heels","Crossbody Bags","Rings"],X=()=>{d(c+1)},ee=e=>{const{name:t,value:a}=e.target;x({...h,[t]:a})},te=e=>{const{name:t,value:a}=e.target;f({...g,[t]:a})},ae=e=>{T(e),x({...h,deliveryMode:e})},se=e=>{const t=e.target.value;U(t),x({...h,idVerification:t})},ne=async e=>{const t=e.target.files[0];if(t&&t.size>3145728)p.error("File size exceeds 3MB. Please upload a smaller image.");else try{E(!0);const e=v().currentUser;if(!e)throw new Error("User is not authenticated");const a=k(),s=C(a,`vendorImages/${e.uid}/idImage`);await I(s,t);const n=await O(s);L(n),x({...h,idImage:n})}catch(a){p.error("Error uploading ID image: "+a.message)}finally{E(!1)}},re=async e=>{e.preventDefault(),i(!0);const t=[];if(h.marketPlaceType||t.push("Marketplace Type"),"virtual"===h.marketPlaceType&&(h.shopName||t.push("Shop Name"),h.categories.length||t.push("Categories"),h.description||t.push("Description"),h.socialMediaHandle.instagram||h.socialMediaHandle.facebook||h.socialMediaHandle.tiktok||h.socialMediaHandle.twitter||t.push("Social Media Handles"),h.coverImageUrl||t.push("Cover Image"),h.deliveryMode||t.push("Delivery Mode"),h.idVerification||t.push("ID Verification"),h.idImage||t.push("ID Image")),t.length)return p.error(`Please complete the following fields: ${t.join(", ")}`,{className:"custom-toast"}),void i(!1);try{const e=v().currentUser;if(!e)throw new Error("User is not authenticated");const t=h.shopName.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),c=h.shopName.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),d=s(n(r,"vendors"),o("shopName","==",t));if(!(await l(d)).empty)return p.error("Shop name is already taken. Please choose another one.",{className:"custom-toast"}),void i(!1);const m={vendorId:e.uid,name:t,accountNumber:g.accountNumber,bankCode:g.bankCode};let u=null;const x="d4f6f60628bfc7bdc540b58dda56067333685de482d8ec416581bc5bbb65aaa2",f="https://mythriftpayments.site/api/v1/";try{const e=await fetch(`${f}/createTransferRec`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify(m)}),t=await e.json();if(!e.ok||!t||!t.recipientCode)throw new Error(t.message||"Failed to create transfer recipient");u=t.recipientCode}catch(a){return p.error(a.message,{className:"custom-toast"}),void i(!1)}const b={...h,shopName:t,profileComplete:!0,isDeactivated:!1,slug:c,bankDetails:{...g},recipientCode:u};await w(y(r,"vendors",e.uid),b,{merge:!0}),p.success("Profile completed successfully!",{className:"custom-toast"}),Z("/vendordashboard")}catch(a){p.error("Error completing profile: "+a.message,{className:"custom-toast"})}finally{i(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(V,{title:"Complete Your Profile - My Thrift",description:"Complete your vendor profile on My Thrift",url:"https://www.shopmythrift.store/complete-profile"}),e.jsx("section",{children:e.jsx(M,{children:K?e.jsx(j,{}):e.jsxs(B,{className:"",onSubmit:re,children:[c>1&&e.jsx("button",{type:"button",onClick:()=>{d(c-1)},className:" text-gray-800 mt-4",children:e.jsx(N,{size:25})}),1===c&&e.jsxs("div",{className:"p-2 mt-16",children:[e.jsx("h1",{className:"text-xl gap-16 font-opensans font-semibold text-header",children:"Choose your vendor type"}),e.jsx("p",{className:"text-sm mt-3 font-opensans text-neutral-800",children:"Online Vendor or Market Vendor—we have tools tailored just for you!"}),e.jsxs("div",{className:"my-6 mb-72",children:[e.jsxs("div",{className:`border-0 p-3 mb-4 rounded-lg cursor-pointer flex justify-between items-center ${"virtual"===h.marketPlaceType?"border-customOrange":"border-none"} bg-gray-50 px-10 text-gray-800 rounded-lg`,onClick:()=>{return e="virtual",void x({...h,marketPlaceType:e});var e},children:[e.jsx("span",{className:"font-opensans text-neutral-800 ",children:"Online Vendor"}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex justify-center items-center "+(h.marketPlaceType,"border-customOrange"),children:"virtual"===h.marketPlaceType&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})})]}),e.jsxs("div",{className:"border-0 p-3 mb-4 rounded-lg cursor-not-allowed flex justify-between items-center bg-gray-50 px-10 text-gray-800  opacity-50",children:[e.jsx("span",{className:"font-opensans text-neutral-800",children:"Market Vendor"}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex justify-center items-center",children:"marketplace"===h.marketPlaceType&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})})]})]}),e.jsx(H.button,{type:"button",className:"w-11/12 h-12 fixed bottom-6 left-0 right-0 mx-auto flex justify-center items-center text-white font-opensans rounded-full "+(h.marketPlaceType?"bg-customOrange":"bg-customOrange opacity-20"),onClick:X,disabled:!h.marketPlaceType,children:"Next"})]}),"virtual"===h.marketPlaceType&&e.jsx(_,{vendorData:h,setVendorData:x,step:c,setStep:d,handleInputChange:ee,handleNextStep:X,setShowDropdown:u,showDropdown:m,categories:q,bankDetails:g,handleBankDetailsChange:te,deliveryMode:S,handleDeliveryModeChange:ae,idVerification:D,handleIdVerificationChange:se,idImage:A,setIdImage:L,isIdImageUploading:z,isCoverImageUploading:R,handleIdImageUpload:ne,handleImageUpload:async e=>{const t=e.target.files[0];if(t)if(t.size>3145728)p.error("File size exceeds 3MB. Please upload a smaller image.");else try{F(!0);const e=v().currentUser;if(!e)throw new Error("User is not authenticated");const a=e.uid,s=k(),n=C(s,`vendorImages/${a}/coverImage`);await I(n,t);const o=await O(n);x((e=>({...e,coverImageUrl:o})));const l=y(r,"vendors",a);await P(l,{coverImageUrl:o}),p.success("Image uploaded successfully!")}catch(a){p.error(`Error uploading image: ${a.message}`)}finally{F(!1)}else p.error("No file selected. Please choose an image.")},handleSocialMediaChange:e=>{const{name:t,value:a}=e.target;let s=a;!a||a.startsWith("http://")||a.startsWith("https://")||(s="https://"+a),x({...h,socialMediaHandle:{...h.socialMediaHandle,[t]:s}})},isLoading:a,handleProfileCompletion:re,setBankDetails:f,showBankDropdown:$,setShowBankDropdown:G,selectedBank:Y,setSelectedBank:J}),"marketplace"===h.marketPlaceType&&e.jsx(W,{vendorData:h,setVendorData:x,step:c,setStep:d,handleInputChange:ee,handleNextStep:X,setShowDropdown:u,showDropdown:m,categories:q,bankDetails:g,handleBankDetailsChange:te,deliveryMode:S,handleDeliveryModeChange:ae,idVerification:D,handleIdVerificationChange:se,idImage:A,handleIdImageUpload:ne,isLoading:a,setIdImage:L,isIdImageUploading:z,handleProfileCompletion:re})]})})})]})};export{Y as default};
