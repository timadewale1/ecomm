import{r as e,bT as t,bU as n,aU as o,h as r,m as i,j as s,S as a,I as l,eA as u,cQ as d,aG as c,ev as p,cS as h,b8 as f,eB as m,dR as g,g as v,q as y,c as I,w as x,eC as S,eD as b,eE as w,eF as C}from"./index-CvIXhaMv.js";import{_ as H}from"./inheritsLoose-BMl3PfwL.js";import{P as D}from"./index-6PUMxdSt.js";var O,N,j={exports:{}},M={};N||(N=1,j.exports=function(){if(O)return M;O=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case o:case i:case r:case d:case c:return e;default:switch(e=e&&e.$$typeof){case l:case a:case u:case h:case p:case s:return e;default:return f}}case n:return f}}}return e=Symbol.for("react.module.reference"),M.ContextConsumer=a,M.ContextProvider=s,M.Element=t,M.ForwardRef=u,M.Fragment=o,M.Lazy=h,M.Memo=p,M.Portal=n,M.Profiler=i,M.StrictMode=r,M.Suspense=d,M.SuspenseList=c,M.isAsyncMode=function(){return!1},M.isConcurrentMode=function(){return!1},M.isContextConsumer=function(e){return m(e)===a},M.isContextProvider=function(e){return m(e)===s},M.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},M.isForwardRef=function(e){return m(e)===u},M.isFragment=function(e){return m(e)===o},M.isLazy=function(e){return m(e)===h},M.isMemo=function(e){return m(e)===p},M.isPortal=function(e){return m(e)===n},M.isProfiler=function(e){return m(e)===i},M.isStrictMode=function(e){return m(e)===r},M.isSuspense=function(e){return m(e)===d},M.isSuspenseList=function(e){return m(e)===c},M.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===i||t===r||t===d||t===c||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===h||t.$$typeof===p||t.$$typeof===s||t.$$typeof===a||t.$$typeof===u||t.$$typeof===e||void 0!==t.getModuleId)},M.typeOf=m,M}()),j.exports;const E=e=>"object"==typeof e&&null!=e&&1===e.nodeType,P=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,R=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return P(n.overflowY,t)||P(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(t){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},T=(e,t,n,o,r,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-o:s>t&&a<n||i<e&&a>n?s-t+r:0,k=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t};var A=function(){return A=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},A.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var L=0;function V(e){return"function"==typeof e?e:K}function K(){}function B(e,t){e&&((e,t)=>{var n,o,r,i;if("undefined"==typeof document)return[];const{inline:s,boundary:a,skipOverflowHiddenElements:l}=t,u="function"==typeof a?a:e=>e!==a;if(!E(e))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,c=[];let p=e;for(;E(p)&&u(p);){if(p=k(p),p===d){c.push(p);break}null!=p&&p===document.body&&R(p)&&!R(document.documentElement)||null!=p&&R(p,l)&&c.push(p)}const h=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,f=null!=(i=null==(r=window.visualViewport)?void 0:r.height)?i:innerHeight,{scrollX:m,scrollY:g}=window,{height:v,width:y,top:I,right:x,bottom:S,left:b}=e.getBoundingClientRect(),{top:w,right:C,left:H}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let D=I-w,O="center"===s?b+y/2-H+C:"end"===s?x+C:b-H;const N=[];for(let j=0;j<c.length;j++){const e=c[j],{height:t,width:n,top:o,right:r,bottom:i,left:a}=e.getBoundingClientRect();if(I>=0&&b>=0&&S<=f&&x<=h&&I>=o&&S<=i&&b>=a&&x<=r)return N;const l=getComputedStyle(e),u=parseInt(l.borderLeftWidth,10),p=parseInt(l.borderTopWidth,10),w=parseInt(l.borderRightWidth,10),C=parseInt(l.borderBottomWidth,10);let H=0,M=0;const E="offsetWidth"in e?e.offsetWidth-e.clientWidth-u-w:0,P="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-C:0,R="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,k="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(d===e)H=T(g,g+f,f,p,C,g+D,g+D+v,v),M="start"===s?O:"center"===s?O-h/2:"end"===s?O-h:T(m,m+h,h,u,w,m+O,m+O+y,y),H=Math.max(0,H+g),M=Math.max(0,M+m);else{H=T(o,i,t,p,C+P,D,D+v,v),M="start"===s?O-a-u:"center"===s?O-(a+n/2)+E/2:"end"===s?O-r+w+E:T(a,r,n,u,w+E,O,O+y,y);const{scrollLeft:l,scrollTop:d}=e;H=0===k?0:Math.max(0,Math.min(d+H/k,e.scrollHeight-t/k+P)),M=0===R?0:Math.max(0,Math.min(l+M/R,e.scrollWidth-n/R+E)),D+=d-H,O+=l-M}N.push({el:e,top:H,left:M})}return N})(e,{boundary:t}).forEach((function(e){var t=e.el,n=e.top,o=e.left;t.scrollTop=n,t.scrollLeft=o}))}function W(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function $(e,t){var n;function o(){n&&clearTimeout(n)}function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];o(),n=setTimeout((function(){n=null,e.apply(void 0,i)}),t)}return r.cancel=o,r}function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.some((function(t){return t&&t.apply(void 0,[e].concat(o)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function _(e){var t=e.isOpen,n=e.resultCount,o=e.previousResultCount;return t?n?n!==o?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function q(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}var z=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function J(e){void 0===e&&(e={});var t={};return z.forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function Q(e,t){return void 0!==e[t]}function G(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function X(e,t,n,o,r){var i=n.length;if(0===i)return-1;var s=i-1;("number"!=typeof e||e<0||e>s)&&(e=t>0?-1:s+1);var a=e+t;a<0?a=s:a>s&&(a=0);var l=Y(a,t<0,n,o,r);return-1===l?e>=i?-1:e:l}function Y(e,t,n,o,r){void 0===r&&(r=!1);var i=n.length;if(t){for(var s=e;s>=0;s--)if(!o(n[s],s))return s}else for(var a=e;a<i;a++)if(!o(n[a],a))return a;return r?Y(t?i-1:0,t,n,o):-1}function Z(e,t,n,o){return void 0===o&&(o=!0),n&&t.some((function(t){return t&&(W(t,e,n)||o&&W(t,n.document.activeElement,n))}))}var ee=$((function(e){te(e).textContent=""}),500);function te(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function ne(e,t){e&&t&&(te(t).textContent=e,ee(t))}var oe=Object.freeze({__proto__:null,blurButton:14,blurInput:10,changeInput:11,clickButton:13,clickItem:9,controlledPropUpdatedSelectedItem:15,itemMouseEnter:2,keyDownArrowDown:4,keyDownArrowUp:3,keyDownEnd:8,keyDownEnter:6,keyDownEscape:5,keyDownHome:7,keyDownSpaceButton:12,mouseUp:1,touchEnd:16,unknown:0}),re=["refKey","ref"],ie=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],se=["onKeyDown","onBlur","onChange","onInput","onChangeText"],ae=["refKey","ref"],le=["onMouseMove","onMouseDown","onClick","onPress","index","item"],ue=function(){var o=function(o){function r(e){var r;(r=o.call(this,e)||this).id=r.props.id||"downshift-"+String(L++),r.menuId=r.props.menuId||r.id+"-menu",r.labelId=r.props.labelId||r.id+"-label",r.inputId=r.props.inputId||r.id+"-input",r.getItemId=r.props.getItemId||function(e){return r.id+"-item-"+e},r.items=[],r.itemCount=null,r.previousResultCount=0,r.timeoutIds=[],r.internalSetTimeout=function(e,t){var n=setTimeout((function(){r.timeoutIds=r.timeoutIds.filter((function(e){return e!==n})),e()}),t);r.timeoutIds.push(n)},r.setItemCount=function(e){r.itemCount=e},r.unsetItemCount=function(){r.itemCount=null},r.isItemDisabled=function(e,t){var n=r.getItemNodeFromIndex(t);return n&&n.hasAttribute("disabled")},r.setHighlightedIndex=function(e,n){void 0===e&&(e=r.props.defaultHighlightedIndex),void 0===n&&(n={}),n=J(n),r.internalSetState(t({highlightedIndex:e},n))},r.clearSelection=function(e){r.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:r.props.defaultHighlightedIndex,isOpen:r.props.defaultIsOpen},e)},r.selectItem=function(e,n,o){n=J(n),r.internalSetState(t({isOpen:r.props.defaultIsOpen,highlightedIndex:r.props.defaultHighlightedIndex,selectedItem:e,inputValue:r.props.itemToString(e)},n),o)},r.selectItemAtIndex=function(e,t,n){var o=r.items[e];null!=o&&r.selectItem(o,t,n)},r.selectHighlightedItem=function(e,t){return r.selectItemAtIndex(r.getState().highlightedIndex,e,t)},r.internalSetState=function(e,n){var o,i,s={},a="function"==typeof e;return!a&&e.hasOwnProperty("inputValue")&&r.props.onInputValueChange(e.inputValue,t({},r.getStateAndHelpers(),e)),r.setState((function(n){var l;n=r.getState(n);var u=a?e(n):e;u=r.props.stateReducer(n,u),o=u.hasOwnProperty("selectedItem");var d={};return o&&u.selectedItem!==n.selectedItem&&(i=u.selectedItem),(l=u).type||(l.type=0),Object.keys(u).forEach((function(e){n[e]!==u[e]&&(s[e]=u[e]),"type"!==e&&(u[e],Q(r.props,e)||(d[e]=u[e]))})),a&&u.hasOwnProperty("inputValue")&&r.props.onInputValueChange(u.inputValue,t({},r.getStateAndHelpers(),u)),d}),(function(){V(n)(),Object.keys(s).length>1&&r.props.onStateChange(s,r.getStateAndHelpers()),o&&r.props.onSelect(e.selectedItem,r.getStateAndHelpers()),void 0!==i&&r.props.onChange(i,r.getStateAndHelpers()),r.props.onUserAction(s,r.getStateAndHelpers())}))},r.rootRef=function(e){return r._rootNode=e},r.getRootProps=function(e,o){var i,s=void 0===e?{}:e,a=s.refKey,l=void 0===a?"ref":a,u=s.ref,d=n(s,re),c=(void 0===o?{}:o).suppressRefError,p=void 0!==c&&c;r.getRootProps.called=!0,r.getRootProps.refKey=l,r.getRootProps.suppressRefError=p;var h=r.getState().isOpen;return t(((i={})[l]=U(u,r.rootRef),i.role="combobox",i["aria-expanded"]=h,i["aria-haspopup"]="listbox",i["aria-owns"]=h?r.menuId:void 0,i["aria-labelledby"]=r.labelId,i),d)},r.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},(function(){var e=t.getItemCount();if(e>0){var n=X(t.getState().highlightedIndex,1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:4})}}))},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},(function(){var e=t.getItemCount();if(e>0){var n=X(t.getState().highlightedIndex,-1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:3})}}))},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,o=t.highlightedIndex;if(n&&null!=o){e.preventDefault();var r=this.items[o],i=this.getItemNodeFromIndex(o);if(null==r||i&&i.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset(t({type:5},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},r.buttonKeyDownHandlers=t({},r.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),r.inputKeyDownHandlers=t({},r.keyDownHandlers,{Home:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var o=Y(0,!1,{length:n},this.isItemDisabled);this.setHighlightedIndex(o,{type:7})}}},End:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var o=Y(n-1,!0,{length:n},this.isItemDisabled);this.setHighlightedIndex(o,{type:8})}}}}),r.getToggleButtonProps=function(e){var o=void 0===e?{}:e,i=o.onClick;o.onPress;var s=o.onKeyDown,a=o.onKeyUp,l=o.onBlur,u=n(o,ie),d=r.getState().isOpen,c={onClick:F(i,r.buttonHandleClick),onKeyDown:F(s,r.buttonHandleKeyDown),onKeyUp:F(a,r.buttonHandleKeyUp),onBlur:F(l,r.buttonHandleBlur)},p=u.disabled?{}:c;return t({type:"button",role:"button","aria-label":d?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},p,u)},r.buttonHandleKeyUp=function(e){e.preventDefault()},r.buttonHandleKeyDown=function(e){var t=G(e);r.buttonKeyDownHandlers[t]&&r.buttonKeyDownHandlers[t].call(r,e)},r.buttonHandleClick=function(e){if(e.preventDefault(),r.props.environment){var t=r.props.environment.document,n=t.body,o=t.activeElement;n&&n===o&&e.target.focus()}r.internalSetTimeout((function(){return r.toggleMenu({type:13})}))},r.buttonHandleBlur=function(e){var t=e.target;r.internalSetTimeout((function(){if(!r.isMouseDown&&r.props.environment){var e=r.props.environment.document.activeElement;null!=e&&e.id===r.inputId||e===t||r.reset({type:14})}}))},r.getLabelProps=function(e){return t({htmlFor:r.inputId,id:r.labelId},e)},r.getInputProps=function(e){var o=void 0===e?{}:e,i=o.onKeyDown,s=o.onBlur,a=o.onChange,l=o.onInput;o.onChangeText;var u=n(o,se),d={};var c,p=r.getState(),h=p.inputValue,f=p.isOpen,m=p.highlightedIndex;u.disabled||((c={}).onChange=F(a,l,r.inputHandleChange),c.onKeyDown=F(i,r.inputHandleKeyDown),c.onBlur=F(s,r.inputHandleBlur),d=c);return t({"aria-autocomplete":"list","aria-activedescendant":f&&"number"==typeof m&&m>=0?r.getItemId(m):void 0,"aria-controls":f?r.menuId:void 0,"aria-labelledby":u&&u["aria-label"]?void 0:r.labelId,autoComplete:"off",value:h,id:r.inputId},d,u)},r.inputHandleKeyDown=function(e){var t=G(e);t&&r.inputKeyDownHandlers[t]&&r.inputKeyDownHandlers[t].call(r,e)},r.inputHandleChange=function(e){r.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:r.props.defaultHighlightedIndex})},r.inputHandleBlur=function(){r.internalSetTimeout((function(){var e;if(!r.isMouseDown&&r.props.environment){var t=r.props.environment.document.activeElement;(null==t||null==(e=t.dataset)?void 0:e.toggle)&&r._rootNode&&r._rootNode.contains(t)||r.reset({type:10})}}))},r.menuRef=function(e){r._menuNode=e},r.getMenuProps=function(e,o){var i,s=void 0===e?{}:e,a=s.refKey,l=void 0===a?"ref":a,u=s.ref,d=n(s,ae),c=(void 0===o?{}:o).suppressRefError,p=void 0!==c&&c;return r.getMenuProps.called=!0,r.getMenuProps.refKey=l,r.getMenuProps.suppressRefError=p,t(((i={})[l]=U(u,r.menuRef),i.role="listbox",i["aria-labelledby"]=d&&d["aria-label"]?void 0:r.labelId,i.id=r.menuId,i),d)},r.getItemProps=function(e){var o,i=void 0===e?{}:e,s=i.onMouseMove,a=i.onMouseDown,l=i.onClick;i.onPress;var u=i.index,d=i.item,c=void 0===d?void 0:d,p=n(i,le);void 0===u?(r.items.push(c),u=r.items.indexOf(c)):r.items[u]=c;var h=l,f=((o={onMouseMove:F(s,(function(){u!==r.getState().highlightedIndex&&(r.setHighlightedIndex(u,{type:2}),r.avoidScrolling=!0,r.internalSetTimeout((function(){return r.avoidScrolling=!1}),250))})),onMouseDown:F(a,(function(e){e.preventDefault()}))}).onClick=F(h,(function(){r.selectItemAtIndex(u,{type:9})})),o),m=p.disabled?{onMouseDown:f.onMouseDown}:f;return t({id:r.getItemId(u),role:"option","aria-selected":r.getState().highlightedIndex===u},m,p)},r.clearItems=function(){r.items=[]},r.reset=function(e,n){void 0===e&&(e={}),e=J(e),r.internalSetState((function(n){var o=n.selectedItem;return t({isOpen:r.props.defaultIsOpen,highlightedIndex:r.props.defaultHighlightedIndex,inputValue:r.props.itemToString(o)},e)}),n)},r.toggleMenu=function(e,n){void 0===e&&(e={}),e=J(e),r.internalSetState((function(n){var o=n.isOpen;return t({isOpen:!o},o&&{highlightedIndex:r.props.defaultHighlightedIndex},e)}),(function(){var t=r.getState(),o=t.isOpen,i=t.highlightedIndex;o&&r.getItemCount()>0&&"number"==typeof i&&r.setHighlightedIndex(i,e),V(n)()}))},r.openMenu=function(e){r.internalSetState({isOpen:!0},e)},r.closeMenu=function(e){r.internalSetState({isOpen:!1},e)},r.updateStatus=$((function(){var e;if(null!=(e=r.props)&&null!=(e=e.environment)&&e.document){var n=r.getState(),o=r.items[n.highlightedIndex],i=r.getItemCount(),s=r.props.getA11yStatusMessage(t({itemToString:r.props.itemToString,previousResultCount:r.previousResultCount,resultCount:i,highlightedItem:o},n));r.previousResultCount=i,ne(s,r.props.environment.document)}}),200);var i=r.props,s=i.defaultHighlightedIndex,a=i.initialHighlightedIndex,l=void 0===a?s:a,u=i.defaultIsOpen,d=i.initialIsOpen,c=void 0===d?u:d,p=i.initialInputValue,h=void 0===p?"":p,f=i.initialSelectedItem,m=void 0===f?null:f,g=r.getState({highlightedIndex:l,isOpen:c,inputValue:h,selectedItem:m});return null!=g.selectedItem&&void 0===r.props.initialInputValue&&(g.inputValue=r.props.itemToString(g.selectedItem)),r.state=g,r}H(r,o);var i=r.prototype;return i.internalClearTimeouts=function(){this.timeoutIds.forEach((function(e){clearTimeout(e)})),this.timeoutIds=[]},i.getState=function(e){return void 0===e&&(e=this.state),t=e,n=this.props,t&&n?Object.keys(t).reduce((function(e,o){return e[o]=Q(n,o)?n[o]:t[o],e}),{}):t;var t,n},i.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},i.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},i.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},i.moveHighlightedIndex=function(e,t){var n=this.getItemCount(),o=this.getState().highlightedIndex;if(n>0){var r=X(o,e,{length:n},this.isItemDisabled,!0);this.setHighlightedIndex(r,t)}},i.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,o=e.selectedItem,r=e.isOpen,i=this.props.itemToString,s=this.id,a=this.getRootProps,l=this.getToggleButtonProps,u=this.getLabelProps,d=this.getMenuProps,c=this.getInputProps,p=this.getItemProps,h=this.openMenu,f=this.closeMenu,m=this.toggleMenu,g=this.selectItem,v=this.selectItemAtIndex,y=this.selectHighlightedItem,I=this.setHighlightedIndex,x=this.clearSelection,S=this.clearItems;return{getRootProps:a,getToggleButtonProps:l,getLabelProps:u,getMenuProps:d,getInputProps:c,getItemProps:p,reset:this.reset,openMenu:h,closeMenu:f,toggleMenu:m,selectItem:g,selectItemAtIndex:v,selectHighlightedItem:y,setHighlightedIndex:I,clearSelection:x,clearItems:S,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:i,id:s,highlightedIndex:t,inputValue:n,isOpen:r,selectedItem:o}},i.componentDidMount=function(){var e=this;if(this.props.environment){var t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!Z(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},o=function(){e.isTouchMove=!1},r=function(){e.isTouchMove=!0},i=function(t){var n=Z(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},s=this.props.environment;s.addEventListener("mousedown",t),s.addEventListener("mouseup",n),s.addEventListener("touchstart",o),s.addEventListener("touchmove",r),s.addEventListener("touchend",i),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),s.removeEventListener("mousedown",t),s.removeEventListener("mouseup",n),s.removeEventListener("touchstart",o),s.removeEventListener("touchmove",r),s.removeEventListener("touchend",i)}}else this.cleanup=function(){e.internalClearTimeouts()}},i.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,o=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==o},i.componentDidUpdate=function(e,t){Q(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},i.componentWillUnmount=function(){this.cleanup()},i.render=function(){var t=q(this.props.children,K);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var n=q(t(this.getStateAndHelpers()));return n?this.getRootProps.called||this.props.suppressRefError?n:function(e){return"string"==typeof e.type}(n)?e.cloneElement(n,this.getRootProps(function(e){return e.props}(n))):void 0:null},r}(e.Component);return o.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:_,itemToString:function(e){return null==e?"":String(e)},onStateChange:K,onInputValueChange:K,onUserAction:K,onChange:K,onSelect:K,onOuterClick:K,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?void 0:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:B},o.stateChangeTypes=oe,o}();$((function(e,t){ne(e,t)}),200);var de={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:B,environment:"undefined"==typeof window?void 0:window},ce={environment:D.shape({addEventListener:D.func.isRequired,removeEventListener:D.func.isRequired,document:D.shape({createElement:D.func.isRequired,getElementById:D.func.isRequired,activeElement:D.any.isRequired,body:D.any.isRequired}).isRequired,Node:D.func.isRequired}),itemToString:D.func,itemToKey:D.func,stateReducer:D.func},pe=t({},ce,{getA11yStatusMessage:D.func,highlightedIndex:D.number,defaultHighlightedIndex:D.number,initialHighlightedIndex:D.number,isOpen:D.bool,defaultIsOpen:D.bool,initialIsOpen:D.bool,selectedItem:D.any,initialSelectedItem:D.any,defaultSelectedItem:D.any,id:D.string,labelId:D.string,menuId:D.string,getItemId:D.func,toggleButtonId:D.string,onSelectedItemChange:D.func,onHighlightedIndexChange:D.func,onStateChange:D.func,onIsOpenChange:D.func,scrollIntoView:D.func});A(A({},pe),{items:D.array.isRequired,isItemDisabled:D.func}),A(A({},de),{isItemDisabled:function(){return!1}}),t({},pe,{items:D.array.isRequired,isItemDisabled:D.func,inputValue:D.string,defaultInputValue:D.string,initialInputValue:D.string,inputId:D.string,onInputValueChange:D.func}),t({},de,{isItemDisabled:function(){return!1}}),D.array,D.array,D.array,D.func,D.number,D.number,D.number,D.func,D.func,D.string,D.string;const he=()=>{const[t]=o(),n=t.get("query")||"",[H,D]=e.useState(n),[O,N]=e.useState([]),[j,M]=e.useState([]),[E,P]=e.useState([]),R=r(),T="https://images.saatchiart.com/saatchi/1750204/art/9767271/8830343-WUMLQQKS-7.jpg",k=i();e.useEffect((()=>{const e=JSON.parse(localStorage.getItem("searchHistory"))||[];N(e);(async()=>{try{const e=(await v(y(I(k,"vendors"),x("isApproved","==",!0),x("isDeactivated","==",!1)))).docs.map((e=>({...e.data(),id:e.id})));P(e);let t=(await v(y(I(k,"products"),x("published","==",!0),x("isDeleted","==",!1)))).docs.map((e=>({...e.data(),id:e.id})));const n=new Set(e.map((e=>e.id)));t=t.filter((e=>n.has(e.vendorId))),M(t)}catch(e){}})()}),[k]);const A=["Okirks","Shirt","Jeans","Tops","Bag","Shoes","Dress","Skirt","Shorts","watch","T-shirt","Pants","Sweater","Coat","Sunglasses","Hat","Scarf","Belt","Gloves","Jacket","Socks","Bikini","Tote Bag","Lee","Jewelry","Cargos","Corporate","Perfumes"],L=()=>{const e=H.toLowerCase(),t=t=>{let n=0;return t.name.toLowerCase().includes(e)&&(n+=3),t.tags&&t.tags.some((t=>t.toLowerCase().includes(e)))&&(n+=2),t.productType.toLowerCase().includes(e)&&(n+=1),n},n=j.map((e=>({...e,score:t(e)}))).filter((e=>e.score>0)).map((e=>({...e,name:e.name,type:"product"})));n.sort(((e,t)=>t.score-e.score||e.name.localeCompare(t.name)));return[...E.filter((t=>{const n=!!t.shopName&&t.shopName.toLowerCase().includes(e),o=!!t.description&&t.description.toLowerCase().includes(e);return n||o})).map((e=>({...e,name:e.shopName,type:"vendor"}))),...n]},V=e.useRef(null),K=e.useRef(null);e.useEffect((()=>{const e=K.current;if(!e)return;const t=setInterval((()=>{e.scrollLeft+e.clientWidth>=e.scrollWidth?e.scrollLeft=0:e.scrollLeft+=1}),30);return()=>clearInterval(t)}),[]),e.useEffect((()=>{n&&setTimeout((()=>V.current()),0)}),[n]);const B=e=>{switch(null==e?void 0:e.toLowerCase()){case"men":return s.jsx(C,{className:"mr-1"});case"women":return s.jsx(w,{className:"mr-1"});case"kids":return s.jsx(b,{className:"mr-1"});case"all":return s.jsx(S,{className:"mr-1"});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx(a,{title:"Search - My Thrift",description:"Search for products and vendors on My Thrift",url:"https://www.shopmythrift.store/search"}),s.jsx(l.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:100,damping:20},className:"w-full h-screen p-2 mt-3 bg-white",children:s.jsx(ue,{onChange:e=>{if(e){const t=[e,...O.filter((t=>t.id!==e.id))].slice(0,8);N(t),localStorage.setItem("searchHistory",JSON.stringify(t)),"product"===e.type?R(`/product/${e.id}`):"vendor"===e.type&&(e.marketPlaceType,R(`/store/${e.id}`))}},itemToString:e=>e?e.name||e.shopName:"",children:({getInputProps:e,getItemProps:t,getMenuProps:n,isOpen:o,highlightedIndex:r,selectedItem:i,openMenu:a,closeMenu:v})=>(V.current=a,s.jsxs("div",{className:"relative w-full",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(u,{className:"text-2xl text-black cursor-pointer mr-2",onClick:()=>{D(""),v(),R(-1)}}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{...e({placeholder:"Search my thrift",onChange:e=>{D(e.target.value),a()},onFocus:()=>{H||a()}}),value:H,className:"w-full border font-opensans text-black text-base border-gray-300 rounded-full px-3 py-2 font-medium focus:outline-customOrange"}),s.jsx(d,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-2xl text-gray-400"}),H&&s.jsx(c,{className:"absolute right-10 top-1/2 transform -translate-y-1/2 text-xl text-gray-400 cursor-pointer",onClick:()=>D("")})]})]}),!H&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(p,{className:"text-customOrange mr-1"}),s.jsx("span",{className:"font-opensans font-semibold text-sm",children:"Trending Searches"})]}),s.jsx("div",{ref:K,className:"w-full overflow-x-auto whitespace-nowrap scrollbar-hide py-2",children:A.map((e=>s.jsx(l.button,{onClick:()=>{D(e),setTimeout((()=>V.current()),0)},className:"inline-block mr-3 px-3 py-1 rounded-full bg-gray-100 hover:bg-customOrange hover:text-white transition font-opensans text-xs",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},children:e},e)))}),s.jsx("div",{className:"border-b border-gray-200 mt-2"})]}),s.jsx("ul",{...n(),className:"absolute z-50 w-full bg-white rounded-lg mt-1",children:o&&H?L().length>0?L().map(((e,n)=>s.jsx("li",{...t({key:e.id,index:n,item:e,style:{backgroundColor:r===n?"var(--custom-orange)":"white",fontWeight:i===e?"bold":"normal",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"}}),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:e.coverImageUrl||T,alt:e.name||e.shopName,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"5px",marginRight:"10px"}}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-opensans text-gray-800 mb-1 font-medium",children:e.name||e.shopName}),"product"===e.type&&s.jsxs("span",{className:"text-gray-800 font-opensans text-xs flex items-center",children:[B(e.category),e.category,s.jsx(h,{className:"mx-1 dot-size"}),s.jsx(f,{className:"mr-1"}),e.productType]}),"vendor"===e.type&&s.jsxs("span",{className:"text-gray-800 font-opensans text-xs flex items-center",children:[s.jsx(m,{className:"mr-1 ratings-text"}),e.marketPlaceType||"Online"]})]})]})}))):s.jsx("li",{className:"text-center text-gray-600 text-sm py-4 font-opensans",children:"☹️ No results found, try searching for another vendor or product."}):!H&&O.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("li",{className:"text-black font-opensans font-medium text-sm px-3 py-2",children:"Recent"}),O.map(((e,n)=>s.jsxs("li",{...t({key:e.id,index:n,item:e,style:{backgroundColor:r===n?"var(--customOrange)":"white",fontWeight:i===e?"bold":"normal",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"}}),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:e.coverImageUrl||T,alt:e.name||e.shopName,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"5px",marginRight:"10px"}}),s.jsxs("div",{className:"flex flex-col font-opensans",children:[s.jsx("span",{className:"font-opensans text-gray-800 mb-1 font-medium",children:e.name||e.shopName}),"product"===e.type&&s.jsxs("span",{className:"text-gray-800 text-xs flex items-center",children:[B(e.category),e.category,s.jsx(h,{className:"mx-1 dot-size"}),s.jsx(f,{className:"mr-1"}),e.productType]}),"vendor"===e.type&&s.jsxs("span",{className:"text-gray-800 font-opensans text-xs flex items-center",children:[s.jsx(m,{className:"mr-1 ratings-text"}),e.marketPlaceType||"Online"]})]})]}),s.jsx(g,{className:"text-gray-400 cursor-pointer",onClick:t=>{t.stopPropagation(),(e=>{const t=O.filter((t=>t.id!==e));N(t),localStorage.setItem("searchHistory",JSON.stringify(t))})(e.id)}})]})))]})})]}))})})]})};export{he as default};
