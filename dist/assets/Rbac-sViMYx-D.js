import{ay as e,r as t,eO as r,h as n,aE as s,l as a,j as l}from"./index-CvIXhaMv.js";const o=({allowedRoles:o=[],children:c})=>{const{currentUser:u,currentUserData:d}=e(),{setHideBottomBar:i}=t.useContext(r);n();const m=t.useRef(!1),[x,f]=t.useState(!1);if(t.useEffect((()=>{const e=0===o.length||u&&o.includes(null==d?void 0:d.role);return i(u&&!e),()=>i(!1)}),[u,d,o,i]),t.useEffect((()=>{"customer"===localStorage.getItem("mythrift_role")&&u&&"vendor"===(null==d?void 0:d.role)&&!m.current&&(m.current=!0,f(!0),(async()=>{try{await s(a)}catch(e){}finally{f(!1),m.current=!1}})())}),[u,d]),x)return null;const g=0===o.length||u&&o.includes(null==d?void 0:d.role);return u&&!g?l.jsxs("div",{className:"flex justify-center flex-col translate-y-44 items-center",children:[l.jsx("p",{className:"text-gray-800 font-opensans text-sm mb-4 text-center",children:"You are logged in as a vendor. Please logout and try again."}),l.jsx("button",{className:"bg-customOrange text-xs font-medium text-white py-2 px-2 rounded-lg",onClick:()=>window.location.replace("/vendordashboard"),children:"Back to Dashboard"})]}):l.jsx(l.Fragment,{children:c})};export{o as default};
