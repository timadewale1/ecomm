import{u as e,r as s,j as t,G as a,au as r,ad as n,ar as i,D as l,H as o,O as c,E as d,I as m,bI as x}from"./index-B6_tP4YQ.js";import{c as h}from"./index-YqizTpTw.js";import{R as u}from"./react-stars-BTZUCP3-.js";import{R as f}from"./Roundedstar-zF275NIx.js";import{S as p}from"./SEO-CG8nsGhn.js";import{e as j}from"./index-BRiOgcip.js";import"./index-Bx5UHif0.js";const g=()=>{const g=e(),[b,v]=s.useState([]),[N,y]=s.useState([]),[w,k]=s.useState(""),[S,C]=s.useState(""),[I,O]=s.useState([]),[E,F]=s.useState(!0),[T,z]=s.useState(!1);s.useEffect((()=>{(async()=>{try{const e=l(o(c,"vendors"),d("marketPlaceType","==","virtual"),d("isDeactivated","==",!1),d("isApproved","==",!0)),s=(await m(e)).docs.map((e=>({id:e.id,...e.data()})));v(s);const t=[];for(const a of s){const e=o(c,`vendors/${a.id}/products`);(await m(e)).forEach((e=>{t.push({id:e.id,vendorId:a.id,...e.data()})}))}y(t),O(s)}catch(e){x.error("Error fetching vendors and products: "+e.message)}finally{F(!1)}})()}),[]);const D=(e,s)=>{const t=e.toLowerCase();return t||s?b.filter((e=>{const a=e.shopName.toLowerCase().includes(t),r=!s||e.categories.includes(s);return a&&r})):b};return t.jsxs(t.Fragment,{children:[t.jsx(p,{title:"Online Vendors - My Thrift",description:"Shop from our online vendors on My Thrift",url:"https://www.shopmythrift.store/online-vendors"}),t.jsxs("div",{className:"mb-1 p-2",children:[t.jsxs("div",{className:"sticky py-3 w-[calc(100%+1rem)] -ml-2 top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 px-2",children:[!T&&t.jsxs(t.Fragment,{children:[t.jsx(a,{className:"text-3xl cursor-pointer",onClick:()=>g(-1)}),t.jsx("h1",{className:"text-xl font-opensans font-semibold",children:"Online Vendors"}),t.jsx(h,{className:"text-3xl cursor-pointer",onClick:()=>z(!0)})]}),T&&t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx(a,{className:"text-3xl cursor-pointer mr-2",onClick:()=>{k(""),C(""),z(!1),O(b)}}),t.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-full px-3 py-2 text-black focus:outline-none",value:w,onChange:e=>{const s=e.target.value;k(s);const t=D(s,S);O(t)},placeholder:"Search vendors..."})]})]}),!T&&t.jsx("div",{className:"flex justify-between mb-3 w-full overflow-x-auto space-x-2 px-2",children:["Thrifts","Mens","Womens","Underwears","Y2K","Jewelry","Kids","Trads","Dresses","Gowns","Shoes","Accessories","Bags","Sportswear","Formal"].map((e=>t.jsx("button",{onClick:()=>(e=>{const s=S===e?"":e;C(s);const t=D(w,s);O(t)})(e),className:"flex-shrink-0 h-12 px-3 py-2 text-xs font-bold font-opensans text-black border border-gray-200 rounded-full "+(S===e?"bg-customOrange text-white":"bg-transparent"),children:e},e)))})]}),t.jsxs("div",{className:"vendor-list -mx-2 translate-y-1",children:[t.jsx("hr",{className:"bg-gray-200 pb-0.5 w-full"}),E?Array.from({length:5}).map(((e,s)=>t.jsx("div",{className:"vendor-item",children:t.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white",children:[t.jsxs("div",{children:[t.jsx(r,{width:150,height:24}),t.jsx(r,{width:100,height:16}),t.jsx(r,{width:120,height:24})]}),t.jsx(r,{height:96,width:96})]})},s))):I.length>0?I.map((e=>{const s=e.ratingCount||0,a=s>0?e.rating/s:0;return t.jsx("div",{className:"vendor-item  border-b  border-gray-100",children:t.jsxs("div",{className:"flex justify-between p-3 mb-1 bg-white",onClick:()=>(e=>{g(`/store/${e.id}`)})(e),children:[t.jsxs("div",{children:[t.jsx("h1",{className:"font-poppins text-black text-xl mb-1 font-medium",children:e.shopName.length>18?`${e.shopName.substring(0,18)}...`:e.shopName}),t.jsx("p",{className:"font-sans text-gray-300 categories-text flex items-center -translate-y-1",children:e.categories.slice(0,3).map(((e,s)=>t.jsxs(n.Fragment,{children:[s>0&&t.jsx(i,{className:"mx-1 dot-size text-gray-300"}),e]},s)))}),t.jsxs("div",{className:"flex -ml-1  items-center  text-gray-700 font-ubuntu font-  text-xs translate-y-4 mb-0",children:[t.jsx(j,{className:"mr-1 text-customOrange"}),t.jsx("span",{children:e.state})]}),t.jsxs("div",{className:"flex items-center translate-y-4",children:[t.jsx("span",{className:"text-black font-light text-xs mr-2",children:a.toFixed(1)}),t.jsx(u,{count:5,value:a,size:24,activeColor:"#ffd700",emptyIcon:t.jsx(f,{filled:!1}),filledIcon:t.jsx(f,{filled:!0}),edit:!1}),t.jsxs("span",{className:"text-black font-light ratings-text ml-2",children:["(",s,")"]})]})]}),t.jsxs("div",{className:"relative w-24 h-24 overflow-hidden",children:[t.jsx("img",{className:"object-cover w-full h-full rounded-lg",src:e.coverImageUrl||"https://images.saatchiart.com/saatchi/1750204/art/9767271/8830343-WUMLQQKS-7.jpg",alt:e.shopName}),t.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 20%, rgba(255,255,255,0.3) 50%, transparent 80%)",backgroundSize:"200% 200%",animation:"shimmer 6s infinite ease-in-out"}})]})]})},e.id)})):t.jsxs("div",{className:"text-center my-10 px-6",children:[t.jsx("h2",{className:"text-2xl font-ubuntu font-medium",children:"No results found"}),t.jsx("p",{className:"text-gray-600",children:"Please try searching for another item or category."})]})]})]})]})};export{g as default};
