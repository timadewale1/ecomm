import{h as s,f as e,i as t,r,eS as o,j as n,S as a,Q as l,dk as i,bu as d,a2 as c}from"./index-CvIXhaMv.js";const m=()=>{const m=s(),x=e(),{products:u,noMoreProducts:f,loading:h,error:p}=t((s=>s.personalDiscountsPage)),[w,j]=r.useState(!0),[g,N]=r.useState(0);return r.useEffect((()=>{x(o({loadMore:!1}))}),[x]),r.useEffect((()=>{const s=()=>{const s=window.scrollY;j(!(s>g)),N(s),window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-100&&(h||f||x(o({loadMore:!0})))};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)}),[x,h,f,g]),n.jsxs(n.Fragment,{children:[n.jsx(a,{title:" Discounts Today | Deals & Offers",description:"Browse  discounts from and get crazy deals now!",url:"https://www.shopmythrift.store/personal-discounts"}),n.jsxs("div",{className:"px-4 py-6",children:[n.jsx("div",{className:"fixed top-0 left-0 w-full bg-white z-10 px-2 py-6 shadow-md transition-transform duration-300 "+(w?"translate-y-0":"-translate-y-full"),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(l,{className:"text-2xl cursor-pointer mr-2",onClick:()=>m(-1)}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("h2",{className:"text-lg font-opensans font-semibold",children:"Discounts"}),n.jsx(i,{className:"text-xl ml-1 text-green-700"})]})]})}),n.jsx("div",{className:"pt-16 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:u.map((s=>n.jsx(d,{product:s},s.id)))}),h&&n.jsx("div",{className:"flex justify-center my-4",children:n.jsx(c,{strokeColor:"#f9531e",strokeWidth:"5",animationDuration:"0.75",width:"20",visible:!0})}),!h&&0===u.length&&!p&&n.jsx("p",{className:"text-center mt-4 text-gray-600",children:"No personal discounts found."})]})]})};export{m as default};
