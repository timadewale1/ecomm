import{r as e,u as s,j as t,z as a,_ as r,D as i,H as o,O as n,E as l,I as m,aa as c,C as d}from"./index-B6_tP4YQ.js";import{a as u}from"./index-_8P_0wxn.js";import{C as p,R as x,F as f,a as h}from"./reactstrap.modern-1TI7C-B6.js";import{a as j}from"./index-BZTi0IwX.js";import{$ as w}from"./module-rdBSHQ9l.js";import{S as y}from"./SEO-CG8nsGhn.js";import{m as g}from"./motion-nj0T3Q6E.js";import"./index-KjFfD-Q4.js";import"./index-Bx5UHif0.js";import"./index-CfSqzuTe.js";import"./index-BaqZIR9i.js";import"./warning-DM8AoHwU.js";import"./Transition-EapTcxBc.js";import"./setPrototypeOf-CeEI3KLI.js";import"./inheritsLoose-HiINKdoJ.js";import"./emotion-unitless.esm-sScrWPmR.js";const b=()=>{const[b,v]=e.useState(""),[N,k]=e.useState(!1),P=s();return t.jsxs(t.Fragment,{children:[t.jsx(y,{title:"Password Reset - My Thrift",description:"Reset your password",url:"https://www.shopmythrift.store/forgetpassword"}),t.jsx("section",{children:t.jsx(p,{children:t.jsx(x,{children:t.jsxs("div",{className:"px-3 ",children:[t.jsx(u,{className:"text-2xl cursor-pointer mb-2",onClick:()=>P(-1)}),t.jsx("h1",{className:"font-ubuntu text-3xl mt-9 font-semibold mb-1",children:"Reset your password"}),t.jsx("h2",{className:"font-ubuntu font-thin text-sm text-gray-400",children:"Enter your email address and we will send you a link"}),t.jsxs(f,{className:"translate-y-5",onSubmit:async e=>{if(e.preventDefault(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){k(!0);try{const e=["users","vendors"];let s=!1;for(const t of e){const e=i(o(n,t),l("email","==",b));if(!(await m(e)).empty){s=!0;break}}s?(await(async e=>{const s={url:"https://shopmythrift.store/reset-password",handleCodeInApp:!0};try{await c(d,e,s),r.success("Password reset email sent successfully!")}catch(t){r.error("Failed to send password reset email. Please try again.")}})(b),P("/confirm-state")):r.error("We couldn't find an account with that email. Please try again.")}catch(s){r.error("Something went wrong. Please try again later.")}finally{k(!1)}}else r.error("Invalid email format. Please enter a valid email.")},children:[t.jsxs(h,{className:"relative w-full",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-5 pointer-events-none",children:t.jsx(j,{className:"text-2xl text-black"})}),t.jsx("input",{type:"email",placeholder:"Enter your email",value:b,className:"w-full h-12 bg-gray-100 pl-14 text-black font-opensans rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-customOrange",onChange:e=>v(e.target.value.toLowerCase())})]}),t.jsxs("div",{className:"flex  text-center flex-col -translate-y-3",children:[t.jsx(g.button,{whileTap:{scale:1.2},type:"submit",className:"bg-customOrange w-full mb-2 h-12 font-poppins font-medium rounded-full text-white mt-4 relative",disabled:N,children:N?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(w,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0})}):"Reset"}),t.jsx("p",{className:"text-customOrange text-sm",children:t.jsx(a,{to:"/login",children:"Back to Sign In"})})]})]})]})})})})]})};export{b as default};
