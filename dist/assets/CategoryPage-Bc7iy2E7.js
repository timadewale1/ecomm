import{k as t,h as e,f as r,r as n,u as i,ay as s,i as o,ez as a,az as c,j as u,S as l,Q as d,cQ as h,aG as f,X as p,cU as g,cV as m,bu as y,a2 as v,cW as w,a5 as _,A as b,d as x,a as j,ab as S,_ as k,aa as $,l as T,q as C,c as O,w as M,g as A}from"./index-CvIXhaMv.js";import{T as E}from"./react-DNBAOpZC.js";class V{filterOutNonSupportedKeys(t,e){const r=Object.create({});return"object"!=typeof(n=t)||n instanceof Array?Object.create({}):(Object.keys(t).forEach((n=>{e.indexOf(n)>=0&&(r[n]=t[n])})),r);var n}}const L=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class R extends V{constructor(t){super();const e=this.filterOutNonSupportedKeys(t,L);Object.assign(this,{secure:!0},e)}extend(t){const e=this.filterOutNonSupportedKeys(t,L);return new R(Object.assign({},this,e))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}let N=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return null!=t&&""!==t}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter((t=>this.hasValue(t))),this}setDelimiter(t){return this.delimiter=t,this}},P=class extends Error{constructor(t="Unsupported"){super(t)}};function F(t){return new P(t)}function q(){return this._qualifierModel||{error:F(`unsupported qualifier ${this.constructor.name}`)}}let Q=class{constructor(){this._qualifierModel={}}toJson(){return q.apply(this)}},I=class extends Q{constructor(t,e){super(),this.delimiter="_",this.key=t,e instanceof N?this.qualifierValue=e:(this.qualifierValue=new N,this.qualifierValue.addValue(e))}toString(){const{key:t,delimiter:e,qualifierValue:r}=this;return`${t}${e}${r.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},U=class extends I{constructor(t,e){let r;r=e?new N([t,`${e}`]).setDelimiter(":"):t,super("fl",r),this.flagValue=e}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function D(){var t,e,r;const n=this._actionModel&&Object.keys(this._actionModel).length,i=null===(r=null===(e=null===(t=this._actionModel)||void 0===t?void 0:t.source)||void 0===e?void 0:e.transformation)||void 0===r?void 0:r.error;return i&&i instanceof Error?{error:i}:n?this._actionModel:{error:F(`unsupported action ${this.constructor.name}`)}}let z=class{constructor(){this._actionModel={}}toJson(){return D.apply(this)}},J=class extends z{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),function(t,e){const r=Array.from(t.entries());return e.forEach((t=>{r.push(["fl",t])})),r.sort().map((t=>t[1]))}(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if("string"==typeof t){const[e,r]=t.toLowerCase().split("_");"fl"===e?this.flags.push(new U(r)):this.qualifiers.set(e,new I(e,r))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return"string"==typeof t?this.flags.push(new U(t)):t instanceof U&&this.flags.push(t),this}addValueToQualifier(t,e){return this.qualifiers.get(t).addValue(e),this}};let W=class extends J{constructor(t){super(),this._actionModel={},this.addQualifier(new I("b",new N(function(t){return t&&t.match(/^#/)?`rgb:${t.substr(1)}`:t}(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:e}=t;return new this(e)}},G=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:F(`unsupported action ${this.constructor.name}`)}}};let B=class extends N{constructor(t){super(t),this.val=t}getValue(){return this.val}};function H(t){const e={};return Object.keys(t).forEach((r=>{e[t[r]]=r})),e}const K={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"};H({444:"CHROMA_444",420:"CHROMA_420"}),H({noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"});const Y=H(K),X=H({colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"});H({redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"}),H({autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"}),H({fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"});let Z=class extends J{constructor(t,e,r){let n;super(),this._actionModel={},n=e instanceof B?e.getValue():e,this._actionModel.actionType=X[t],this._actionModel[r]=n,this.addQualifier(new I(t,e))}},tt=class extends U{constructor(t){super("progressive",t)}},et=class extends Z{constructor(t,e){super(t,e,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(new U("lossy")),this}progressive(t){return t instanceof tt?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(function(t){return new U("progressive",t)}(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(new U("preserve_transparency")),this}static fromJson(t){const{formatType:e,lossy:r,progressive:n,preserveTransparency:i}=t;let s;return s=e?new this("f",e):new this("f"),n&&(n.mode?s.progressive(n.mode):s.progressive()),r&&s.lossy(),i&&s.preserveTransparency(),s}},rt=class t{constructor(){this.actions=[]}addAction(t){let e;if("string"==typeof t){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";e=new G(t)}else e=t;return this.actions.push(e),this}addTransformation(e){return e instanceof t?this.actions=this.actions.concat(e.actions):this.actions.push(new G(e)),this}toString(){return this.actions.map((t=>t.toString())).filter((t=>t)).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new et("q",t)),this}format(t){return this.addAction(new et("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new W(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const e=new J;let r=t;return"string"==typeof t&&(r=new U(t)),e.addQualifier(r),this.addAction(e)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if("error"in(e=n)&&e.error)return n;t.push(n)}var e;return{actions:t}}};class nt extends rt{}class it extends rt{}function st(t){const e=t.toString();if(e.match(/[A-Z]/gi))return e;if(e.length>1&&"0"===e[0])return e;return!isNaN(parseFloat(e))&&-1===e.indexOf(":")&&-1===e.indexOf(".")?`${e}.0`:e}let ot=class extends N{},at=class extends J{constructor(t,e,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Y[t]||t,this.addQualifier(new I("c",t)),e&&this.width(e),r&&this.height(r)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new I("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new I("w",t))}aspectRatio(t){return t instanceof ot?(this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new I("ar",t))):"number"==typeof t||"string"==typeof t?(this._actionModel.dimensions.aspectRatio=st(t),this.addQualifier(new I("ar",st(t)))):t instanceof U?(this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)):void 0}relative(){return this._actionModel.relative=!0,this.addFlag(new U("relative"))}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(new U("region_relative"))}static fromJson(t){const{actionType:e,dimensions:r,relative:n,regionRelative:i}=t,{aspectRatio:s,width:o,height:a}=r,c=new this(K[e]||e,o,a);return s&&c.aspectRatio("ignore_aspect_ratio"===s?new U("ignore_aspect_ratio"):s),n&&c.relative(),i&&c.regionRelative(),c}},ct=class extends I{constructor(t){super("g",new N(t))}},ut=class extends ct{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},lt=class extends ct{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},dt=class extends ct{constructor(t){super(t)}};function ht(...t){const e=[...t];return new lt(e)}function ft(){return new ut}let pt=class extends N{constructor(t){super(),this.name=t}toString(){return this.name}};function gt(t){return`${t}`.replace("g_","")}function mt(t){const e=t.toString().split("_"),r={object:e[0]};return e.length>1&&("avoid"===e[1]?r.avoid=!0:r.weight=+e[1]),r}function yt(t){let e;const r="auto"===t?new ut:t;e=`${t}`.startsWith("auto:")?`${t}`.split(":").filter((t=>"auto"!==t)):r.qualifierValue.values.filter((t=>"auto"!==t));return{gravityType:"auto",autoFocus:e.map(mt)}}function vt(t){return function(t){const e=gt(t);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}(t)?function(t){return{compass:gt(t),gravityType:"direction"}}(t):function(t){return"ocr_text"===gt(t)}(t)?{gravityType:"ocr"}:function(t){return t&&"auto"===`${t}`.split(":")[0]}(t)||function(t){return"auto"===`${t.qualifierValue}`.split(":")[0]}(t)?yt(t):function(t){const e=`${t}`.split(":").includes("auto"),r=t.qualifierValue.values,n={gravityType:"object",focusOnObjects:(e?r.slice(0,r.length-1):r).map((t=>`${t}`))};if(e){const t=r[r.length-1].values.slice(1),e=ft().autoFocus(...t);n.fallbackGravity=yt(e)}return n}("string"==typeof t?function(t){const e=t.split(":").map((t=>new pt(t)));return new lt(e)}(t):t)}let wt=class t extends N{constructor(t,e){super(),this._weight=e,this.focusOn=t,this.shouldAvoid=!1}static focusOn(e,r){return new t(e,r)}shouldAddWeight(){return"number"==typeof this._weight||"string"==typeof this._weight||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},_t=class extends N{constructor(t){super(),this.val=t}toString(){return this.val}};function bt(t){const{object:e,weight:r,avoid:n}=t,i=new wt(new pt(e));return(r||0===r)&&i.weight(r),n&&i.avoid(),i}function xt(t){const e=(t.autoFocus||[]).map(bt);return ft().autoFocus(...e)}function jt(t){return function(t){return"direction"===t.gravityType}(t)?new dt(new _t(t.compass)):function(t){return"ocr"===t.gravityType}(t)?ht(new pt("ocr_text")):function(t){return"auto"===t.gravityType}(t)?xt(t):function(t){const e=ht(...(t.focusOnObjects||[]).map((t=>new pt(t))));if(t.fallbackGravity){const r=xt(t.fallbackGravity);e.fallbackGravity(r)}return e}(t)}let St=class extends at{gravity(t){this._actionModel.gravity=vt(t);const e="string"==typeof t?new I("g",t):t;return this.addQualifier(e)}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.gravity&&e.gravity(jt(t.gravity)),e}};function kt(t,e,r){let n=e|0,i=String(r);return t.length>n?String(t):(n-=t.length,n>i.length&&(i+=function(t,e){let r=e,n="";for(;r>0;)n+=t,r--;return n}(i,n/i.length)),i.slice(0,n)+String(t))}const $t={};let Tt=0;function Ct(t){let e="";const r=6*t.split(".").length,n=function(t){if(t.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return t.split(".").reverse().join(".")}(t),i=function(t){if(t.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return t.split(".").map((t=>{const e=+t;if(isNaN(e)||e<0)throw"Invalid version number provided";return kt(t,2,"0")})).join(".")}(n);let s=parseInt(i.split(".").join("")).toString(2);if(s=kt(s,r,"0"),s.length%6!=0)throw"Version must be smaller than 43.21.26)";return s.match(/.{1,6}/g).forEach((t=>{e+=$t[t]})),e}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((t=>{let e=Tt.toString(2);e=kt(e,6,"0"),$t[e]=t,Tt++}));function Ot(){const t="0.0.0";if("undefined"!=typeof window)return t;try{return process.versions.node||t}catch(e){return t}}function Mt(t){const e=function(t){const e={sdkSemver:t.sdkSemver,techVersion:t.techVersion,sdkCode:t.sdkCode,product:t.product,feature:"0",osType:t.osType,osVersion:t.osVersion};return t.accessibility&&(e.feature="D"),t.lazyload&&(e.feature="C"),t.responsive&&(e.feature="A"),t.placeholder&&(e.feature="B"),e}(function(t){const e={techVersion:Ot(),sdkCode:"T",sdkSemver:"1.19.0".split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return t?Object.assign(Object.assign({},e),t):e}(t));try{const t=function(t){const e=t.split(".");return`${e[0]}.${e[1]}`}(e.techVersion),r=Ct(e.sdkSemver),n=Ct(t),i=function(t){const[e,r]=t.split("."),n=parseInt(e).toString(2),i=parseInt(r).toString(2),s=n.padStart(6,"0"),o=i.padStart(6,"0");return $t[s]+$t[o]}(e.osVersion),s=e.feature,o=e.sdkCode,{product:a,osType:c}=e;return`${"D"}${a}${o}${r}${n}${c}${i}${s}`}catch(r){return"E"}}const At={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Et{constructor(t,e={},r){this.setPublicID(t),this.setCloudConfig(e),this.setURLConfig(r)}setURLConfig(t){return this.urlConfig=new R(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(void 0===this.cloudName)throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,e=this.suffix&&this.suffix.indexOf("/")>=0;if(t||e)throw"`suffix`` should not include . or /"}getResourceType(){const t=function(t){return t||"image"}(this.assetType),e=function(t){return t||"upload"}(this.deliveryType),r=!!this.suffix,n=`${t}/${e}`,i=At[`${t}/${e}`],s=this.urlConfig.useRootPath,o=this.urlConfig.shorten;if(s){if("image/upload"===n)return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${n} instead`)}if(o&&"image/upload"===n)return"iu";if(r){if(i)return i;throw new Error(`URL Suffix only supported for ${Object.keys(At).join(", ")}, Provided: ${n} instead`)}return n}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,e){if(!this.publicID)return"";this.validateAssetForURLCreation();const r=function(t,e){const r=e.secure,n=e.privateCdn,i=e.cname,s=e.secureDistribution;return r||i?r&&!s&&n?`https://${t}-res.cloudinary.com`:r&&!s?`https://res.cloudinary.com/${t}`:r&&s&&n?`https://${s}`:r&&s?`https://${s}/${t}`:!r&&i?`http://${i}/${t}`:"ERROR":`http://res.cloudinary.com/${t}`}(this.cloudName,this.urlConfig),n=t?t.toString():"",i=function(t,e,r){const n=!1!==r;return e?`v${e}`:function(t){return t.match(/^v[0-9]+/)}(t)||function(t){return t.match(/^https?:\//)}(t)||function(t){return t.indexOf("/")<0}(t)?"":n?"v1":""}(this.publicID,this.version,this.urlConfig.forceVersion),s=this.publicID;if("string"==typeof t){return[r,this.getResourceType(),this.getSignature(),n,i,s.replace(/,/g,"%2C"),this.suffix].filter((t=>t)).join("/")}{const t=[encodeURI(r),this.getResourceType(),this.getSignature(),encodeURI(n),i,encodeURI(s).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter((t=>t)).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),a=!1!==this.urlConfig.analytics&&!s.includes("?");let c="";if("object"==typeof this.urlConfig.queryParams)try{const t=new URLSearchParams(this.urlConfig.queryParams);a&&t.set("_a",Mt(e)),c=t.toString()}catch(o){}else c=this.urlConfig.queryParams||"",a&&(c+=`${c.length>0?"&":""}_a=${Mt(e)}`);return c?`${t}?${c}`:t}}}class Vt extends Et{constructor(t,e,r,n){super(t,e,r),this.transformation=n}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new et("q",t)),this}format(t){return this.addAction(new et("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,null==t?void 0:t.trackedAnalytics)}}class Lt extends Vt{constructor(t,e,r){super(t,e,r,new nt)}}class Rt extends Vt{constructor(t,e,r){super(t,e,r,new it),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}var Nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pt={exports:{}};!function(t,e){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",s="[object Boolean]",o="[object Date]",a="[object Function]",c="[object GeneratorFunction]",u="[object Map]",l="[object Number]",d="[object Object]",h="[object Promise]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",y="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",$="[object Uint8ClampedArray]",T="[object Uint16Array]",C="[object Uint32Array]",O=/\w*$/,M=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,E={};E[i]=E["[object Array]"]=E[v]=E[w]=E[s]=E[o]=E[_]=E[b]=E[x]=E[j]=E[S]=E[u]=E[l]=E[d]=E[f]=E[p]=E[g]=E[m]=E[k]=E[$]=E[T]=E[C]=!0,E["[object Error]"]=E[a]=E[y]=!1;var V="object"==typeof Nt&&Nt&&Nt.Object===Object&&Nt,L="object"==typeof self&&self&&self.Object===Object&&self,R=V||L||Function("return this")(),N=e&&!e.nodeType&&e,P=N&&t&&!t.nodeType&&t,F=P&&P.exports===N;function q(t,e){return t.set(e[0],e[1]),t}function Q(t,e){return t.add(e),t}function I(t,e,r,n){for(var i=-1,s=t?t.length:0;++i<s;)r=e(r,t[i],i,t);return r}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function D(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function z(t,e){return function(r){return t(e(r))}}function J(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var W,G=Array.prototype,B=Function.prototype,H=Object.prototype,K=R["__core-js_shared__"],Y=(W=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",X=B.toString,Z=H.hasOwnProperty,tt=H.toString,et=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=F?R.Buffer:void 0,nt=R.Symbol,it=R.Uint8Array,st=z(Object.getPrototypeOf,Object),ot=Object.create,at=H.propertyIsEnumerable,ct=G.splice,ut=Object.getOwnPropertySymbols,lt=rt?rt.isBuffer:void 0,dt=z(Object.keys,Object),ht=Ft(R,"DataView"),ft=Ft(R,"Map"),pt=Ft(R,"Promise"),gt=Ft(R,"Set"),mt=Ft(R,"WeakMap"),yt=Ft(Object,"create"),vt=Dt(ht),wt=Dt(ft),_t=Dt(pt),bt=Dt(gt),xt=Dt(mt),jt=nt?nt.prototype:void 0,St=jt?jt.valueOf:void 0;function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $t(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){this.__data__=new $t(t)}function Ot(t,e){var r=Jt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wt(t)}(t)&&Z.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,s=!!n;for(var o in t)!Z.call(t,o)||s&&("length"==o||It(o,n))||r.push(o);return r}function Mt(t,e,r){var n=t[e];Z.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function At(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function Et(t,e,r,n,h,y,M){var A;if(n&&(A=y?n(t,h,y,M):n(t)),void 0!==A)return A;if(!Ht(t))return t;var V=Jt(t);if(V){if(A=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&Z.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,A)}else{var L=Qt(t),R=L==a||L==c;if(Gt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(L==d||L==i||R&&!y){if(U(t))return y?t:{};if(A=function(t){return"function"!=typeof t.constructor||Ut(t)?{}:(e=st(t),Ht(e)?ot(e):{});var e}(R?{}:t),!e)return function(t,e){return Rt(t,qt(t),e)}(t,function(t,e){return t&&Rt(e,Kt(e),t)}(A,t))}else{if(!E[L])return y?t:{};A=function(t,e,r,n){var i=t.constructor;switch(e){case v:return Lt(t);case s:case o:return new i(+t);case w:return function(t,e){var r=e?Lt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case _:case b:case x:case j:case S:case k:case $:case T:case C:return function(t,e){var r=e?Lt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case u:return function(t,e,r){var n=e?r(D(t),!0):D(t);return I(n,q,new t.constructor)}(t,n,r);case l:case g:return new i(t);case f:return function(t){var e=new t.constructor(t.source,O.exec(t));return e.lastIndex=t.lastIndex,e}(t);case p:return function(t,e,r){var n=e?r(J(t),!0):J(t);return I(n,Q,new t.constructor)}(t,n,r);case m:return a=t,St?Object(St.call(a)):{}}var a}(t,L,Et,e)}}M||(M=new Ct);var N=M.get(t);if(N)return N;if(M.set(t,A),!V)var P=r?function(t){return function(t,e,r){var n=e(t);return Jt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Kt,qt)}(t):Kt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(P||t,(function(i,s){P&&(i=t[s=i]),Mt(A,s,Et(i,e,r,n,s,t,M))})),A}function Vt(t){return!(!Ht(t)||(e=t,Y&&Y in e))&&(Bt(t)||U(t)?et:M).test(Dt(t));var e}function Lt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Rt(t,e,r,n){r||(r={});for(var i=-1,s=e.length;++i<s;){var o=e[i];Mt(r,o,t[o])}return r}function Pt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ft(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Vt(r)?r:void 0}kt.prototype.clear=function(){this.__data__=yt?yt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===r?void 0:n}return Z.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Z.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?r:e,this},$t.prototype.clear=function(){this.__data__=[]},$t.prototype.delete=function(t){var e=this.__data__,r=At(e,t);return!(r<0)&&(r==e.length-1?e.pop():ct.call(e,r,1),!0)},$t.prototype.get=function(t){var e=this.__data__,r=At(e,t);return r<0?void 0:e[r][1]},$t.prototype.has=function(t){return At(this.__data__,t)>-1},$t.prototype.set=function(t,e){var r=this.__data__,n=At(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new kt,map:new(ft||$t),string:new kt}},Tt.prototype.delete=function(t){return Pt(this,t).delete(t)},Tt.prototype.get=function(t){return Pt(this,t).get(t)},Tt.prototype.has=function(t){return Pt(this,t).has(t)},Tt.prototype.set=function(t,e){return Pt(this,t).set(t,e),this},Ct.prototype.clear=function(){this.__data__=new $t},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var r=this.__data__;if(r instanceof $t){var n=r.__data__;if(!ft||n.length<199)return n.push([t,e]),this;r=this.__data__=new Tt(n)}return r.set(t,e),this};var qt=ut?z(ut,Object):function(){return[]},Qt=function(t){return tt.call(t)};function It(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||A.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||H)}function Dt(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(ht&&Qt(new ht(new ArrayBuffer(1)))!=w||ft&&Qt(new ft)!=u||pt&&Qt(pt.resolve())!=h||gt&&Qt(new gt)!=p||mt&&Qt(new mt)!=y)&&(Qt=function(t){var e=tt.call(t),r=e==d?t.constructor:void 0,n=r?Dt(r):void 0;if(n)switch(n){case vt:return w;case wt:return u;case _t:return h;case bt:return p;case xt:return y}return e});var Jt=Array.isArray;function Wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!Bt(t)}var Gt=lt||function(){return!1};function Bt(t){var e=Ht(t)?tt.call(t):"";return e==a||e==c}function Ht(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Kt(t){return Wt(t)?Ot(t):function(t){if(!Ut(t))return dt(t);var e=[];for(var r in Object(t))Z.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return Et(t,!0,!0)}}(Pt,Pt.exports);var Ft=Pt.exports,qt=function(){return qt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qt.apply(this,arguments)};function Qt(t,e,r,n){return new(r||(r=Promise))((function(e,i){function s(t){try{a(n.next(t))}catch(e){i(e)}}function o(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,o)}a((n=n.apply(t,[])).next())}))}function It(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(c){a=[6,c],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function Ut(t,e,r,n,i){return Qt(this,0,void 0,(function(){var s,o;return It(this,(function(a){switch(a.label){case 0:if(void 0===r)return[2];o=0,a.label=1;case 1:return o<r.length?[4,r[o](t,e,n,i,r)]:[3,4];case 2:if("canceled"===(s=a.sent()))return[3,4];a.label=3;case 3:return o++,[3,1];case 4:return"canceled"!==s?[2,s]:[2]}}))}))}"function"==typeof SuppressedError&&SuppressedError;var Dt=function(t,e){return void 0===e&&(e={}),t?{trackedAnalytics:qt({sdkCode:t.sdkCode,sdkSemver:t.sdkSemver,techVersion:t.techVersion},e)}:null},zt=function(){function t(t,e,r,n){var i=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var s=Ft(e);Ut(t,s,r,this.htmlPluginState,n).then((function(t){if(i.isMounted){i.htmlPluginState.pluginEventSubscription.forEach((function(t){t()}));var e=Dt(n,t);i.imgElement.setAttribute("src",s.toURL(e))}}))}return t.prototype.update=function(t,e,r){var n=this,i=Ft(t);Ut(this.imgElement,i,e,this.htmlPluginState).then((function(t){if(n.isMounted){var e=Dt(r,t);n.imgElement.setAttribute("src",i.toURL(e))}}))},t.prototype.unmount=function(){this.isMounted=!1},t}();class Jt{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return null!=t&&""!==t}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter((t=>this.hasValue(t))),this}setDelimiter(t){return this.delimiter=t,this}}class Wt extends Error{constructor(t="Unsupported"){super(t)}}function Gt(t){return new Wt(t)}function Bt(){return this._qualifierModel||{error:Gt(`unsupported qualifier ${this.constructor.name}`)}}class Ht{constructor(){this._qualifierModel={}}toJson(){return Bt.apply(this)}}class Kt extends Ht{constructor(t,e){super(),this.delimiter="_",this.key=t,e instanceof Jt?this.qualifierValue=e:(this.qualifierValue=new Jt,this.qualifierValue.addValue(e))}toString(){const{key:t,delimiter:e,qualifierValue:r}=this;return`${t}${e}${r.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class Yt extends Kt{constructor(t,e){let r;r=e?new Jt([t,`${e}`]).setDelimiter(":"):t,super("fl",r),this.flagValue=e}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function Xt(){var t,e,r;const n=this._actionModel&&Object.keys(this._actionModel).length,i=null===(r=null===(e=null===(t=this._actionModel)||void 0===t?void 0:t.source)||void 0===e?void 0:e.transformation)||void 0===r?void 0:r.error;return i&&i instanceof Error?{error:i}:n?this._actionModel:{error:Gt(`unsupported action ${this.constructor.name}`)}}class Zt{constructor(){this._actionModel={}}toJson(){return Xt.apply(this)}}class te extends Zt{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),function(t,e){const r=Array.from(t.entries());return e.forEach((t=>{r.push(["fl",t])})),r.sort().map((t=>t[1]))}(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if("string"==typeof t){const[e,r]=t.toLowerCase().split("_");"fl"===e?this.flags.push(new Yt(r)):this.qualifiers.set(e,new Kt(e,r))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return"string"==typeof t?this.flags.push(new Yt(t)):t instanceof Yt&&this.flags.push(t),this}addValueToQualifier(t,e){return this.qualifiers.get(t).addValue(e),this}}class ee extends te{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class re extends ee{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new Kt("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new Kt("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new Kt("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new Kt("h",t)),this}static fromJson(t){const e=new re;return t.width&&e.width(t.width),t.height&&e.height(t.height),t.x&&e.x(t.x),t.y&&e.y(t.y),e}}function ne(){return new ee("faces")}class ie extends te{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";if("_region"in this){this._region.qualifiers.forEach((t=>this.addQualifier(t))),"custom"===this._region.regionType&&this.addQualifier(new Kt("e",`blur_region${t}`)),"ocr_text"===this._region.regionType&&(this.addQualifier(new Kt("e",`blur_region${t}`)),this.addQualifier(new Kt("g","ocr_text"))),"faces"===this._region.regionType&&this.addQualifier(new Kt("e",`blur_faces${t}`))}else this.addQualifier(new Kt("e",`blur${t}`))}static fromJson(t){const{strength:e,region:r}=t,n=new this(e);return e&&n.strength(e),r&&"faces"===r.regionType&&n.region(ne()),r&&"ocr_text"===r.regionType&&n.region(new ee("ocr_text")),r&&"custom"===r.regionType&&n.region(re.fromJson(r)),n}}function se(t){const e={};return Object.keys(t).forEach((r=>{e[t[r]]=r})),e}const oe={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},ae={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ce={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ue={444:"CHROMA_444",420:"CHROMA_420"},le=se(ue);se({noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"});const de=se(oe),he=se({colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"}),fe=se(ae);se(ce),se({fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"});class pe extends te{constructor(t,e){super(),this._actionModel={},this._actionModel.actionType=fe[t]||t;const r=this.createEffectQualifier(t,e);this.addQualifier(r)}createEffectQualifier(t,e){let r;return r=e?new Jt([t,`${e}`]).setDelimiter(":"):new Jt(t),new Kt("e",r)}static fromJson(t){const{actionType:e,level:r,strength:n}=t;return new this(ae[e]||e,r||n)}}class ge extends pe{constructor(t,e){super(t,e),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=fe[t]||t,e&&this.setLevel(e)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const e=this.createEffectQualifier(this.effectType,t);return this.addQualifier(e),this}}function me(t){return t&&t.match(/^#/)?`rgb:${t.substr(1)}`:t}class ye extends te{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new Jt(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new Jt(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new Jt(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new Jt(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new Jt(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new Kt("e",t))}static fromJson(t){const{actionType:e,paths:r,cornersLevel:n,despeckleLevel:i,detailLevel:s,numOfColors:o}=t,a=new this;return r&&a.paths(r),n&&a.cornersLevel(n),i&&a.despeckleLevel(i),s&&a.detailsLevel(s),o&&a.numOfColors(o),a}}class ve extends ge{level(t){return this._actionModel.level=t,this.setLevel(t)}}class we extends te{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new Kt("e",new Jt("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new Kt("e",new Jt(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new Kt("e",new Jt(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:e,type:r,stripesStrength:n}=t,i=new this;return"xray"===r&&i.xray(),"stripes"===r&&n&&i.stripesStrength(n),i}}class _e extends ve{color(t){return this._actionModel.color=t,this.addQualifier(new Kt("co",new Jt(me(t))))}static fromJson(t){const{actionType:e,level:r,color:n}=t,i=new this(e,r);return n&&i.color(n),i}}class be extends te{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";if("_region"in this){this._region.qualifiers.forEach((t=>this.addQualifier(t))),"custom"===this._region.regionType&&this.addQualifier(new Kt("e",`pixelate_region${t}`)),"ocr_text"===this._region.regionType&&(this.addQualifier(new Kt("e",`pixelate_region${t}`)),this.addQualifier(new Kt("g","ocr_text"))),"faces"===this._region.regionType&&this.addQualifier(new Kt("e",`pixelate_faces${t}`))}else this.addQualifier(new Kt("e",`pixelate${t}`))}static fromJson(t){const{region:e,squareSize:r}=t,n=new this(r);return r&&n.squareSize(r),e&&"faces"===e.regionType&&n.region(ne()),e&&"custom"===e.regionType&&n.region(new re),n}}function xe(t){return new _e("colorize",t)}class je extends te{constructor(t){super(),this._actionModel={},this.addQualifier(new Kt("b",new Jt(me(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:e}=t;return new this(e)}}class Se{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Gt(`unsupported action ${this.constructor.name}`)}}}class ke extends Jt{constructor(t){super(t),this.val=t}getValue(){return this.val}}class $e extends te{constructor(t,e,r){let n;super(),this._actionModel={},n=e instanceof ke?e.getValue():e,this._actionModel.actionType=he[t],this._actionModel[r]=n,this.addQualifier(new Kt(t,e))}}class Te extends Yt{constructor(t){super("progressive",t)}}class Ce extends $e{constructor(t,e){super(t,e,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(new Yt("lossy")),this}progressive(t){return t instanceof Te?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(function(t){return new Yt("progressive",t)}(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(new Yt("preserve_transparency")),this}static fromJson(t){const{formatType:e,lossy:r,progressive:n,preserveTransparency:i}=t;let s;return s=e?new this("f",e):new this("f"),n&&(n.mode?s.progressive(n.mode):s.progressive()),r&&s.lossy(),i&&s.preserveTransparency(),s}}class Oe{constructor(){this.actions=[]}addAction(t){let e;if("string"==typeof t){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";e=new Se(t)}else e=t;return this.actions.push(e),this}addTransformation(t){return t instanceof Oe?this.actions=this.actions.concat(t.actions):this.actions.push(new Se(t)),this}toString(){return this.actions.map((t=>t.toString())).filter((t=>t)).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Ce("q",t)),this}format(t){return this.addAction(new Ce("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new je(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const e=new te;let r=t;return"string"==typeof t&&(r=new Yt(t)),e.addQualifier(r),this.addAction(e)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if("error"in(e=n)&&e.error)return n;t.push(n)}var e;return{actions:t}}}function Me(t){const e=t.toString();if(e.match(/[A-Z]/gi))return e;if(e.length>1&&"0"===e[0])return e;return!isNaN(parseFloat(e))&&-1===e.indexOf(":")&&-1===e.indexOf(".")?`${e}.0`:e}class Ae extends Jt{}class Ee extends te{constructor(t,e,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=de[t]||t,this.addQualifier(new Kt("c",t)),e&&this.width(e),r&&this.height(r)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new Kt("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new Kt("w",t))}aspectRatio(t){return t instanceof Ae?(this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new Kt("ar",t))):"number"==typeof t||"string"==typeof t?(this._actionModel.dimensions.aspectRatio=Me(t),this.addQualifier(new Kt("ar",Me(t)))):t instanceof Yt?(this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)):void 0}relative(){return this._actionModel.relative=!0,this.addFlag(new Yt("relative"))}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(new Yt("region_relative"))}static fromJson(t){const{actionType:e,dimensions:r,relative:n,regionRelative:i}=t,{aspectRatio:s,width:o,height:a}=r,c=new this(oe[e]||e,o,a);return s&&c.aspectRatio("ignore_aspect_ratio"===s?new Yt("ignore_aspect_ratio"):s),n&&c.relative(),i&&c.regionRelative(),c}}class Ve extends Kt{constructor(t){super("g",new Jt(t))}}class Le extends Ve{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class Re extends Ve{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class Ne extends Ve{constructor(t){super(t)}}function Pe(...t){const e=[...t];return new Re(e)}function Fe(){return new Le}class qe extends Jt{constructor(t){super(),this.name=t}toString(){return this.name}}function Qe(t){return`${t}`.replace("g_","")}function Ie(t){const e=t.toString().split("_"),r={object:e[0]};return e.length>1&&("avoid"===e[1]?r.avoid=!0:r.weight=+e[1]),r}function Ue(t){let e;const r="auto"===t?new Le:t;e=`${t}`.startsWith("auto:")?`${t}`.split(":").filter((t=>"auto"!==t)):r.qualifierValue.values.filter((t=>"auto"!==t));return{gravityType:"auto",autoFocus:e.map(Ie)}}function De(t){return function(t){const e=Qe(t);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}(t)?function(t){return{compass:Qe(t),gravityType:"direction"}}(t):function(t){return"ocr_text"===Qe(t)}(t)?{gravityType:"ocr"}:function(t){return t&&"auto"===`${t}`.split(":")[0]}(t)||function(t){return"auto"===`${t.qualifierValue}`.split(":")[0]}(t)?Ue(t):function(t){const e=`${t}`.split(":").includes("auto"),r=t.qualifierValue.values,n={gravityType:"object",focusOnObjects:(e?r.slice(0,r.length-1):r).map((t=>`${t}`))};if(e){const t=r[r.length-1].values.slice(1),e=Fe().autoFocus(...t);n.fallbackGravity=Ue(e)}return n}("string"==typeof t?function(t){const e=t.split(":").map((t=>new qe(t)));return new Re(e)}(t):t)}class ze extends Jt{constructor(t,e){super(),this._weight=e,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,e){return new ze(t,e)}shouldAddWeight(){return"number"==typeof this._weight||"string"==typeof this._weight||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class Je extends Jt{constructor(t){super(),this.val=t}toString(){return this.val}}function We(t){const{object:e,weight:r,avoid:n}=t,i=new ze(new qe(e));return(r||0===r)&&i.weight(r),n&&i.avoid(),i}function Ge(t){const e=(t.autoFocus||[]).map(We);return Fe().autoFocus(...e)}function Be(t){return function(t){return"direction"===t.gravityType}(t)?new Ne(new Je(t.compass)):function(t){return"ocr"===t.gravityType}(t)?Pe(new qe("ocr_text")):function(t){return"auto"===t.gravityType}(t)?Ge(t):function(t){const e=Pe(...(t.focusOnObjects||[]).map((t=>new qe(t))));if(t.fallbackGravity){const r=Ge(t.fallbackGravity);e.fallbackGravity(r)}return e}(t)}class He extends Ee{gravity(t){this._actionModel.gravity=De(t);const e="string"==typeof t?new Kt("g",t):t;return this.addQualifier(e)}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.gravity&&e.gravity(Be(t.gravity)),e}}class Ke extends Kt{constructor(t){super("b"),t&&this.addValue(t)}}var Ye=class extends Ke{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){return`b_blurred${void 0!==this.intensityLevel?`:${this.intensityLevel}`:""}${void 0!==this.brightnessLevel?void 0!==this.intensityLevel?`:${this.brightnessLevel}`:`:100:${this.brightnessLevel}`:""}`}};class Xe extends Ke{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map((t=>me(t))),this}}class Ze extends Xe{toString(){return`\n    b_auto:border\n    ${this._contrast?"_contrast":""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class tr extends Xe{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class er extends tr{toString(){return`\n    b_auto:border_gradient\n    ${this._contrast?"_contrast":""}\n    ${this._gradientColors?`:${this._gradientColors}`:""}\n    ${this._gradientDirection?`:${this._gradientDirection}`:""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class rr extends tr{toString(){return`\n    b_auto:predominant_gradient\n    ${this._contrast?"_contrast":""}\n    ${this._gradientColors?`:${this._gradientColors}`:""}\n    ${this._gradientDirection?`:${this._gradientDirection}`:""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class nr extends Xe{toString(){return`\n    b_auto:predominant\n    ${this._contrast?"_contrast":""}\n    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}\n    `.replace(/\s+/g,"")}}class ir extends Ke{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){return this._prompt=t,this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return"b_gen_fill"+(this._prompt?`:prompt_${this._prompt}`:"")}}function sr(t){return`${t}`.replace("b_","")}function or(t){const e=t._contrast,r=t._palette,n={backgroundType:""};return e&&(n.contrast=!0),r&&(n.palette=r),n}function ar(t){const e=t._gradientColors,r=`${t._gradientDirection}`,n=or(t);return e&&(n.gradientColors=e),r&&(n.gradientDirection=r),n}function cr(t){return"auto"===sr(t)?{backgroundType:"auto"}:t instanceof Ye?function(t){const{intensityLevel:e,brightnessLevel:r}=t,n={backgroundType:"blurred"};return(e||0===e)&&(n.intensity=e),(r||0===r)&&(n.brightness=r),n}(t):t instanceof Ze?function(t){return Object.assign(Object.assign({},or(t)),{backgroundType:"border"})}(t):t instanceof er?function(t){return Object.assign(Object.assign({},ar(t)),{backgroundType:"borderGradient"})}(t):t instanceof nr?function(t){return Object.assign(Object.assign({},or(t)),{backgroundType:"predominant"})}(t):t instanceof rr?function(t){return Object.assign(Object.assign({},ar(t)),{backgroundType:"predominantGradient"})}(t):t instanceof ir?function(t){return Object.assign({backgroundType:t.getBackgroundType()},t.getPrompt()?{prompt:t.getPrompt()}:{})}(t):function(t){return{backgroundType:"color",color:sr(t)}}(t)}function ur(){return new ke("auto")}function lr(){return new Ze}function dr(){return new Ke("auto")}function hr(){return new er}function fr(){return new rr}function pr(){return new nr}function gr(t){return new Ke(me(t))}function mr(){return new ir}const yr={auto:dr,border:lr,borderGradient:hr,predominantGradient:fr,predominant:pr,color:gr,blurred:function(){return new Ye},generativeFill:mr};function vr(t,e){const{gradientColors:r,gradientDirection:n,contrast:i,palette:s}=e;return i&&t.contrast(),s&&t.palette(...s),r&&t.gradientColors(+r),n&&t.gradientDirection(n),t}function wr(t,e){const{contrast:r,palette:n}=e;return r&&t.contrast(),n&&t.palette(...n),t}function _r(t){const{backgroundType:e}=t;switch(e){case"auto":return dr();case"blurred":return function(t){const{brightness:e,intensity:r}=t,n=yr.blurred();return n.brightness(null!=e?e:0),n.intensity(null!=r?r:100),n}(t);case"border":return wr(lr(),t);case"borderGradient":return vr(hr(),t);case"predominant":return wr(pr(),t);case"predominantGradient":return vr(fr(),t);case"generativeFill":return function(t,e){const{prompt:r}=e;return r&&t.prompt(r),t}(mr(),t);default:return gr(t.color)}}class br extends He{background(t){return this._actionModel.background=cr(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new Kt("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new Kt("y",t))}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.background&&e.background(_r(t.background)),t.x&&e.offsetX(t.x),t.y&&e.offsetY(t.y),t.zoom&&e.zoom(t.zoom),e}}class xr extends He{x(t){return this._actionModel.x=t,this.addQualifier(new Kt("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new Kt("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new Kt("z",t))}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.x&&e.x(t.x),t.y&&e.y(t.y),t.zoom&&e.zoom(t.zoom),e}}class jr extends He{x(t){return this._actionModel.x=t,this.addQualifier(new Kt("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new Kt("y",t))}static fromJson(t){const e=super.fromJson.apply(this,[t]);return t.x&&e.x(t.x),t.y&&e.y(t.y),e}}class Sr extends $e{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=ue[t];const e=new Jt([this._actionModel.level,t]);return e.setDelimiter(":"),this.addQualifier(new Kt("q",e))}quantization(t){this._actionModel.quantization=t;const e=new Jt([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new Kt("q",e))}static fromJson(t){const{level:e,chromaSubSampling:r,quantization:n}=t,i=new this(ce[e]||e);if(r){const t=le[r.toUpperCase()];t&&i.chromaSubSampling(+t)}return n&&i.quantization(n),i}}function kr(t){return new Ce("f",t)}function $r(t){return new Sr(t)}var Tr,Cr,Or,Mr,Ar;xe(70).color("black"),xe(40).color("white"),new pe("grayscale"),new we,(new Oe).effect(new ye).delivery($r("auto")).delivery(kr(new ke("svg"))),(new Oe).effect(new be(Tr)).delivery($r("auto")).delivery(kr(ur())),(new Oe).effect((Cr=2e3,new ie(Cr))).delivery($r("auto")).delivery(kr(ur())),(new Oe).resize((Mr="iw_div_2",new br("pad",Mr,Ar)).aspectRatio(1).background(yr.auto())).resize(function(t,e){return new xr("crop",t,e)}(1,1).gravity((Or=new Je("north_east"),new Ne(Or)))).resize(function(t,e){return new jr("fill",t,e)}().height("ih").width("iw")).delivery($r("auto")).delivery(kr(ur()));var Er={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},Vr="?_a=",Lr=function(){function t(t,e,r,n,i,s,o){var a=this;this.mimeType="video",this.mimeSubTypes=Er,this.videoElement=t,this.originalVideo=e,this.videoOptions=o,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var c=Ft(e);Ut(t,e,n,this.htmlPluginState).then((function(){a.htmlPluginState.pluginEventSubscription.forEach((function(t){t()})),a.setVideoAttributes(i,s),a.handleSourceToVideo(c,r)}))}return t.prototype.handleSourceToVideo=function(t,e){var r=this;if(e)this.generateUserSources(t,e);else{["webm","mp4","ogv"].forEach((function(e){r.appendSourceTag(Ft(t),e)}))}},t.prototype.generateUserSources=function(t,e){var r=this;e.map((function(e){var n=e.type,i=e.codecs,s=e.transcode;return r.appendSourceTag(Ft(t).transcode(s),n,r.buildMimeType(n,i))}))},t.prototype.appendSourceTag=function(t,e,r){var n,i=document.createElement("source"),s=null===(n=this.videoOptions)||void 0===n?void 0:n.useFetchFormat;s&&t.format(e);var o=t.toURL().split(Vr),a=o[1]?"".concat(Vr).concat(o[1]):"",c=s?"":".".concat(e);i.src="".concat(o[0]).concat(c).concat(a),i.type=r||"video/".concat(Er[e]||e),this.videoElement.appendChild(i)},t.prototype.buildMimeType=function(t,e){var r="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return e&&(r+="; codecs="+(Array.isArray(e)?e.join(", "):e)),r},t.prototype.setVideoAttributes=function(t,e){var r;if(void 0===t&&(t={}),"auto"===e){var n=Ft(this.originalVideo);t.poster=n.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else e&&(t.poster=null===(r=e.toURL)||void 0===r?void 0:r.call(e));for(var i=0,s=Object.entries(t);i<s.length;i++){var o=s[i],a=o[0],c=o[1];c&&this.videoElement.setAttribute(a,"poster"===a?c:"")}},t.prototype.update=function(t,e,r,n,i){var s=this;if(t!==this.originalVideo){for(var o=this.videoElement.getElementsByTagName("SOURCE");o[0];)o[0].parentNode.removeChild(o[0]);Ut(this.videoElement,t,r,this.htmlPluginState).then((function(){s.setVideoAttributes(n,i),s.handleSourceToVideo(t,e),s.videoElement.load()}))}},t}(),Rr="object"==typeof Nt&&Nt&&Nt.Object===Object&&Nt,Nr="object"==typeof self&&self&&self.Object===Object&&self;function Pr(t){t.cleanupCallbacks.forEach((function(t){t()}))}Rr||Nr||Function("return this")();var Fr=function(t,e){return(Fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function qr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Fr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Qr=function(){return Qr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Qr.apply(this,arguments)};function Ir(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}"function"==typeof SuppressedError&&SuppressedError;var Ur={exports:{}},Dr={},zr=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable;var Gr=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var r,n,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var o in r=Object(arguments[s]))Jr.call(r,o)&&(i[o]=r[o]);if(zr){n=zr(r);for(var a=0;a<n.length;a++)Wr.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},Br="function"==typeof Symbol&&Symbol.for,Hr=Br?Symbol.for("react.element"):60103,Kr=Br?Symbol.for("react.portal"):60106,Yr=Br?Symbol.for("react.fragment"):60107,Xr=Br?Symbol.for("react.strict_mode"):60108,Zr=Br?Symbol.for("react.profiler"):60114,tn=Br?Symbol.for("react.provider"):60109,en=Br?Symbol.for("react.context"):60110,rn=Br?Symbol.for("react.forward_ref"):60112,nn=Br?Symbol.for("react.suspense"):60113,sn=Br?Symbol.for("react.memo"):60115,on=Br?Symbol.for("react.lazy"):60116,an="function"==typeof Symbol&&Symbol.iterator;function cn(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var un={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ln={};function dn(t,e,r){this.props=t,this.context=e,this.refs=ln,this.updater=r||un}function hn(){}function fn(t,e,r){this.props=t,this.context=e,this.refs=ln,this.updater=r||un}dn.prototype.isReactComponent={},dn.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(cn(85));this.updater.enqueueSetState(this,t,e,"setState")},dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},hn.prototype=dn.prototype;var pn=fn.prototype=new hn;pn.constructor=fn,Gr(pn,dn.prototype),pn.isPureReactComponent=!0;var gn={current:null},mn=Object.prototype.hasOwnProperty,yn={key:!0,ref:!0,__self:!0,__source:!0};function vn(t,e,r){var n,i={},s=null,o=null;if(null!=e)for(n in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(s=""+e.key),e)mn.call(e,n)&&!yn.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===i[n]&&(i[n]=a[n]);return{$$typeof:Hr,type:t,key:s,ref:o,props:i,_owner:gn.current}}function wn(t){return"object"==typeof t&&null!==t&&t.$$typeof===Hr}var _n=/\/+/g,bn=[];function xn(t,e,r,n){if(bn.length){var i=bn.pop();return i.result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function jn(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>bn.length&&bn.push(t)}function Sn(t,e,r,n){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hr:case Kr:s=!0}}if(s)return r(n,t,""===e?"."+$n(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var o=0;o<t.length;o++){var a=e+$n(i=t[o],o);s+=Sn(i,a,r,n)}else if(null===t||"object"!=typeof t?a=null:a="function"==typeof(a=an&&t[an]||t["@@iterator"])?a:null,"function"==typeof a)for(t=a.call(t),o=0;!(i=t.next()).done;)s+=Sn(i=i.value,a=e+$n(i,o++),r,n);else if("object"===i)throw r=""+t,Error(cn(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}function kn(t,e,r){return null==t?0:Sn(t,"",e,r)}function $n(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function Tn(t,e){t.func.call(t.context,e,t.count++)}function Cn(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?On(t,n,r,(function(t){return t})):null!=t&&(wn(t)&&(t=function(t,e){return{$$typeof:Hr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(_n,"$&/")+"/")+r)),n.push(t))}function On(t,e,r,n,i){var s="";null!=r&&(s=(""+r).replace(_n,"$&/")+"/"),kn(t,Cn,e=xn(e,s,n,i)),jn(e)}var Mn={current:null};function An(){var t=Mn.current;if(null===t)throw Error(cn(321));return t}var En={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:gn,IsSomeRendererActing:{current:!1},assign:Gr};Dr.Children={map:function(t,e,r){if(null==t)return t;var n=[];return On(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;kn(t,Tn,e=xn(null,null,e,r)),jn(e)},count:function(t){return kn(t,(function(){return null}),null)},toArray:function(t){var e=[];return On(t,e,null,(function(t){return t})),e},only:function(t){if(!wn(t))throw Error(cn(143));return t}},Dr.Component=dn,Dr.Fragment=Yr,Dr.Profiler=Zr,Dr.PureComponent=fn,Dr.StrictMode=Xr,Dr.Suspense=nn,Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=En,Dr.cloneElement=function(t,e,r){if(null==t)throw Error(cn(267,t));var n=Gr({},t.props),i=t.key,s=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,o=gn.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)mn.call(e,c)&&!yn.hasOwnProperty(c)&&(n[c]=void 0===e[c]&&void 0!==a?a[c]:e[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Hr,type:t.type,key:i,ref:s,props:n,_owner:o}},Dr.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:en,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:tn,_context:t},t.Consumer=t},Dr.createElement=vn,Dr.createFactory=function(t){var e=vn.bind(null,t);return e.type=t,e},Dr.createRef=function(){return{current:null}},Dr.forwardRef=function(t){return{$$typeof:rn,render:t}},Dr.isValidElement=wn,Dr.lazy=function(t){return{$$typeof:on,_ctor:t,_status:-1,_result:null}},Dr.memo=function(t,e){return{$$typeof:sn,type:t,compare:void 0===e?null:e}},Dr.useCallback=function(t,e){return An().useCallback(t,e)},Dr.useContext=function(t,e){return An().useContext(t,e)},Dr.useDebugValue=function(){},Dr.useEffect=function(t,e){return An().useEffect(t,e)},Dr.useImperativeHandle=function(t,e,r){return An().useImperativeHandle(t,e,r)},Dr.useLayoutEffect=function(t,e){return An().useLayoutEffect(t,e)},Dr.useMemo=function(t,e){return An().useMemo(t,e)},Dr.useReducer=function(t,e,r){return An().useReducer(t,e,r)},Dr.useRef=function(t){return An().useRef(t)},Dr.useState=function(t){return An().useState(t)},Dr.version="16.14.0",Function.call.bind(Object.prototype.hasOwnProperty),Ur.exports=Dr;var Vn=Ur.exports,Ln={sdkSemver:"1.13.0",techVersion:Vn.version,sdkCode:"J"},Rn=function(t){function e(e){var r=t.call(this,e)||this;return r.imageRef=Vn.createRef(),r}return qr(e,t),e.prototype.componentDidMount=function(){this.htmlLayerInstance=new zt(this.imageRef.current,this.props.cldImg,this.props.plugins,Ln)},e.prototype.componentDidUpdate=function(){Pr(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Ln)},e.prototype.componentWillUnmount=function(){Pr(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},e.prototype.render=function(){var t=this.props;t.cldImg,t.plugins;var e=Ir(t,["cldImg","plugins"]);if("undefined"!=typeof window)return Vn.createElement("img",Qr({suppressHydrationWarning:!0},e,{ref:this.imageRef}));var r=function(t,e,r){var n=Ft(e);if(t)for(var i=0;i<t.length&&t[i](null,n);i++);return n.toURL(r?{trackedAnalytics:r}:null)}(this.props.plugins,this.props.cldImg,Ln);return Vn.createElement("img",Qr({},e,{src:r}))},e}(Vn.Component),Nn=["controls","loop","muted","poster","preload","autoplay","playsinline"];!function(t){function e(e){var r=t.call(this,e)||this;return r.videoRef=Ur.exports.createRef(),r.attachRef=r.attachRef.bind(r),r}qr(e,t),e.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new Lr(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},e.prototype.componentDidUpdate=function(){Pr(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},e.prototype.componentWillUnmount=function(){Pr(this.htmlVideoLayerInstance.htmlPluginState)},e.prototype.getVideoAttributes=function(){var t=this,e={};return Nn.forEach((function(r){r in t.props&&(e[r]=t.props[r])})),e},e.prototype.attachRef=function(t){this.videoRef.current=t;var e=this.props.innerRef;e&&(e instanceof Function?e(t):e.current=t)},e.prototype.render=function(){var t=this.props;t.cldVid,t.cldPoster,t.plugins,t.sources,t.innerRef,t.useFetchFormat;var e=Ir(t,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return Vn.createElement("video",Qr({},e,{ref:this.attachRef}))}}(Ur.exports.Component);const Pn=new class{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new Lt(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new Rt(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}({cloud:{cloudName:"dtaqusjav"}}),Fn={Mens:["person-happy-american-african-business_osy8q7","handsome-surprised-man-with-beard-choosing-shirt-shop_1_nlw6ok"],Womens:["darkskinned-woman-denim-outfit-looking-camera-pink-background-portrait-curly-girl-green-tee-smiling-isolated-backdrop_yof3qe","charming-woman-boho-suit-lilac-glasses-jumps-happily-portrait-curly-brunette-girl-beige-jacket-dancing-purple-backdrop_mgtlgi"],Kids:["medium-shot-smiley-kids-outdoors_lpgzdw","black-girl-wearing-casual-t-shirt_l3rpel"]},qn=()=>{const V=t(),L=e(),R=r(),[N,P]=n.useState(!1),{category:F}=i(),q=F||"Mens",{currentUser:Q}=s(),I=o((t=>t.catsection.data[q]))||{vendors:[],products:[],lastVisibleProduct:null,noMoreProducts:!1,loading:!1,error:null},{vendors:U,products:D,lastVisibleProduct:z,noMoreProducts:J,loading:W,error:G}=I,[B,H]=n.useState(""),[K,Y]=n.useState(D),[X,Z]=n.useState(U),[tt,et]=n.useState(!1),[rt,nt]=n.useState(!1),[it,st]=n.useState(!1),[ot,at]=n.useState(0),{text:ct,cldImage:ut}=(t=>{var e;const r=null==(e=Fn[t])?void 0:e[ot];if(!r)return{text:"",cldImage:null};const n=Pn.image(r).format("auto").quality("auto").resize(function(t,e){return new St("auto",t,e)}().gravity(ft()).width(1200).height(600));let i="";switch(t){case"Mens":i="Discover the Latest Men's Fashion";break;case"Womens":i="Explore the Latest Women's Fashion";break;case"Kids":i="Adorable Kids Collection";break;default:i="Explore Our Collection"}return{text:i,cldImage:n}})(q);n.useEffect((()=>{D.length||R(a({category:q,loadMore:!1}))}),[q,D.length,R]),n.useEffect((()=>{const t=()=>{st(window.scrollY>100)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]);const lt=n.useCallback((()=>{W||J||R(a({category:q,loadMore:!0}))}),[R,q,W,J]),[dt,ht]=n.useState({});n.useEffect((()=>{c(T,(t=>{t?(async t=>{try{const e=C(O(j,"follows"),M("userId","==",t)),r=await A(e),n={};r.forEach((t=>{n[t.data().vendorId]=!0})),ht(n)}catch(e){k.error("Error fetching followed vendors.")}})(t.uid):ht({})}))}),[]);n.useEffect((()=>{const t=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-200&&lt()};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[lt]),n.useEffect((()=>{if(B){const t=B.toLowerCase(),e=D.filter((e=>e.name.toLowerCase().includes(t)));Y(e),et(0===e.length)}else Y(D),et(!1)}),[B,D]),n.useEffect((()=>{if(B){const t=B.toLowerCase(),e=U.filter((e=>e.shopName.toLowerCase().includes(t)));Z(e)}else Z(U)}),[B,U]);const[pt,gt]=n.useState(!0),[mt,yt]=n.useState(0);n.useEffect((()=>{const t=()=>{const t=window.scrollY;gt(t<100),yt(t)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]),n.useEffect((()=>{const t=setInterval((()=>{at((t=>{var e;return t===((null==(e=Fn[q])?void 0:e.length)||1)-1?0:t+1}))}),5e3);return()=>clearInterval(t)}),[q]);return u.jsxs(u.Fragment,{children:[u.jsx(l,{title:`Shop ${q} | My Thrift`,description:`Explore ${q} products on My Thrift`,url:`https://www.shopmythrift.store/category/${q}`}),u.jsxs("div",{className:"mb-14",children:[u.jsx("div",{className:"absolute top-0 z-10 w-full mt-2 flex justify-between p-2",children:rt?u.jsxs("div",{className:"flex items-center w-full relative",children:[u.jsx(d,{className:"text-3xl text-white cursor-pointer mr-2",onClick:()=>{H(""),nt(!1),et(!1),Z(U),Y(D)}}),u.jsxs("div",{className:"relative w-full",children:[u.jsx("input",{type:"text",className:"w-full px-3 font-opensans text-black text-sm py-2 rounded-full focus:outline-none pr-8",placeholder:"Search categories...",value:B,onChange:t=>{const e=t.target.value.toLowerCase();H(e);const r=U.filter((t=>t.shopName.toLowerCase().includes(e))),n=D.filter((t=>t.name.toLowerCase().includes(e)));Z(r),Y(n),et(0===r.length&&0===n.length)}}),B&&u.jsx(f,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xl text-gray-400 cursor-pointer",onClick:()=>H("")})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>L(-1),children:u.jsx(d,{className:"text-4xl text-white"})}),u.jsx(h,{className:"text-3xl text-white",onClick:()=>nt(!0)})]})}),it&&!rt&&u.jsxs("div",{className:"sticky top-0 z-20 w-full flex items-center py-2 px-2 h-20 opacity-95 bg-white shadow-md",children:[u.jsx("button",{onClick:()=>L(-1),className:"p-1 rounded-full",children:u.jsx(d,{className:"text-3xl"})}),u.jsx("div",{className:"flex-grow text-xl font-opensans font-semibold",children:q})]}),u.jsxs("div",{className:"relative h-64 rounded-b-lg w-full",children:[ut&&u.jsx(Rn,{cldImg:ut,className:"absolute inset-0 w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:u.jsx("h1",{className:"text-white text-3xl text-center px-8 font-poppins",children:u.jsx(E,{options:{strings:[ct],autoStart:!0,loop:!0,delay:75}})})})]}),u.jsxs("div",{className:"p-3",children:[X.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-lg font-opensans font-semibold mb-2 mt-4",children:"Top Vendors"}),u.jsx("div",{className:"flex space-x-8 overflow-x-scroll",children:X.map((t=>{var e;return u.jsxs("div",{className:"w-full min-w-[250px] max-w-[250px] cursor-pointer",onClick:()=>L(`/store/${t.id}`),children:[u.jsx("img",{src:t.coverImageUrl||"https://images.saatchiart.com/saatchi/1750204/art/9767271/8830343-WUMLQQKS-7.jpg",alt:t.shopName||"Vendor Image",className:"w-full h-36 object-cover rounded-md"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"mt-2 text-lg font-opensans font-medium",children:(null==(e=t.shopName)?void 0:e.length)>12?`${t.shopName.slice(0,12)}...`:t.shopName}),u.jsxs("div",{className:"flex items-center font-opensans text-xs",children:[u.jsx(p,{className:"text-yellow-500 mr-1"}),u.jsx("span",{children:t.ratingCount>0?(t.rating/t.ratingCount).toFixed(1):0}),u.jsxs("span",{className:"ml-1",children:["(",t.ratingCount||0,")"]})]})]}),u.jsx("button",{className:`flex justify-center items-center w-24 h-9 text-sm ${dt[t.id]?"bg-customOrange text-white border-transparent":"bg-transparent text-black border border-black"} mt-3 px-4 py-2 rounded-md`,onClick:e=>{e.stopPropagation(),(async t=>{if(!Q)return void P(!0);const e=!dt[t];ht((r=>({...r,[t]:e})));try{await b(Q.uid,"follow",{},{collectionName:"usage_metadata",writeLimit:50,minuteLimit:8,hourLimit:40});const r=x(j,"follows",`${Q.uid}_${t}`);e?(await S(r,{userId:Q.uid,vendorId:t,createdAt:new Date}),k.success("You will be notified of new products and promos.")):(await $(r),k.success("Unfollowed."))}catch(r){ht((r=>({...r,[t]:!e}))),k.error(`Error: ${r.message}`)}})(t.id)},children:dt[t.id]?u.jsxs("div",{className:"flex",children:[u.jsx("h2",{className:"text-xs font-opensans",children:"Followed"}),u.jsx(g,{className:"ml-2 mt-0.5 text-xs"})]}):u.jsxs("div",{className:"flex",children:[u.jsx("h2",{className:"text-xs font-opensans font-medium",children:"Follow"}),u.jsx(m,{className:"ml-2 text-xs mt-0.5"})]})})]})]},t.id)}))})]}),K.length>0?u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-lg font-opensans font-semibold mb-2 mt-4",children:"Explore Products"}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:K.map((t=>u.jsx(y,{product:t},t.id)))})]}):!W&&!tt&&u.jsxs("div",{className:"flex flex-col items-center justify-center mt-4",children:[u.jsx("h2",{className:"text-center text-lg font-opensans font-semibold",children:"Nothing in this category yet"}),u.jsx("p",{className:"font-opensans text-gray-800 text-sm",children:"Please check back later for updates."})]}),W&&u.jsx("div",{className:"flex justify-center my-4",children:u.jsx(v,{strokeColor:"#f9531e",strokeWidth:"5",animationDuration:"0.75",width:"20",visible:!0})}),G&&u.jsx("p",{className:"text-red-600 font-semibold mt-4 text-center",children:G})]}),N&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",onClick:t=>{t.target===t.currentTarget&&P(!1)},children:u.jsxs("div",{className:"bg-white w-9/12 max-w-md rounded-lg px-3 py-4 flex flex-col",onClick:t=>t.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("div",{className:"w-8 h-8 bg-rose-100 flex justify-center items-center rounded-full",children:u.jsx(w,{className:"text-customRichBrown"})}),u.jsx("h2",{className:"text-lg font-opensans font-semibold",children:"Please Log In"})]}),u.jsx(_,{onClick:()=>P(!1),className:"text-black text-xl mb-6 cursor-pointer"})]}),u.jsx("p",{className:"mb-6 text-xs font-opensans text-gray-800 ",children:"You need to be logged in to follow this vendor to recieve notifications. Please log in to your account, or create a new account if you dont have one, to continue."}),u.jsxs("div",{className:"flex space-x-16",children:[u.jsx("button",{onClick:()=>{L("/signup",{state:{from:V.pathname}}),P(!1)},className:"flex-1 bg-transparent py-2 text-customRichBrown font-medium text-xs font-opensans border-customRichBrown border rounded-full",children:"Sign Up"}),u.jsx("button",{onClick:()=>{L("/login",{state:{from:V.pathname}}),P(!1)},className:"flex-1 bg-customOrange py-2 text-white text-xs font-opensans rounded-full",children:"Login"})]})]})})]})]})};export{qn as default};
