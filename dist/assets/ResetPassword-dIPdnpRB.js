import{r as e,aU as s,h as t,j as a,S as r,cX as l,ai as n,aj as o,ak as i,a2 as c,_ as d,d2 as x,l as m}from"./index-CvIXhaMv.js";const u=()=>{const[u,p]=e.useState(""),[f,h]=e.useState(""),[b,w]=e.useState(!1),[g,j]=e.useState(!1),[y,N]=e.useState(!1),[v]=s(),k=t(),P=v.get("oobCode");return a.jsxs(a.Fragment,{children:[a.jsx(r,{title:"Reset Password - My Thrift",description:"Reset your password on My Thrift",url:"https://www.shopmythrift.store/reset-password"}),a.jsx("div",{className:"flex items-center justify-center bg-white px-3 py-4 min-h-screen",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("h2",{className:"text-2xl font-semibold font-poppins text-black mb-4",children:"Reset your Password"}),a.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[a.jsx(l,{className:"mr-2 text-xl"}),a.jsx("p",{className:"text-xs text-gray-700 font-light font-opensans",children:"Password must be at least 8 characters long, include an uppercase letter, a number, and a special character."})]}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(u))if(u===f){N(!0);try{await x(m,P,u),d.success("Your password has been reset successfully!"),k("/confirm-state")}catch(s){d.error("Failed to reset password. Please try again or request a new reset email.")}finally{N(!1)}}else d.error("Passwords do not match.");else d.error("Password must be at least 8 characters long, include an uppercase letter, a number, and a special character.")},children:[a.jsxs("div",{className:"mb-4 relative w-full",children:[a.jsx("label",{className:"block text-black font-opensans text-sm mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-5 pointer-events-none",children:a.jsx(n,{className:"text-xl text-gray-500"})}),a.jsx("input",{type:b?"text":"password",value:u,onChange:e=>p(e.target.value),className:"w-full h-12 bg-gray-100 pl-14 text-black font-opensans rounded-md border border-gray-300 text-base focus:outline-none focus:ring-2 focus:ring-customOrange",placeholder:"Enter new password",required:!0}),a.jsx("div",{onClick:()=>w(!b),className:"absolute inset-y-0 right-0 flex items-center pr-5 cursor-pointer",children:b?a.jsx(o,{className:"text-gray-500 text-xl"}):a.jsx(i,{className:"text-gray-500 text-xl"})})]})]}),a.jsxs("div",{className:"mb-6 relative w-full",children:[a.jsx("label",{className:"block text-black font-opensans text-sm mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-5 pointer-events-none",children:a.jsx(n,{className:"text-xl text-gray-500"})}),a.jsx("input",{type:g?"text":"password",value:f,onChange:e=>h(e.target.value),className:"w-full h-12 bg-gray-100 pl-14 text-black font-opensans rounded-md border border-gray-300 text-base focus:outline-none focus:ring-2 focus:ring-customOrange",placeholder:"Confirm new password",required:!0}),a.jsx("div",{onClick:()=>j(!g),className:"absolute inset-y-0 right-0 flex items-center pr-5 cursor-pointer",children:g?a.jsx(o,{className:"text-gray-500 text-xl"}):a.jsx(i,{className:"text-gray-500 text-xl"})})]})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full py-2.5 bg-customOrange text-white font-medium font-opensans rounded-full transition duration-200 flex items-center justify-center",children:y?a.jsx(c,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0}):"Reset Password"})]})]})})]})};export{u as default};
