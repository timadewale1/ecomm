import{u as s,c as e,r as t,av as r,j as o,G as i}from"./index-B6_tP4YQ.js";import{P as n}from"./ProductCard-CTMPZt-i.js";import{$ as a}from"./module-rdBSHQ9l.js";import{S as l}from"./SEO-CG8nsGhn.js";import{R as d}from"./index-BzTvhx-M.js";import{u as c}from"./useDispatch-DS0xcVHe.js";import"./userWriteHandler-DCDkCU98.js";import"./emotion-unitless.esm-sScrWPmR.js";const m=()=>{const m=s(),u=c(),{products:x,noMoreProducts:p,loading:f,error:j}=e((s=>s.personalDiscountsPage)),[h,w]=t.useState(!0),[g,v]=t.useState(0);return t.useEffect((()=>{u(r({loadMore:!1}))}),[u]),t.useEffect((()=>{const s=()=>{const s=window.scrollY;w(!(s>g)),v(s),window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-100&&(f||p||u(r({loadMore:!0})))};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)}),[u,f,p,g]),o.jsxs(o.Fragment,{children:[o.jsx(l,{title:" Discounts Today | Deals & Offers",description:"Browse  discounts from and get crazy deals now!",url:"https://www.shopmythrift.store/personal-discounts"}),o.jsxs("div",{className:"px-4 py-6",children:[o.jsx("div",{className:"fixed top-0 left-0 w-full bg-white z-10 px-2 py-6 shadow-md transition-transform duration-300 "+(h?"translate-y-0":"-translate-y-full"),children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(i,{className:"text-2xl cursor-pointer mr-2",onClick:()=>m(-1)}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("h2",{className:"text-lg font-opensans font-semibold",children:"Discounts"}),o.jsx(d,{className:"text-xl ml-1 text-green-700"})]})]})}),o.jsx("div",{className:"pt-16 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:x.map((s=>o.jsx(n,{product:s},s.id)))}),f&&o.jsx("div",{className:"flex justify-center my-4",children:o.jsx(a,{strokeColor:"#f9531e",strokeWidth:"5",animationDuration:"0.75",width:"20",visible:!0})}),!f&&0===x.length&&!j&&o.jsx("p",{className:"text-center mt-4 text-gray-600",children:"No personal discounts found."})]})]})};export{m as default};
