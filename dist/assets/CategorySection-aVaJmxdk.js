import{d as s,u as t,c as o,r as e,bJ as r,j as i,G as l}from"./index-B6_tP4YQ.js";import{P as a}from"./ProductCard-CTMPZt-i.js";import{$ as n}from"./module-rdBSHQ9l.js";import{S as d}from"./SEO-CG8nsGhn.js";import{u as c}from"./useDispatch-DS0xcVHe.js";import"./index-BzTvhx-M.js";import"./userWriteHandler-DCDkCU98.js";import"./emotion-unitless.esm-sScrWPmR.js";const m=()=>{var m;const u=s(),p=t(),f=c(),{products:h}=u.state||{},x=(null==(m=null==h?void 0:h[0])?void 0:m.productType)||"Products",j=x,w=o((s=>s.categoryProducts.data[j]))||{products:[],lastVisible:null,noMoreProducts:!1},{products:g,lastVisible:y,noMoreProducts:v}=w,P=o((s=>s.categoryProducts.loading));o((s=>s.categoryProducts.error));const[S,N]=e.useState(!0),[b,E]=e.useState(0);e.useEffect((()=>{0===g.length&&f(r({category:j,loadMore:!1}))}),[j,g,f]),e.useEffect((()=>{const s=()=>{const s=window.scrollY;N(s<=b),E(s),window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-100&&(P||v||f(r({category:j,loadMore:!0})))};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)}),[f,P,v,b,j]);const M=g.filter((s=>s.name.toLowerCase().includes(""))).sort(((s,t)=>0));return i.jsxs(i.Fragment,{children:[i.jsx(d,{title:`Shop ${x} | ShopMyThrift`,description:`Shop ${x} on ShopMyThrift`,url:`https://www.shopmythrift.store/producttype/${x}`}),i.jsxs("div",{className:"px-4 py-6",children:[i.jsx("div",{className:"fixed top-0 left-0 w-full bg-white z-10 px-2 py-6 shadow-md transition-transform duration-300 "+(S?"translate-y-0":"-translate-y-full"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(l,{className:"text-2xl cursor-pointer mr-2",onClick:()=>p(-1)}),i.jsx("h2",{className:"text-lg font-opensans font-semibold",children:x})]})}),i.jsx("div",{className:"pt-16 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:M.map((s=>i.jsx(a,{product:s},s.id)))}),P&&i.jsx("div",{className:"flex justify-center my-4",children:i.jsx(n,{strokeColor:"#f9531e",strokeWidth:"5",animationDuration:"0.75",width:"20",visible:!0})})]})]})};export{m as default};
