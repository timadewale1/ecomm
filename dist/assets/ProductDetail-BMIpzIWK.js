import{R as e,d as s,o as t,j as a,L as n,r as i,q as r,c as o,a as l,w as c,T as d,g as x,M as u,b as m,_ as f,s as p,e as h,u as b,f as y,h as g,i as k,k as v,l as j,m as N,n as w,p as S,t as C,v as I,x as P,y as A,z as D,A as O,B as E,C as F,D as B,E as G,F as z,S as V,G as M,H as U,I as T,J as L,K as $,P as q,N as R,O as H,Q as Y,$ as W,U as _,V as Q,W as J,X as K,Y as X,Z,a0 as ee,a1 as se,a2 as te,a3 as ae,a4 as ne,a5 as ie,a6 as re,a7 as oe,a8 as le,a9 as ce,aa as de,ab as xe,ac as ue,ad as me}from"./index-CvIXhaMv.js";import{m as fe}from"./cartMerge-BMaHK3Vz.js";import{T as pe,a as he,b as be}from"./index-CGdwSzPY.js";import{L as ye,R as ge}from"./SimilarProducts-cBCWjwT5.js";/* empty css                 */import{S as ke,a as ve}from"./swiper-react-Ew1PjN2i.js";/* empty css               */import{A as je}from"./autoplay-B97rFgRE.js";import{f as Ne}from"./free-mode-c1c6xtYd.js";import{P as we}from"./Productnotofund-sGMAt8nV.js";import{S as Se}from"./safeImg-D5tiHBmg.js";const Ce=(e,s,t)=>Array.isArray(null==e?void 0:e.variants)?e.variants.find((e=>e.size===s&&e.color===t)):null;const Ie={nm:"Q and A",ddd:0,h:600,w:600,meta:{g:"@lottiefiles/toolkit-js 0.33.2"},layers:JSON.parse('[{"ty":4,"nm":"star 05","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":15},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":30},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":45},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":60},{"s":[100,100,100],"t":75}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[277.232,423.903,0],"ix":2},"r":{"a":0,"k":90,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"star 05","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[2.547,9.709],[0,0],[0,0],[10.144,-2.434],[0,0],[0,0],[-2.545,-9.712],[0,0],[0,0],[-10.141,2.434],[0,0]],"o":[[-10.141,-2.435],[0,0],[0,0],[-2.545,9.709],[0,0],[0,0],[10.144,2.434],[0,0],[0,0],[2.547,-9.712],[0,0],[0,0]],"v":[[21.035,-0.413],[0.432,-20.144],[-0.003,-21.804],[-0.433,-20.144],[-21.041,-0.413],[-22.768,0],[-21.041,0.415],[-0.433,20.146],[-0.003,21.804],[0.432,20.146],[21.035,0.415],[22.768,0]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9804,0.5373,0.3608],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"star 01","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":15},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":30},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":45},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":60},{"s":[100,100,100],"t":75}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[456.829,249.827,0],"ix":2},"r":{"a":0,"k":90,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"star 01","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[3.709,14.138],[0,0],[0,0],[14.771,-3.545],[0,0],[0,0],[-3.706,-14.141],[0,0],[0,0],[-14.766,3.544],[0,0]],"o":[[-14.766,-3.545],[0,0],[0,0],[-3.706,14.138],[0,0],[0,0],[14.771,3.544],[0,0],[0,0],[3.709,-14.142],[0,0],[0,0]],"v":[[30.629,-0.602],[0.628,-29.333],[-0.005,-31.751],[-0.631,-29.333],[-30.64,-0.602],[-33.155,0.001],[-30.64,0.605],[-0.631,29.336],[-0.005,31.751],[0.628,29.336],[30.629,0.605],[33.155,0.001]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9608,0.5804,0.0353],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"star 03","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":15},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":30},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":45},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":60},{"s":[100,100,100],"t":75}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[274,131.358,0],"ix":2},"r":{"a":0,"k":90,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"star 03","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[3.403,12.968],[0,0],[0,0],[13.55,-3.252],[0,0],[0,0],[-3.399,-12.973],[0,0],[0,0],[-13.546,3.251],[0,0]],"o":[[-13.546,-3.252],[0,0],[0,0],[-3.4,12.969],[0,0],[0,0],[13.55,3.251],[0,0],[0,0],[3.403,-12.972],[0,0],[0,0]],"v":[[28.097,-0.552],[0.576,-26.908],[-0.004,-29.125],[-0.579,-26.908],[-28.107,-0.552],[-30.414,0],[-28.107,0.554],[-0.579,26.91],[-0.004,29.125],[0.576,26.91],[28.097,0.554],[30.414,0]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[1,0.7451,0.1059],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3},{"ty":4,"nm":"star 04","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":0},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":15},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":30},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":45},{"s":[100,100,100],"t":60}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[198.356,395.808,0],"ix":2},"r":{"a":0,"k":90,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"star 04","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[5.107,19.463],[0,0],[0,0],[20.336,-4.88],[0,0],[0,0],[-5.102,-19.468],[0,0],[0,0],[-20.329,4.879],[0,0]],"o":[[-20.328,-4.88],[0,0],[0,0],[-5.102,19.463],[0,0],[0,0],[20.335,4.879],[0,0],[0,0],[5.106,-19.468],[0,0],[0,0]],"v":[[42.167,-0.828],[0.865,-40.382],[-0.006,-43.709],[-0.869,-40.382],[-42.182,-0.828],[-45.644,0],[-42.182,0.831],[-0.869,40.384],[-0.006,43.709],[0.865,40.384],[42.167,0.831],[45.644,0]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9804,0.902,0.3608],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4},{"ty":4,"nm":"star 02","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":0},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":15},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100,100,100],"t":30},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[0,0,100],"t":45},{"s":[100,100,100],"t":60}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[399.064,207.888,0],"ix":2},"r":{"a":0,"k":90,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"star 02","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[2.23,8.501],[0,0],[0,0],[8.882,-2.132],[0,0],[0,0],[-2.228,-8.503],[0,0],[0,0],[-8.879,2.13],[0,0]],"o":[[-8.879,-2.132],[0,0],[0,0],[-2.228,8.5],[0,0],[0,0],[8.882,2.131],[0,0],[0,0],[2.231,-8.503],[0,0],[0,0]],"v":[[18.417,-0.361],[0.378,-17.637],[-0.003,-19.09],[-0.38,-17.637],[-18.424,-0.361],[-19.936,0.001],[-18.424,0.364],[-0.38,17.639],[-0.003,19.09],[0.378,17.639],[18.417,0.364],[19.936,0.001]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9922,0.8941,0.0353],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5},{"ty":4,"nm":"question","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[164,345.582,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[164,345.582,0],"t":0,"ti":[0,0,0],"to":[0,0,0]},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[164,330.582,0],"t":37.5,"ti":[0,0,0],"to":[0,0,0]},{"s":[164,345.582,0],"t":75}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[3.14,-3.14],[-3.027,-3.027],[0,0],[3.14,0],[0,13.681],[-13.681,0],[0,-13.344],[2.243,-3.476]],"o":[[0,0],[-3.252,-3.027],[-2.916,2.916],[0,0],[-2.803,1.233],[-13.681,0],[0,-13.568],[13.457,0],[0,4.486],[0,0]],"v":[[20.857,12.111],[17.942,9.307],[6.728,9.307],[6.728,20.184],[8.97,22.426],[-0.001,24.221],[-24.334,-0.113],[-0.001,-24.222],[24.221,-0.113],[20.857,12.111]]},"ix":2}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":2,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,9.532],[23.213,0],[0,-23.324],[-23.212,0],[-6.504,4.261],[0,0],[-3.028,3.14],[2.915,2.803]],"o":[[5.271,-6.953],[0,-23.324],[-23.212,0],[0,23.549],[8.187,0],[0,0],[3.252,3.252],[3.027,-3.14],[0,0]],"v":[[33.753,25.118],[42.163,-0.113],[-0.001,-42.163],[-42.163,-0.113],[-0.001,42.163],[22.202,35.66],[25.454,39.023],[36.781,39.023],[36.781,28.146]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[1,1,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[248.475,252.299],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[47.342,0],[0,-47.342],[-7.892,-12.97],[0,0],[0,0],[-14.759,0],[0,47.342]],"o":[[-47.342,0],[0,16.292],[0,0],[0,0],[12.126,6.569],[47.342,0],[0,-47.342]],"v":[[0,-89.291],[-85.72,-3.571],[-73.282,40.922],[-85.72,89.291],[-40.772,71.849],[0,82.149],[85.72,-3.571]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9765,0.3255,0.1176],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[249.72,256.291],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":6},{"ty":4,"nm":"answer","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[445.44,425.582,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[445.44,425.582,0],"t":0,"ti":[0,0,0],"to":[0,0,0]},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[445.44,440.582,0],"t":38,"ti":[0,0,0],"to":[0,0,0]},{"s":[445.44,425.582,0],"t":75}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-9.019,9.334],[0.064,-11.075],[9.147,9.334]]},"ix":2}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":2,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[2.13,0.897],[2.242,-0.897],[0.897,-2.131],[0,0],[-4.485,-1.906],[-2.355,5.159],[0,0],[0,0],[0,0],[-3.7,1.906],[2.018,4.486]],"o":[[0,0],[-1.01,-2.131],[-2.243,-0.897],[-2.019,0.897],[0,0],[-2.019,4.486],[3.925,1.682],[0,0],[0,0],[0,0],[2.354,5.271],[4.374,-2.242],[0,0]],"v":[[37.406,28.846],[8.363,-36.081],[3.653,-40.791],[-3.636,-40.791],[-8.346,-36.081],[-37.389,28.846],[-32.904,40.62],[-21.13,36.022],[-17.093,27.164],[17.22,27.164],[21.145,36.022],[32.919,40.62],[37.406,28.846]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[1,1,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[360.486,328.271],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 2","ix":2,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,16.292],[47.342,0],[0,-47.342],[-47.342,0],[-12.125,6.569],[0,0],[0,0]],"o":[[0,-47.342],[-47.342,0],[0,47.342],[14.759,0],[0,0],[0,0],[7.892,-12.97]],"v":[[85.72,-3.571],[0,-89.291],[-85.72,-3.571],[0,82.149],[40.772,71.849],[85.72,89.291],[73.282,40.922]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.349,0.1961,0.6824],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[359.72,336.291],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":7},{"ty":4,"nm":"circle","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[300,300,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"circle","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,136.102],[-136.103,0],[0,-136.104],[136.102,0]],"o":[[-136.103,0],[0,-136.104],[136.102,0],[0,136.102],[0,0]],"v":[[-0.001,246.832],[-246.831,0.002],[-0.001,-246.831],[246.831,0.002],[-0.001,246.832]]},"ix":2}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":2,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,-140.61],[-140.608,0],[0,140.607],[140.608,0]],"o":[[-140.608,0],[0,140.607],[140.608,0],[0,-140.61],[0,0]],"v":[[-0.001,-255],[-255,0.002],[-0.001,255],[255,0.002],[-0.001,-255]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9294,0.9529,0.9882],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":8},{"ty":4,"nm":"background","sr":1,"st":0,"op":300,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[299.999,299.999,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"background","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,-118.78],[-118.778,0],[0,118.776],[118.778,0]],"o":[[-118.778,0],[0,118.776],[118.778,0],[0,-118.78],[0,0]],"v":[[0,-215.071],[-215.071,0.003],[0,215.071],[215.071,0.003],[0,-215.071]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9882,0.9647,0.9294],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":9}]'),v:"5.12.1",fr:30,op:76,ip:0,assets:[]},Pe=()=>a.jsx("div",{className:"relative",children:a.jsx("div",{className:"flex w-full h-24 justify-center items-center",children:a.jsx(n,{className:"w-full h-full",animationData:Ie,loop:!0,autoplay:!0})})});function Ae({isOpen:e,onClose:s,product:t,onOfferSubmitted:n,hasVariants:b,selectedSize:y,selectedColor:g,currentUser:k,navigate:v,location:j}){const[N,w]=i.useState("custom"),[S,C]=i.useState(!1),[I,P]=i.useState(""),[A,D]=i.useState(null),O=Number((null==t?void 0:t.price)||0),E=300,F=Math.ceil(.6*O),B=e=>Number(e||0).toLocaleString("en-NG",{minimumFractionDigits:0,maximumFractionDigits:0}),G=(e,s)=>Math.max(0,Math.round(e*(1-s/100))),z=i.useMemo((()=>G(O,10)),[O]),V=i.useMemo((()=>G(O,25)),[O]),M=Number(I),U=""!==I&&!Number.isNaN(M),T=U&&M<F,L=U&&M>=O,$=F<=E&&O>E,[q,R]=i.useState(!1);i.useEffect((()=>{if(R(!1),"custom"!==N)return;const e=setTimeout((()=>R(!0)),3e3);return()=>clearTimeout(e)}),[I,N]);const H=$&&q&&U&&M<E,Y="p10"===N?z:"p25"===N?V:U?M:0,W=S||"custom"===N&&(!(U&&!L&&!T)||H)||Y<=0||null!==A&&A<=0;i.useEffect((()=>{e&&(null==k?void 0:k.uid)?(async()=>{try{const e=new Date;e.setHours(0,0,0,0);const s=r(o(l,"offers"),c("buyerId","==",k.uid),c("createdAt",">=",d.fromDate(e))),t=await x(s),a=Math.max(0,10-t.size);D(a)}catch(e){D(null)}})():D(null)}),[e,null==k?void 0:k.uid]);return a.jsx(u,{isOpen:e,onRequestClose:s,className:"modal-content-offer animate-modal-slide-up",overlayClassName:"offer-overlay",ariaHideApp:!1,children:a.jsxs("div",{className:"p-3 relative h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-base font-opensans font-semibold",children:"Make an offer"}),a.jsx("span",{className:"bg-customOrange -translate-y-2 text-white text-[10px] px-2 py-[2px]  font-satoshi rounded-md uppercase",children:"Beta"})]}),a.jsx(m,{className:"text-2xl cursor-pointer",onClick:s})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>w("p10"),className:"flex-1 border rounded-lg px-1.5 py-2 text-left font-opensans "+("p10"===N?"border-customOrange ring-2 ring-customOrange/20 bg-orange-50/40":"border-gray-200"),children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-base font-semibold",children:["₦",B(z)]}),a.jsx("span",{className:"text-xs text-customOrange mt-0.5",children:"10% off"}),a.jsxs("span",{className:"text-[9px] text-gray-500 mt-0.5",children:["You save ₦",B(O-z)]})]})}),a.jsx("button",{type:"button",onClick:()=>w("p25"),className:"flex-1 border rounded-lg px-1.5 py-2 text-left font-opensans "+("p25"===N?"border-customOrange ring-2 ring-customOrange/20 bg-orange-50/40":"border-gray-200"),children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-base font-semibold",children:["₦",B(V)]}),a.jsx("span",{className:"text-xs text-customOrange mt-0.5",children:"25% off"}),a.jsxs("span",{className:"text-[9px] text-gray-500 mt-0.5",children:["You save ₦",B(O-V)]})]})}),a.jsx("button",{type:"button",onClick:()=>w("custom"),className:"flex-1 border rounded-lg px-1.5 py-2 text-left font-opensans "+("custom"===N?"border-customOrange ring-2 ring-customOrange/20 bg-orange-50/40":"border-gray-200"),children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:"Custom"}),a.jsxs("span",{className:"text-base font-semibold mt-0.5",children:["₦",U?B(M):"—"]}),a.jsx("span",{className:"text-[9px] text-gray-500 mt-0.5",children:U?`You save ₦${B(Math.max(0,O-M))}`:"Set a price"})]})})]}),"custom"===N&&H&&a.jsxs("p",{className:"text-[11px] font-opensans text-red-500 mt-2",children:["Minimum offer is ₦",B(E),"."]}),"custom"===N&&a.jsxs("div",{className:"mt-3",children:[a.jsx("input",{type:"number",inputMode:"numeric",placeholder:`₦${B(O)}`,value:I,onChange:e=>P(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm font-opensans "+(T||$&&q&&M<E?"bg-gray-100":"")}),T&&a.jsxs("p",{className:"text-[11px] font-opensans text-red-500 mt-1",children:["Minimum allowed for this item is ₦",B(F)]}),q&&U&&M>=O&&a.jsxs("p",{className:"text-[11px] font-opensans text-red-500 mt-1",children:["Offer must be below the list price ₦",B(O),"."]})]}),a.jsxs("div",{className:"mt-4 pt-4",children:[a.jsx("button",{disabled:W,onClick:async()=>{if(!k)return v("/login",{state:{from:null==j?void 0:j.pathname}});if(null!==A&&A<=0)return f.error("Daily offer limit reached (10). Try again tomorrow.");if("custom"===N&&!U)return f.error("Enter your offer price.");if(Y<E)return f.error(`Minimum offer is ₦${B(E)}.`);if("custom"===N&&T)return f.error(`Minimum is ₦${B(F)} (max 40% off).`);if(Y>=O)return f.error("Offer must be below list price.");C(!0);try{const e={buyerId:k.uid,vendorId:t.vendorId,productId:t.id,amount:Y,note:"",variantAttributes:b?{size:y||null,color:g||null}:null,status:"pending",createdAt:p()};await h(o(l,"offers"),e),D((e=>"number"==typeof e?Math.max(0,e-1):e)),f.success("Offer sent. You’ll be notified when the vendor responds."),null==n||n(),null==s||s()}catch(e){f.error((null==e?void 0:e.message)||"Failed to send offer")}finally{C(!1)}},className:"w-full rounded-full h-11 font-opensans font-semibold text-white "+(W?"bg-gray-300 cursor-not-allowed":"bg-customOrange"),children:S?"Sending…":`Send offer ( ₦${B(Y)} )`}),a.jsx("div",{className:"mt-2 text-center text-[11px] font-opensans",children:null===A?a.jsx("span",{className:"text-gray-500",children:"Checking daily limit…"}):A>0?a.jsxs("span",{className:"text-gray-900",children:["Offers left today: ",a.jsx("b",{children:A}),"/",a.jsx("b",{children:10})]}):a.jsx("span",{className:"text-red-600 font-opensans",children:"You’ve reached your daily limit (10). Try again tomorrow."})})]})]})})}u.setAppElement("#root");const De=(e,s=300)=>{const t=i.useRef(0);return()=>{const a=Date.now();a-t.current<s&&e(),t.current=a}},Oe=(e,s,t,a,n)=>i=>{if(!e[i]||s.has(i)||a.has(i))return;n((e=>new Set(e).add(i)));const r=new Image;r.src=e[i],r.onload=()=>{t((e=>new Set(e).add(i))),n((e=>{const s=new Set(e);return s.delete(i),s}))},r.onerror=()=>n((e=>{const s=new Set(e);return s.delete(i),s}))},Ee=(e,s=300)=>{let t=0;return a=>{const n=Date.now();n-t<s&&e(),t=n}},Fe="hdHintMeta",Be=()=>a.jsx(T.div,{initial:{opacity:0,scale:.7},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{type:"spring",stiffness:260,damping:20},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx(T.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.6,ease:"easeInOut"},className:"px-3 py-1.5 bg-black bg-opacity-60 rounded-full backdrop-blur text-xs font-opensans text-white tracking-wide",children:"Double‑tap for HD version"})}),Ge=({items:s,interval:t=1800,className:n="",itemClassName:i=""})=>{const[r,o]=e.useState(0);return e.useEffect((()=>{if(!(null==s?void 0:s.length)||s.length<2)return;const e=setInterval((()=>o((e=>(e+1)%s.length))),t);return()=>clearInterval(e)}),[s,t]),(null==s?void 0:s.length)?1===s.length?a.jsx("span",{className:`${n} ${i}`,children:s[0]}):a.jsx("span",{className:`relative overflow-hidden inline-flex ${n}`,children:a.jsx(se,{initial:!1,mode:"wait",children:a.jsx(T.span,{initial:{y:12,opacity:0},animate:{y:0,opacity:1},exit:{y:-12,opacity:0},transition:{duration:.22},className:i,children:s[r]},r)})}):null},ze=()=>{var n,r;const{id:l}=b(),c=(e=>{const[s,t]=i.useState(!1);return i.useEffect((()=>{const s=Date.now(),a=JSON.parse(localStorage.getItem(Fe)||"{}"),{shownIds:n=[],totalShown:i=0,lastShown:r=0}=a,o=s-r;(i<2||2===i&&o>2592e5||3===i&&o>6048e5)&&!n.includes(e)&&(t(!0),localStorage.setItem(Fe,JSON.stringify({shownIds:[...n,e],totalShown:i+1,lastShown:s})))}),[e]),i.useEffect((()=>{if(!s)return;const e=setTimeout((()=>t(!1)),4e3);return()=>clearTimeout(e)}),[s]),s})(l),d=y(),x=g(),{product:Ie,loading:De,error:ze}=k((e=>e.product)),[Ve,Me]=i.useState(""),[Ue,Te]=i.useState(1),[Le,$e]=i.useState(""),[qe,Re]=i.useState(!1),[He,Ye]=i.useState(!1),[We,_e]=i.useState(!0),[Qe,Je]=i.useState(""),[Ke,Xe]=i.useState(""),Ze=v(),es=new URLSearchParams(Ze.search).has("shared"),ss=null==Ie?void 0:Ie.vendorId,[ts,as]=i.useState([]),[ns,is]=i.useState(null),[rs,os]=i.useState(!1),[ls,cs]=i.useState(!1),[ds,xs]=i.useState({stockError:!1,success:!1,fetchError:!1,productNotFound:!1}),[us,ms]=i.useState(0),[fs,ps]=i.useState(""),{isActive:hs,vendorId:bs}=k((e=>e.stockpile)),[ys,gs]=i.useState(!1),[ks,vs]=i.useState(!1),[js,Ns]=i.useState(!1),[ws,Ss]=i.useState(!1),[Cs,Is]=i.useState(null),[Ps,As]=i.useState(!1),[Ds,Os]=i.useState(!1),[Es,Fs]=i.useState([]),[Bs,Gs]=i.useState([]),[zs,Vs]=i.useState(0),[Ms,Us]=i.useState([]),[Ts,Ls]=i.useState(!1),[$s,qs]=i.useState(!1),Rs=j.currentUser;k((e=>e.user.userData));const[Hs,Ys]=i.useState(!1),[Ws,_s]=i.useState(""),[Qs,Js]=i.useState(0),[Ks,Xs]=i.useState(""),[Zs,et]=i.useState(!1),[st,tt]=i.useState(!1),[at,nt]=i.useState([]),[it,rt]=i.useState(new Set),[ot,lt]=i.useState(new Set),ct=Oe(at,it,rt,ot,lt),dt=()=>tt(!0),xt=()=>tt(!1),ut=N(),mt=es&&!Rs,ft=k((e=>e.cart||{})),[pt,ht]=i.useState(!0),bt=i.useRef(0),yt="mythrift_offer_sent_once_v1",[gt,kt]=i.useState(!1),{addFavorite:vt,removeFavorite:jt,isFavorite:Nt}=w(),wt=Nt(null==Ie?void 0:Ie.id),{isActive:St=!1,vendorId:Ct=null}=k((e=>S(e)??{})),It=null==(n=Ze.state)?void 0:n.offerPrice;i.useEffect((()=>{if(es&&"number"==typeof It&&!Number.isNaN(It)){const e=Number(It).toLocaleString("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0});f.success(`You can now buy this item for ${e}`),x(Ze.pathname+Ze.search,{replace:!0,state:{}})}}),[es,It]),i.useEffect((()=>{const e=()=>{const e=window.scrollY;e>bt.current?ht(!1):ht(!0),bt.current=e};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)}),[]),i.useEffect((()=>{(async()=>{try{const e=s(ut,"products",l),t=await A(e);if(t.exists()){t.data().published?d(P(l)):(f.dismiss(),f.error("This product is no longer available."))}}catch(e){f.error("Failed to load product details.")}})()}),[l,d,x,ut]),i.useEffect((()=>{mt&&ss&&d(C(ss))}),[mt,ss,d]),i.useEffect((()=>{if(Ie&&Ie.variants){const e=Array.from(new Set(Ie.variants.map((e=>e.color)))),s=Array.from(new Set(Ie.variants.map((e=>e.size))));Fs(e),Gs(s),Je(""),Xe("")}else Fs([]),Gs([]),Je(""),Xe("")}),[Ie]);const Pt=i.useMemo((()=>hs&&bs===(null==Ie?void 0:Ie.vendorId)),[hs,bs,null==Ie?void 0:Ie.vendorId]);i.useEffect((()=>{var e;Ie&&Us((null==(e=Ie.imageUrls)?void 0:e.length)>1?[Ie.coverImageUrl,...Ie.imageUrls.filter((e=>e!==Ie.coverImageUrl))]:[Ie.coverImageUrl])}),[Ie]),i.useEffect((()=>{Ie&&(Us(Ie.imageUrls||[]),nt(Array.isArray(Ie.hdImageUrls)?Ie.hdImageUrls:[]),$e(Ie.coverImageUrl),ps(Ie.coverImageUrl),as(Ie.subProducts||[]))}),[Ie]);const At=null==Ie?void 0:Ie.isFashion,Dt=e.useMemo((()=>Array.isArray(null==Ie?void 0:Ie.variants)?Ie.variants:[]),[Ie]);i.useEffect((()=>{var e,s;if(Ie&&Ke&&Qe){const t=I({vendorId:Ie.vendorId,productId:Ie.id,isFashion:At,selectedSize:Ke,selectedColor:Qe,subProductId:null==ns?void 0:ns.subProductId}),a=null==(s=null==(e=null==ft?void 0:ft[Ie.vendorId])?void 0:e.products)?void 0:s[t];a?(cs(!0),Te(a.quantity),os(!0)):(cs(!1),Te(1),os(!1))}}),[ft,Ie,Ke,Qe,ns]),i.useEffect((()=>{Ie&&as(Ie.subProducts||[])}),[Ie]);const Ot=e=>{var s;null==(s=Ut.current)||s.scrollIntoView({behavior:"smooth",block:"start"}),is(e),ps(e.images[0]),Je(e.color),Xe(e.size),Us(e.images||[]),Fs([e.color]),nt([]),rt(new Set),lt(new Set),Gs([e.size])},Et=async e=>{e.stopPropagation();const t=wt;if(wt?jt(Ie.id):vt(Ie),Rs)try{await O(Rs.uid,"favorite",{},{collectionName:"usage_metadata",writeLimit:50,minuteLimit:10,hourLimit:80,dayLimit:120});const e=s(ut,"users",Rs.uid,"favorites",Ie.id),a=s(ut,"vendors",Ie.vendorId);t?await de(e):(await xe(e,{productId:Ie.id,vendorId:Ie.vendorId,name:Ie.name,price:Ie.price,createdAt:new Date}),await ue(a,{likesCount:me(1)}))}catch(a){t?vt(Ie):jt(Ie.id),f.error(a.message||"Failed to update favorites. Please try again.")}},Ft=i.useRef(null),Bt=k((e=>{var s,t;return(null==(t=null==(s=e.cart)?void 0:s[ss])?void 0:t.products)||{}}));i.useMemo((()=>Object.values(Bt).reduce(((e,s)=>e+(s.quantity||0)),0)),[Bt]);const Gt=e=>Number(e||0).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2,maximumFractionDigits:2});i.useEffect((()=>{if(Ie&&Ie.variants){const e=Array.from(new Set(Ie.variants.map((e=>e.size))));Gs(e)}}),[Ie]),i.useEffect((()=>{if(Ie&&Ie.variants){const e=Array.from(new Set(Ie.variants.map((e=>e.color)))),s=Array.from(new Set(Ie.variants.map((e=>e.size))));Fs(e),Gs(s),Je(""),Xe("")}else Fs([]),Gs([]),Je(""),Xe("")}),[Ie]);const zt=()=>{var e;is(null),ps(Le),Je(""),Xe("");const s=Array.from(new Set(Ie.variants.map((e=>e.color)))),t=Array.from(new Set(Ie.variants.map((e=>e.size))));Fs(s),Gs(t),Us((null==(e=Ie.imageUrls)?void 0:e.length)>1?[Ie.coverImageUrl,...Ie.imageUrls.filter((e=>e!==Ie.coverImageUrl))]:[Ie.coverImageUrl])};i.useEffect((()=>{if(Array.isArray(null==Ie?void 0:Ie.variants)){if(Qe&&Ke){const e=Ce(Ie,Ke,Qe);Vs(e?e.stock:0)}}else Vs(0)}),[Ie,Qe,Ke]),i.useEffect((()=>{d(P(l)).catch((e=>{f.error("Failed to load product details.")}))}),[d,l]),i.useEffect((()=>{Ie&&($e(Ie.coverImageUrl),Me(Ie.coverImageUrl))}),[Ie]),i.useEffect((()=>{Ie&&Ie.vendorId&&Vt(Ie.vendorId)}),[Ie]);const Vt=async e=>{try{const t=s(ut,"vendors",e),a=await A(t);a.exists()&&Is(a.data())}catch(t){}finally{_e(!1)}};!(null==Ie?void 0:Ie.name)||Ie.name,!(null==Ie?void 0:Ie.description)||Ie.description,(null==Ie?void 0:Ie.coverImageUrl)?Ie.coverImageUrl:window.location.origin;const Mt=()=>{window.scrollY>50?Re(!0):Re(!1)};i.useEffect((()=>(window.addEventListener("scroll",Mt),()=>{window.removeEventListener("scroll",Mt)})),[]);const Ut=i.useRef(null),Tt=i.useCallback((()=>{var e,s;if(!Ie)return;if(At){if(!Ke)return f.error("Please select a size first!");if(!Qe)return f.error("Please select a color first!")}if(!Ie.id||!Ie.vendorId)return void f.error("Product or Vendor ID is missing. Cannot add to cart!");let t=0;if(ns)t=ns.stock;else if(At){const e=Ce({variants:Dt},Ke,Qe);if(!e)return void f.error("Selected variant is not available!");t=e.stock}else t=Number(Ie.stockQuantity??Ie.stock??1);if(Ue>t)return void f.error("Selected quantity exceeds stock availability!");const a={...Ie,quantity:Ue,selectedSize:Ke,selectedColor:Qe,selectedImageUrl:fs,selectedSubProduct:ns,subProductId:ns?ns.subProductId:null},n=I({vendorId:Ie.vendorId,productId:Ie.id,isFashion:At,selectedSize:Ke,selectedColor:Qe,subProductId:null==ns?void 0:ns.subProductId}),i=null==(s=null==(e=null==ft?void 0:ft[Ie.vendorId])?void 0:e.products)?void 0:s[n];d(D(i?{...i,quantity:Ue}:a,!0)),cs(!0),f.success(Pt?`${Ie.name} added to Pile!`:`Added ${Ie.name} to cart!`)}),[Ie,Ue,Ke,Qe,ns,d,fs,ft]),Lt=i.useCallback((()=>{localStorage.getItem(yt)||(kt(!0),localStorage.setItem(yt,JSON.stringify({seen:!0,ts:Date.now()}))),Ns(!1)}),[]),$t=i.useCallback((async()=>{const e=Ws.trim();if(!e)return f.error("Please enter a question.");gs(!0);try{await O(Rs.uid,"askQuestion",{},{dayLimit:20})}catch(t){return gs(!1),f.error(t.message)}const s={productId:l,productName:Ie.name,vendorId:Ie.vendorId,customerId:Rs.uid,question:e,status:"open",createdAt:p(),hasRead:!1,customerHasRead:!1,uid:Rs.uid,email:Rs.email};try{await h(o(ut,"inquiries"),s),Ys(!1),vs(!0)}catch(a){f.error("Failed to send. Please try again.")}finally{gs(!1)}}),[Ws,l,Ie,Rs,ut]),qt=(null==Rs?void 0:Rs.uid)??null,Rt=function(a,n,i){const[r,o]=e.useState(null);return e.useEffect((()=>{if(!a||!n||!i)return void o(null);const e=s(a,"priceLocks",`${n}_${i}`),r=t(e,(e=>{var s,t;if(!e.exists())return o(null);const a=e.data(),n=(null==(t=null==(s=a.validUntil)?void 0:s.toMillis)?void 0:t.call(s))??0,i="active"===a.state&&n>Date.now();o(i?{...a,validUntilMs:n}:null)}),(()=>o(null)));return()=>r()}),[a,n,i]),r}(ut,qt,null==Ie?void 0:Ie.id),Ht=(null==Rt?void 0:Rt.effectivePrice)?Number(Rt.effectivePrice):null,Yt=Ht??Number((null==Ie?void 0:Ie.price)||0),{openChat:Wt}=E(),_t=i.useCallback((()=>{var e,s;if(!Ie)return;if(At&&(!Ke||!Qe))return f.error("Please select a size and color before adjusting quantity.");let t;if(ns)t=ns.stock;else if(At){const e=Ce({variants:Dt},Ke,Qe);if(!e)return void f.error("Selected variant is not available!");t=e.stock}else t=Number(Ie.stockQuantity??Ie.stock??1);if(Ue>=t)return void(ds.stockError||(f.error("Cannot exceed available stock!"),xs((e=>({...e,stockError:!0})))));const a=Ue+1,n=I({vendorId:Ie.vendorId,productId:Ie.id,isFashion:At,selectedSize:Ke,selectedColor:Qe,subProductId:null==ns?void 0:ns.subProductId});if(!(null==(s=null==(e=null==ft?void 0:ft[Ie.vendorId])?void 0:e.products)?void 0:s[n]))return f.error("Product not found in cart");d(F({vendorId:Ie.vendorId,productKey:n})),Te(a)}),[Ie,Ue,Ke,Qe,d,ds,ft,ns,At]),Qt=i.useCallback((()=>{var e,s;if(!Ie)return;if(At&&(!Ke||!Qe))return f.error("Please select a size and color before adjusting quantity.");if(Ue<=1)return f.error("Quantity cannot be less than 1");const t=Ue-1,a=I({vendorId:Ie.vendorId,productId:Ie.id,isFashion:At,selectedSize:Ke,selectedColor:Qe,subProductId:null==ns?void 0:ns.subProductId});if(!(null==(s=null==(e=null==ft?void 0:ft[Ie.vendorId])?void 0:e.products)?void 0:s[a]))return f.error("Product not found in cart");d(B({vendorId:Ie.vendorId,productKey:a})),Te(t)}),[Ie,Ue,Ke,Qe,d,ft,ns]),Jt=e=>e.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),Kt=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),Xt=Object.values(ft||{}).reduce(((e,s)=>s.products?e+Object.values(s.products).reduce(((e,s)=>e+(s.quantity||0)),0):e),0),Zt=((null==Ie?void 0:Ie.condition)||"").toLowerCase(),ea=Zt.includes("thrift"),sa=Zt.includes("defect"),ta=Zt.includes("brand new"),aa=ea||sa,na=e=>{if(!At)return!0;if(ns)return ns.size===e&&ns.stock>0;if(Qe){const s=Ce({variants:Dt},e,Qe);return s&&s.stock>0}return!0},ia=i.useCallback((()=>{if(!Ie||!Ie.id)return;if(At&&(!Ke||!Qe))return;const e=I({vendorId:Ie.vendorId,productId:Ie.id,isFashion:At,selectedSize:Ke,selectedColor:Qe,subProductId:null==ns?void 0:ns.subProductId});d(G({vendorId:Ie.vendorId,productKey:e})),cs(!1),Te(1),f.success(`${Ie.name} removed from cart!`)}),[d,Ie,Ke,Qe,ns,At]);!Ie||!Ie.size||Ie.size.split(",").map((e=>e.trim())),!Ie||!Ie.color||Ie.color.split(",").map((e=>e.trim()));const ra=Array.isArray(ts)&&ts.length>0,oa=Boolean(At&&Array.isArray(null==Ie?void 0:Ie.variants)&&Ie.variants.length>0),la=async()=>{try{const e=`https://mx.shopmythrift.store/product/${l}?shared=true`;await navigator.clipboard.writeText(`Hey, check out this item I saw on ${Cs.shopName}'s store on My Thrift: ${e}`),Ls(!0),f.success("Link copied!"),setTimeout((()=>Ls(!1)),2e3)}catch(e){f.error("Failed to copy the link. Please try again.")}};if(De)return a.jsx(z,{});if(Math.max(1,(()=>{if(ns)return Number(ns.stock||0);if(oa){if(!Ke||!Qe)return 0;const e=Ce({variants:Dt},Ke,Qe);return Number((null==e?void 0:e.stock)||0)}return Number((null==Ie?void 0:Ie.stockQuantity)??(null==Ie?void 0:Ie.stock)??0)})()),ze||!Ie)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[a.jsx(we,{}),a.jsxs("div",{className:"relative w-full bg-customOrange bg-opacity-40 border-2 border-customOrange rounded-lg p-4",children:[a.jsx("div",{className:"absolute top-2 left-4 w-4 h-4 bg-black rounded-full"}),a.jsx("div",{className:"absolute top-2 right-4 w-4 h-4 bg-black rounded-full"}),a.jsx("h1",{className:"text-2xl font-opensans mt-2 font-bold text-red-600 mb-2",children:"Product Not Found"}),a.jsx("p",{className:"text-lg text-gray-700 font-opensans mb-4",children:"It looks like this product has been removed from the inventory by the vendor."}),a.jsx("p",{className:"text-md font-opensans text-gray-500",children:"Please continue shopping for other great deals!"})]}),a.jsx("button",{className:"w-32 bg-customOrange font-opensans text-xs px-2 h-10 text-white rounded-lg mt-12",onClick:()=>x("/newhome"),children:"Back Home"})]});if(!(null==Ie?void 0:Ie.published))return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[a.jsx(we,{}),a.jsx("h1",{className:"text-2xl font-opensans font-bold text-red-600 mb-2",children:"Product Not Found"}),a.jsx("p",{className:"text-lg text-gray-700 font-opensans mb-4",children:"It looks like this product has been removed or unpublished by the vendor."}),a.jsx("button",{className:"w-32 bg-customOrange font-opensans text-xs px-2 h-10 text-white rounded-lg mt-12",onClick:()=>x("/newhome"),children:"Back Home"})]});const ca=Cs&&Cs.ratingCount>0?(Cs.rating/Cs.ratingCount).toFixed(1):"No ratings",da=ts&&ts.length>0,xa=()=>a.jsxs("div",{className:"alike-products p-3 mt-1",children:[a.jsx("h2",{className:"text-lg font-semibold font-opensans mb-2",children:"Similar Products"}),a.jsxs("div",{className:"flex gap-4 overflow-x-scroll",children:[a.jsxs("div",{className:"w-48 min-w-48 cursor-pointer",onClick:zt,children:[a.jsx("div",{className:"relative mb-2",children:a.jsx("img",{src:Le,alt:"Original image",className:"h-52 w-full object-cover rounded-lg"})}),a.jsx("p",{className:"text-sm font-opensans text-black font-normal",children:"Original"}),a.jsxs("p",{className:"text-lg font-opensans font-bold text-black",children:["₦",Jt(Ie.price)]}),Ie.discount&&Ie.discount.initialPrice&&"personal-freebies"!==Ie.discount.discountType&&a.jsxs("p",{className:"text-sm font-opensans text-gray-500 line-through",children:["₦",Jt(Ie.discount.initialPrice)]})]}),ts.map(((e,s)=>{const t=e.stock<=0;return a.jsxs("div",{className:"w-48 min-w-48 "+(t?"opacity-50 cursor-not-allowed":"cursor-pointer"),onClick:()=>{t||Ot(e)},children:[a.jsx("div",{className:"relative mb-2",children:a.jsx("img",{src:e.images[0],alt:`Sub-product ${s+1}`,className:"h-52 w-full object-cover rounded-lg"})}),a.jsx("p",{className:"text-sm font-opensans text-black font-normal",children:t?"Out of Stock":Ie.name}),a.jsxs("p",{className:"text-lg font-opensans font-bold text-black",children:["₦",Jt(Ie.price)]}),Ie.discount&&Ie.discount.initialPrice&&"personal-freebies"!==Ie.discount.discountType&&a.jsxs("p",{className:"text-sm font-opensans text-gray-500 line-through",children:["₦",Jt(Ie.discount.initialPrice)]})]},s)}))]})]});return a.jsxs(a.Fragment,{children:[a.jsx(V,{title:Ie.name,description:Ie.description,image:Ie.coverImageUrl,url:`https://www.shopmythrift.store/product/${Ie.id}`}),a.jsxs("div",{className:"relative pb-20",children:[a.jsx("div",{children:mt?a.jsx(a.Fragment,{children:a.jsx("div",{className:"px-2 fixed top-0 left-0 w-full h-20 py-10 bg-white z-20 shadow-md",children:a.jsx("div",{className:"flex items-center justify-between h-full",children:a.jsx("div",{className:"w-full ",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("img",{src:"/newlogo.png",alt:"Logo",onClick:()=>x("/newhome"),className:"h-8 w-16 object-contain"}),a.jsxs("div",{className:"flex items-center mr-2 space-x-0 relative",children:[a.jsx("button",{className:"w-10 h-10 translate-x-1 rounded-full backdrop-blur-md flex items-center justify-center",onClick:la,children:Ts?a.jsx(M,{className:"text-xl"}):a.jsx(U,{className:"text-xl"})}),a.jsx("button",{className:"w-10 h-10 rounded-full -translate-x-1 backdrop-blur-md flex items-center justify-center",onClick:Et,children:a.jsx(T.div,{animate:wt?{scale:[1,1.3,1]}:{scale:1},transition:{duration:.4,ease:"easeOut"},children:wt?a.jsx(L,{className:"text-red-500 text-2xl"}):a.jsx($,{className:"text-black text-2xl"})})}),!St&&a.jsxs("button",{className:"w-10 h-10 rounded-full backdrop-blur-md flex items-center justify-center",onClick:()=>x("/latest-cart",{state:{fromProductDetail:!0}}),children:[a.jsx(q,{className:"text-xl"}),Xt>0&&a.jsx("div",{className:"top-1 absolute right-1",children:a.jsx(R,{count:Xt})})]}),ss&&a.jsxs("button",{onClick:()=>x(`/store/${ss}?shared=true`),className:"bg-transparent border border-customRichBrown text-customRichBrown px-2 py-1.5 rounded-full font-opensans text-xs flex items-center gap-2",children:[a.jsx(H,{className:"text-sm"}),"View Store"]})]})]})})})})}):a.jsx(a.Fragment,{children:a.jsx("div",{className:" fixed top-0 left-0 w-full h-20 py-10 z-20 bg-white shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>x(-1),className:"w-10 h-10 rounded-full backdrop-blur-md flex items-center justify-center",children:a.jsx(Y,{className:"text-xl"})}),a.jsx("span",{className:"text-lg font-opensans font-semibold",children:"Details"})]}),a.jsxs("div",{className:"flex items-center mr-2 space-x-0 relative",children:[a.jsx("button",{className:"w-10 h-10 rounded-full backdrop-blur-md flex items-center justify-center",onClick:la,children:Ts?a.jsx(M,{className:"text-xl"}):a.jsx(U,{className:"text-xl"})}),a.jsx("button",{className:"w-10 h-10 rounded-full backdrop-blur-md flex items-center justify-center",onClick:Et,children:a.jsx(T.div,{animate:wt?{scale:[1,1.3,1]}:{scale:1},transition:{duration:.4,ease:"easeOut"},children:wt?a.jsx(L,{className:"text-red-500 text-2xl"}):a.jsx($,{className:"text-black text-2xl"})})}),!St&&a.jsxs("button",{className:"w-10 h-10 rounded-full backdrop-blur-md flex items-center justify-center",onClick:()=>x("/latest-cart",{state:{fromProductDetail:!0}}),children:[a.jsx(q,{className:"text-xl"}),Xt>0&&a.jsx("div",{className:"top-1 absolute right-1",children:a.jsx(R,{count:Xt})})]})]})]})})})}),a.jsx("div",{ref:Ut,className:"flex rounded-t-md justify-center h-[540px] relative mt-20",children:Ms.length>1?a.jsxs(a.Fragment,{children:[a.jsx(ke,{modules:[Ne,je],pagination:{clickable:!0},autoplay:{delay:7500,disableOnInteraction:!1},className:"product-images-swiper",preventClicks:!0,preventClicksPropagation:!0,onSlideChange:e=>Js(e.activeIndex),children:Ms.map(((e,s)=>a.jsx(ve,{children:a.jsxs("div",{className:"relative w-full h-full",onDoubleClick:()=>ct(s),onTouchEnd:Ee((()=>ct(s))),children:[a.jsx(Se,{src:it.has(s)&&at[s]?at[s]:e,alt:`${Ie.name} image ${s+1}`,className:"object-cover w-full h-full"}),ot.has(s)&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:a.jsx(W,{height:50,width:50,color:"#f9531e",secondaryColor:"rgba(0,0,0,0.2)",strokeWidth:4,ariaLabel:"loading"})}),it.has(s)&&at[s]&&a.jsx("div",{className:"absolute top-6 left-2 z-10",children:a.jsx(_,{className:"text-white bg-black bg-opacity-40 p-1 rounded-full text-xl",title:"HD image"})}),c&&0===s&&a.jsx(Be,{}),0===s&&Ie.discount&&a.jsx("div",{className:"absolute top-2 right-2 z-20",children:Ie.discount.discountType.startsWith("personal-freebies")?a.jsx("div",{className:"bg-customPink text-customOrange text-xs px-2 py-1.5 font-opensans font-medium rounded",children:Ie.discount.freebieText}):a.jsxs("div",{className:"bg-customPink text-customOrange text-xs px-2 py-1.5 font-opensans font-medium rounded",children:["-",Ie.discount.percentageCut,"%"]})}),0===s&&Ie.defectDescription&&a.jsx("div",{onClick:dt,className:"px-3 w-28 py-1 absolute bg-opacity-40 bottom-16 right-2 bg-black rounded-md cursor-pointer",children:a.jsx("p",{className:"text-[10px]  text-white font-opensans",children:"Tap to view defect description"})}),a.jsxs("div",{className:"absolute bottom-12 left-2 bg-white bg-opacity-40 px-2 py-1 rounded-lg shadow-md flex items-center space-x-2",children:[a.jsx("p",{className:"text-xs font-opensans text-gray-700",children:"Still not sure?"}),a.jsx("button",{onClick:()=>{Rs?Ys(!0):x("/login",{state:{from:Ze.pathname}})},className:"text-xs font-semibold font-opensans text-customOrange hover:underline focus:outline-none",children:"Ask a question"})]})]})},s)))}),a.jsx("div",{className:"absolute bottom-4 z-10 w-full flex justify-center",children:Ms.map(((e,s)=>a.jsx("div",{className:"cursor-pointer mx-1 rounded-full transition-all duration-300 "+(s===Qs?"bg-customOrange h-3 w-3":"bg-gray-300 h-2 w-2"),onClick:()=>(e=>{Js(e),document.querySelector(".swiper").swiper.slideTo(e)})(s)},s)))})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative w-full h-full",onDoubleClick:()=>ct(0),onTouchEnd:Ee((()=>ct(0))),children:[a.jsx(Q,{src:it.has(0)&&at[0]?at[0]:Ms[0],alt:`${Ie.name} image`,className:"object-cover w-full h-full rounded-b-lg"}),ot.has(0)&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:a.jsx(W,{height:50,width:50,color:"#f9531e",secondaryColor:"rgba(0,0,0,0.2)",strokeWidth:4,ariaLabel:"loading"})}),it.has(0)&&at[0]&&a.jsx("div",{className:"absolute top-6 left-2 z-10",children:a.jsx(_,{className:"text-white bg-black bg-opacity-40 p-1 rounded-full text-xl",title:"HD image"})}),c&&a.jsx(Be,{})]}),Ie.discount&&a.jsx("div",{className:"absolute top-10 right-2 ",children:Ie.discount.discountType.startsWith("personal-freebies")?a.jsx("div",{className:"bg-customPink text-customOrange text-xs px-2 py-1.5 font-opensans font-medium rounded",children:Ie.discount.freebieText}):a.jsxs("div",{className:"bg-customPink text-customOrange text-xs px-2 py-1.5 font-opensans font-medium rounded",children:["-",Ie.discount.percentageCut,"%"]})}),Ie.defectDescription&&a.jsxs("div",{onClick:dt,className:"px-3 w-28 py-1 absolute bg-opacity-40 bottom-16 right-2 bg-black rounded-md cursor-pointer",children:[a.jsxs("p",{className:"text-xs text-white font-opensans truncate",children:[Ie.defectDescription.slice(0,20)," ..."]}),a.jsx("span",{className:"text-[10px]  text-white font-opensans",children:"Tap to view defect"})]}),a.jsxs("div",{className:"absolute bottom-4 left-2 bg-white bg-opacity-60 px-2 py-1 rounded-lg shadow-md flex items-center space-x-2",children:[a.jsx("p",{className:"text-xs font-opensans text-gray-700",children:"Still not sure?"}),a.jsx("button",{onClick:()=>{Rs?Ys(!0):x("/login",{state:{from:Ze.pathname}})},className:"text-xs font-semibold font-opensans text-customOrange hover:underline focus:outline-none",children:"Ask a question"})]})]})}),a.jsxs("div",{className:"px-3 mt-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-sm font-opensans text-black font-normal ",children:Ie.name}),a.jsx("div",{className:"",children:Ie.condition&&Ie.condition.toLowerCase().includes("defect")?a.jsxs("div",{className:"flex  items-center mt-2",children:[a.jsx(pe,{className:"text-red-500   cursor-pointer"}),a.jsx("p",{className:"ml-2 text-xs font-opensans text-red-500",children:Ie.condition.replace(/:$/,"")})]}):"brand new"===Ie.condition.toLowerCase()?a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(he,{className:"text-green-700"}),a.jsx("p",{className:"ml-2 text-xs font-opensans text-green-700",children:"Brand New"})]}):"thrift"===Ie.condition.toLowerCase()?a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(he,{className:"text-yellow-500"}),a.jsx("p",{className:"ml-2 text-xs font-opensans text-yellow-500",children:"Thrift"})]}):null})]}),a.jsxs("p",{className:"text-2xl font-opensans items-center flex font-semibold text-black",children:[Gt(Yt)," ",Ht&&a.jsx("button",{type:"button",onClick:()=>Ss(!0),className:" ml-2 inline-flex  items-center gap-1 text-[9px] underline font-opensans  text-customOrange",children:a.jsx(J,{className:"text-base"})})]}),(()=>{const e=[];return Ht&&e.push(Gt(Number(Ie.price||0))),(null==Ie?void 0:Ie.discount)&&Ie.discount.initialPrice&&"personal-freebies"!==Ie.discount.discountType&&e.push(Gt(Number(Ie.discount.initialPrice))),e.length?a.jsx(Ge,{items:e,interval:1800,className:"mt-0.5 block",itemClassName:"text-lg font-opensans text-gray-500 line-through"}):null})(),We?a.jsx(ye,{className:"mr-20"}):Cs?a.jsxs("div",{className:"flex align- items-center mt-1",children:[a.jsx("p",{className:"text-sm font-opensans text-red-600 mr-2",children:Cs.shopName}),Cs.ratingCount>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-1 text-black font-medium ratings-text",children:ca}),a.jsx(K,{className:"text-yellow-500 ratings-text"})]})]}):a.jsx("p",{className:"text-xs font-opensans text-gray-500",children:"Vendor information not available"}),At&&Es.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{htmlFor:"color-select",className:"text-sm font-semibold text-black font-opensans mb-2 block",children:"Color"}),a.jsx(X,{options:Es.map((e=>({label:Kt(e),value:e}))),value:Qe?{label:Kt(Qe),value:Qe}:null,onChange:e=>{const s=e.value;Je(s);const t=Ie.variants.filter((e=>e.color===s)).map((e=>e.size));Gs(Array.from(new Set(t))),Xe("")},placeholder:"Select",className:"w-[109px] font-opensans text-sm",classNamePrefix:"custom-select",isSearchable:!1,styles:{control:(e,s)=>({...e,height:"2rem",borderColor:s.isFocused?"#f9531e":"#D1D5DB",borderRadius:"0.5rem",fontFamily:"Open Sans, sans-serif",fontSize:"0.75rem",color:"black",paddingLeft:"0.75rem"}),input:e=>({...e,fontFamily:"Open Sans, sans-serif",fontSize:"1rem",color:"black"}),placeholder:e=>({...e,fontFamily:"Open Sans, sans-serif",fontSize:"1rem",color:"#6B7280"})}})]}),At&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-sm font-semibold text-black font-opensans mb-2",children:"Sizes"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Bs.map(((e,s)=>{const t=na(e),n=Ke===e&&t;return a.jsxs("div",{onClick:()=>{t&&(e=>{na(e)&&Xe(Ke===e?"":e)})(e)},className:"relative py-2 px-4 border rounded-lg "+(n?"bg-customOrange text-white cursor-pointer":t?"bg-transparent text-black cursor-pointer":"bg-gray-200 text-black opacity-50 cursor-not-allowed"),style:{position:"relative"},children:[a.jsx("span",{className:"text-xs font-opensans font-semibold",children:e}),!t&&a.jsx("span",{className:"absolute inset-0 animate-pulse flex items-center justify-center bg-gray-800 bg-opacity-50  text-customOrange font-opensans font-semibold text-xs text-center rounded-lg",style:{top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:"Out of Stock"})]},s)}))})]}),a.jsxs("div",{className:"flex items-center mt-5 mb-2 cursor-pointer",onClick:()=>As(!0),children:[a.jsx("span",{className:"text-black text-md font-opensans whitespace-nowrap",children:"Product Details"}),a.jsx("span",{className:"mx-2 h-4 border-r border-gray-300"}),a.jsxs("span",{className:"text-xs text-gray-600 truncate font-opensans max-w-[140px]",children:[null==(r=Ie.description)?void 0:r.slice(0,20),"..."]}),a.jsx(Z,{className:"ml-auto text-2xl"})]}),St&&(null==Ie?void 0:Ie.vendorId)===Ct&&a.jsx(ee,{vendorId:Ct,quickMode:!0,ref:Ft,onQuickFlow:()=>setShowFastDrawer(!0)}),a.jsx(u,{isOpen:Ps,onRequestClose:()=>As(!1),className:"modal-content",overlayClassName:"modal-overlay backdrop-blur-md",children:a.jsxs("div",{className:"p-2 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-7 h-7 bg-rose-100 flex justify-center items-center rounded-full",children:a.jsx(be,{className:"text-customRichBrown"})}),a.jsx("h2",{className:"font-opensans text-base font-semibold",children:"Product Description"})]}),a.jsx(m,{onClick:()=>As(!1),className:"absolute top-2 right-2 text-gray-600 cursor-pointer text-2xl"})]})," ",a.jsx("p",{className:"text-gray-600 mt-2 font-opensans text-sm",children:Ie.description})]})}),a.jsx(se,{children:Hs&&a.jsxs(a.Fragment,{children:[a.jsx(T.div,{initial:{opacity:0},animate:{opacity:.8},exit:{opacity:0},transition:{duration:.3},onClick:()=>Ys(!1),className:"fixed inset-0 bg-black z-[8000]"}),a.jsxs(T.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:e=>e.stopPropagation(),transition:{type:"tween",duration:.3},className:"fixed bottom-0 left-0 h-60% right-0 z-[8100]  bg-white rounded-t-xl p-6 shadow-lg",children:[a.jsx("div",{children:a.jsx(Pe,{})}),a.jsx("h2",{className:"text-xl font-semibold font-ubuntu mb-2",children:"One-off question"}),a.jsx("p",{className:"text-xs font-opensans text-gray-600 mb-4",children:"This is a single ask use it if you’re unsure of product details or want to know more before buying. The vendor will reply as soon as possible."}),a.jsx("label",{className:"block text-xs font-medium font-opensans text-gray-700 mb-1",children:"Your email (We will send the response here)"}),a.jsx("input",{type:"email",value:Rs.email,readOnly:!0,className:"w-full mb-4 px-3 py-2 border font-opensans rounded bg-gray-100 text-sm"}),a.jsx("label",{className:"block text-xs font-medium font-opensans text-gray-700 mb-1",children:"Ask question here"}),a.jsx("textarea",{rows:3,placeholder:"what do you wanna know?...",value:Ws,onChange:e=>_s(e.target.value),maxLength:700,className:"w-full mb-4 px-3 py-2 border rounded resize-none font-opensans focus:outline-none text-base"}),a.jsx("div",{className:"flex px-4 justify-center ",children:a.jsx("button",{onClick:$t,disabled:ys,className:"px-4 py-2 bg-customOrange w-full font-opensans text-white rounded-full text-base font-semibold flex justify-center items-center",children:ys?a.jsx(te,{width:"24",strokeColor:"#fff",strokeWidth:"5"}):"Send"})})]})]})}),a.jsx(u,{isOpen:ws,onRequestClose:()=>Ss(!1),className:"modal-content-offer",overlayClassName:"offer-overlay backdrop-blur-md",ariaHideApp:!1,children:a.jsxs("div",{className:"p-3 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-7 h-7 bg-rose-100 flex justify-center items-center rounded-full",children:a.jsx(ae,{className:"text-customRichBrown"})}),a.jsx("h2",{className:"font-opensans text-base font-semibold",children:"About Offers"})]}),a.jsx(m,{onClick:()=>Ss(!1),className:"text-gray-600 hover:text-black text-xl leading-none","aria-label":"Close"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-sm text-gray-800 font-opensans",children:["You’re seeing a special price because a seller ",a.jsx("b",{children:"accepted"})," ","your offer or sent a ",a.jsx("b",{children:"counter-offer"})," you can buy at for a limited time."]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-2.5",children:a.jsxs("p",{className:"text-xs font-opensans text-gray-700",children:[a.jsx("b",{children:"How long is it valid?"})," Offers lock the price for up to"," ",a.jsx("span",{className:"font-semibold",children:"6 hours"}),".",(null==Rt?void 0:Rt.validUntil)&&a.jsxs(a.Fragment,{children:[" ","This one is valid until"," ",a.jsx("span",{className:"font-semibold",children:((null==(ua=Rt.validUntil)?void 0:ua.toDate)?Rt.validUntil.toDate():new Date(Rt.validUntil)).toLocaleString()}),"."]})]})}),a.jsxs("p",{className:"text-sm text-gray-800 font-opensans",children:[a.jsx("b",{children:"Which price applies?"})," If both a discount and an offer exist, the ",a.jsx("b",{children:"offer price takes precedence"})," for you while it’s active."]}),a.jsx("p",{className:"text-sm font-opensans text-gray-700",children:a.jsx("a",{href:"https://mythrift.tawk.help/article/sending-offers-on-my-thrift",target:"_blank",rel:"noopener noreferrer",className:"text-customOrange underline",children:"Read more in our Help Center"})})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:()=>Ss(!1),className:"px-4 py-2 bg-customOrange text-white font-opensans rounded-full",children:"Got it"})})]})})]}),da&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-t-8 border-gray-100 mt-4"}),a.jsx(xa,{})]}),a.jsx("div",{className:"border-t-8 border-gray-100 mt-4"}),a.jsx(ge,{product:Ie}),a.jsx(u,{isOpen:ks,onRequestClose:()=>vs(!1),overlayClassName:"fixed  inset-0 bg-black p-12 bg-opacity-50 z-[9000]",className:"absolute inset-x-4 top-1/4   py-6 px-4 bg-white rounded-lg  shadow-lg",closeTimeoutMS:300,ariaHideApp:!1,children:a.jsxs(T.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:300},className:"flex flex-col ",children:[a.jsxs("div",{className:"flex items-center  ",children:[a.jsx(ne,{className:"text-xl mr-2 text-customRichBrown "}),a.jsx("h2",{className:"text-base font-medium font-opensans ",children:"Message Sent!"})]}),a.jsx(ie,{onClick:()=>vs(!1),className:"absolute top-4 right-4"}),a.jsxs("p",{className:"text-sm mt-5 text-gray-800 font-opensans",children:[a.jsx("span",{className:"text-customOrange font-medium",children:We?a.jsx("span",{className:"inline-block",children:a.jsx(ye,{})}):Cs?a.jsx("span",{children:Cs.shopName}):a.jsx("span",{className:"text-xs text-gray-500",children:"Vendor information not available"})})," ","has your question and will reply within 6 hours or less. Please check your spam folder if you don’t see their answer in your email inbox."]})]})}),a.jsx(se,{children:gt&&a.jsxs(a.Fragment,{children:[a.jsx(T.div,{initial:{opacity:0},animate:{opacity:.6},exit:{opacity:0},transition:{duration:.2},onClick:()=>kt(!1),className:"fixed inset-0 bg-black z-[8000]"}),a.jsxs(T.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:280,damping:25},className:"fixed bottom-0 left-0 right-0 z-[8100] bg-white h-[35vh] rounded-t-2xl p-4",onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-3"}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-7 h-7 bg-rose-100 flex justify-center items-center rounded-full",children:a.jsx(ae,{className:"text-customRichBrown"})}),a.jsx("h2",{className:"font-opensans text-base font-semibold",children:"Offer sent"})]}),a.jsx("p",{className:"text-sm mt-6 text-gray-800 font-opensans mb-4",children:"Your offer has been sent. We’ll notify you when the vendor responds. Please check your spam folder if you don’t see their answer in your email inbox."}),a.jsxs("li",{className:"text-sm  text-gray-800 font-opensans mb-4",children:["If you need help,"," ",a.jsx("button",{id:"contact-support-tab",onClick:Wt,className:"text-customOrange underline",children:"contact support"}),"."]}),a.jsx("div",{className:"absolute left-0 right-0 bottom-4 flex justify-center",children:a.jsx("button",{onClick:()=>{kt(!1),x("/offers")},className:"px-6 py-2 bg-customOrange text-white font-opensans rounded-full font-semibold",children:"Go to My Offers"})})]})]})}),a.jsxs(u,{isOpen:st,onRequestClose:xt,contentLabel:"Product Defect Details",ariaHideApp:!1,className:"modal-content-defect",overlayClassName:"modal-overlay-defect",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-7 h-7 bg-red-100 flex justify-center items-center rounded-full",children:a.jsx(re,{className:"text-red-600"})}),a.jsx("h2",{className:"font-opensans text-base font-semibold",children:"Defect Details"})]})}),a.jsx("p",{className:"text-sm text-gray-800 font-opensans mb-4",children:Ie.defectDescription}),a.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 px-1 py-2 rounded-md shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold font-opensans text-yellow-700 mb-1",children:"Important Disclaimer"}),a.jsxs("p",{className:"text-xs text-yellow-800 font-opensans",children:["By purchasing this product, you acknowledge the disclosed defects."," ","By proceeding, you accept the product as-is."]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:xt,className:"bg-customOrange text-white font-opensans py-2 px-6 rounded-full",children:"Got it"})})]}),a.jsx(oe,{open:$s,onClose:()=>qs(!1),onComplete:e=>{qs(!1),Ns(!0)},mergeCart:fe,openDisclaimer:e=>s=>{s.preventDefault(),s.stopPropagation();const t=`${window.location.origin}${e}`;Xs(t),et(!0)},headerText:"Sign in to send an offer"}),a.jsx(Ae,{isOpen:js,onClose:()=>Ns(!1),product:Ie,hasSubProducts:ra,subProducts:ts,selectedSubProduct:ns,onSelectSubProduct:Ot,hasVariants:oa,selectedSize:Ke,selectedColor:Qe,currentUser:Rs,onOfferSubmitted:Lt,navigate:x,location:Ze}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-3 flex justify-between items-center",style:{background:"linear-gradient(to top, white, rgba(255,255,255,0.85) 55%, rgba(255,255,255,0) 99%)",zIndex:8e3},onClick:e=>e.stopPropagation(),children:ls?a.jsxs("div",{className:"flex w-full justify-between transition-all duration-500 ease-in-out transform "+(rs?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[a.jsx("button",{onClick:ia,className:"text-black font-opensans mr-4 bg-gray-100 rounded-full h-14 w-52 text-md font-bold",children:"Remove"}),a.jsxs("div",{className:"flex space-x-4 items-center",children:[a.jsx("button",{onClick:Qt,className:"flex items-center justify-center w-12 h-12 opacity-40 bg-customOrange text-white text-3xl rounded-full",children:a.jsx(le,{})}),a.jsx("span",{className:"font-opensans font-semibold text-lg",children:Ue}),a.jsx("button",{onClick:_t,className:"flex items-center justify-center w-12 h-12 bg-customOrange text-white text-3xl rounded-full",children:a.jsx(ce,{})})]})]}):ta?!At||Ke&&Qe?a.jsx("button",{onClick:()=>{Tt(),os(!0)},className:"bg-customOrange text-white h-12 rounded-full font-opensans font-semibold w-full transition-all duration-300 ease-in-out",children:Pt?"Add to Pile":"Add to Cart"}):a.jsx("button",{onClick:()=>{f.error("Please select size and color")},className:"bg-customOrange text-white h-12 rounded-full font-opensans font-semibold w-full transition-all duration-300 ease-in-out",children:Pt?"Add to Pile":"Add to Cart"}):aa?a.jsxs("div",{className:"flex w-full gap-2",children:[a.jsx("button",{onClick:()=>{Rs?Ns(!0):qs(!0)},className:"flex-1 h-12 rounded-full border border-gray-300 bg-white text-black font-opensans font-semibold transition-all duration-300 ease-in-out",children:"Make an offer"}),a.jsx("button",{onClick:()=>{if(At&&(!Ke||!Qe))return f.error("Please select size and color first");Tt(),os(!0)},className:"flex-1 h-12 rounded-full font-opensans font-semibold text-white transition-all duration-300 ease-in-out "+(!At||Ke&&Qe?"bg-customOrange":"bg-gray-300 cursor-not-allowed"),children:Pt?"Add to Pile":"Add to Cart"})]}):!At||Ke&&Qe?a.jsx("button",{onClick:()=>{Tt(),os(!0)},className:"bg-customOrange text-white h-12 rounded-full font-opensans font-semibold w-full transition-all duration-300 ease-in-out",children:Pt?"Add to Pile":"Add to Cart"}):a.jsx("button",{onClick:()=>{f.error("Please select size and color")},className:"bg-customOrange text-white h-12 rounded-full font-opensans font-semibold w-full transition-all duration-300 ease-in-out",children:Pt?"Add to Pile":"Add to Cart"})})]})]});var ua};export{ze as default,De as useDoubleTap,Oe as useHdLoader};
